{"version":3,"sources":["_version.ts","_Library.ts","BusyIndicator.ts","Primitives/MenuBase.ts","ContextMenu.ts","ContextMenuService.ts","DatePicker.ts","Enums.ts","Spinner.ts","UpDownBase.ts","DomainUpDown.ts","GridSplitter.ts","HeaderedItemsControl.ts","MenuItem.ts","NumericUpDown.ts","Separator.ts","SpinEventArgs.ts","TabControl.ts","TabItem.ts","TimePicker.ts","TreeView.ts","TreeViewItem.ts","UpDownParseErrorEventArgs.ts","UpDownParsingEventArgs.ts","CanvasItemsControl/CanvasItemsControl.ts","ContextMenu/RootVisualTracker.ts","DataForm/DataField.ts","DataForm/Dictionary.ts","DataForm/DataForm.ts","DataForm/DataFormInputType.ts","DataForm/PropertyDisplayInfo.ts","Internal/BindingSourceEvaluator.ts","Internal/DomainCoercer.ts","Internal/EventGesture.ts","Internal/FormattedRangeCoercer.ts","Internal/GridSplitterResizer.ts","Internal/ItemsControlHelper.ts","Internal/MultiClickHelper.ts","Internal/ObservableObjectCollection.ts","Internal/ScrollEx.ts","Internal/SelectionHandler.ts","Internal/SpinFlow.ts","Internal/TextBoxFormatter.ts","StarRating/Star.ts","StarRating/StarRating.ts","TabPanel/helpers.ts","TabPanel/TabPanel.ts","TabPanel/TabPanelUpdater.ts","Validation/compare.ts","Validation/FocusingInvalidControlEventArgs.ts","Validation/ValidationSummary.ts","Validation/ValidationSummaryItem.ts","Validation/ValidationSummaryItemSource.ts","ViewBox/helpers.ts","ViewBox/ViewBox.ts","ViewBox/ViewBoxUpdater.ts","WrapPanel/helpers.ts","WrapPanel/WrapPanel.ts","WrapPanel/WrapPanelUpdater.ts","TabPanel/arrange/TabPanelArrangePipeDef.ts","TabPanel/measure/TabPanelMeasurePipeDef.ts","ViewBox/processdown/ViewBoxProcessDownPipeDef.ts","WrapPanel/arrange/WrapPanelArrangePipeDef.ts","WrapPanel/measure/WrapPanelMeasurePipeDef.ts","TabPanel/arrange/tapins/doHorizontal.ts","TabPanel/arrange/tapins/doVertical.ts","TabPanel/measure/tapins/doHorizontal.ts","TabPanel/measure/tapins/doVertical.ts","WrapPanel/arrange/tapins/doHorizontal.ts","WrapPanel/arrange/tapins/doVertical.ts","WrapPanel/measure/tapins/doHorizontal.ts","WrapPanel/measure/tapins/doVertical.ts"],"names":[],"mappings":"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","file":"fayde.controls.js","sourcesContent":["module Fayde.Controls {\r\n    export var version = '0.21.0';\r\n}","module Fayde.Controls {\r\n    export var Library = TypeManager.resolveLibrary(\"lib://fayde.controls\");\r\n}","module Fayde.Controls {\r\n    export class BusyIndicator extends ContentControl {\r\n        static IsBusyProperty = DependencyProperty.Register(\"IsBusy\", () => Boolean, BusyIndicator, false);\r\n        static HasContentProperty = DependencyProperty.RegisterReadOnly(\"HasContent\", () => Boolean, BusyIndicator, false);\r\n        static BusyContentProperty = DependencyProperty.Register(\"BusyContent\", () => Object, BusyIndicator, undefined, (d: BusyIndicator, args) => d.OnBusyContentChanged(args.OldValue, args.NewValue));\r\n        static BusyContentTemplateProperty = DependencyProperty.Register(\"BusyContentTemplate\", () => DataTemplate, BusyIndicator);\r\n        static OverlayStyleProperty = DependencyProperty.Register(\"OverlayStyle\",() => Style,BusyIndicator);\r\n        IsBusy: boolean;\r\n        OverlayStyle: Style;\r\n        HasContent: boolean;\r\n        BusyContent: any;\r\n        BusyContentTemplate: DataTemplate;\r\n\r\n        protected OnBusyContentChanged(oldBusyContent: any, newBusyContent: any) {\r\n            this.SetCurrentValue(BusyIndicator.HasContentProperty, !!newBusyContent)\r\n        }\r\n\r\n        constructor() {\r\n            super();\r\n            this.DefaultStyleKey = BusyIndicator;\r\n        }\r\n    }\r\n}","\r\nmodule Fayde.Controls.Primitives {\r\n    export class MenuBase extends Fayde.Controls.ItemsControl {\r\n        static ItemContainerStyleProperty = DependencyProperty.Register(\"ItemContainerStyle\", () => Style, MenuBase);\r\n        ItemContainerStyle: Style;\r\n\r\n        IsItemItsOwnContainer(item: any): boolean { return item instanceof MenuItem || item instanceof Separator; }\r\n        GetContainerForItem(): UIElement { return new MenuItem(); }\r\n        PrepareContainerForItem(element: UIElement, item: any) {\r\n            super.PrepareContainerForItem(element, item);\r\n            var menuItem = <MenuItem>element;\r\n            if (!(menuItem instanceof MenuItem))\r\n                return;\r\n            menuItem.ParentMenuBase = this;\r\n            if (menuItem != item) {\r\n                var itemTemplate = this.ItemTemplate;\r\n                var itemContainerStyle = this.ItemContainerStyle;\r\n                if (itemTemplate != null)\r\n                    menuItem.SetValue(Fayde.Controls.ItemsControl.ItemTemplateProperty, itemTemplate);\r\n                if (itemContainerStyle != null && MenuBase.HasDefaultValue(menuItem, Controls.HeaderedItemsControl.ItemContainerStyleProperty))\r\n                    menuItem.SetValue(Controls.HeaderedItemsControl.ItemContainerStyleProperty, itemContainerStyle);\r\n                if (MenuBase.HasDefaultValue(menuItem, Controls.HeaderedItemsControl.HeaderProperty))\r\n                    menuItem.Header = item;\r\n                if (itemTemplate != null)\r\n                    menuItem.SetValue(Controls.HeaderedItemsControl.HeaderTemplateProperty, itemTemplate);\r\n                if (itemContainerStyle != null)\r\n                    menuItem.SetValue(FrameworkElement.StyleProperty, itemContainerStyle);\r\n            }\r\n        }\r\n        private static HasDefaultValue(control: Control, propd: DependencyProperty): boolean {\r\n            return control.ReadLocalValue(propd) === DependencyProperty.UnsetValue;\r\n        }\r\n    }\r\n}","/// <reference path=\"Primitives/MenuBase.ts\" />\r\n\r\nmodule Fayde.Controls {\r\n    export class ContextMenu extends Primitives.MenuBase {\r\n        static HorizontalOffsetProperty = DependencyProperty.Register(\"HorizontalOffset\", () => Number, ContextMenu, 0.0);\r\n        static VerticalOffsetProperty = DependencyProperty.Register(\"VerticalOffset\", () => Number, ContextMenu, 0.0);\r\n        static IsOpenProperty = DependencyProperty.Register(\"IsOpen\", () => Boolean, ContextMenu, false);\r\n        HorizontalOffset: number;\r\n        VerticalOffset: number;\r\n        IsOpen: boolean;\r\n\r\n        private OnHorizontalOffsetChanged (args: IDependencyPropertyChangedEventArgs) {\r\n            this.UpdateContextMenuPlacement();\r\n        }\r\n\r\n        private OnVerticalOffsetChanged (args: IDependencyPropertyChangedEventArgs) {\r\n            this.UpdateContextMenuPlacement();\r\n        }\r\n\r\n        private OnIsOpenChanged (args: IDependencyPropertyChangedEventArgs) {\r\n            if (this._SettingIsOpen)\r\n                return;\r\n            if (args.NewValue === true)\r\n                this.OpenPopup(this.$RootVisualTracker.mousePosition);\r\n            else\r\n                this.ClosePopup();\r\n        }\r\n\r\n        Opened = new RoutedEvent<RoutedEventArgs>();\r\n        Closed = new RoutedEvent<RoutedEventArgs>();\r\n\r\n        private $RootVisualTracker: contextmenu.RootVisualTracker;\r\n\r\n        constructor () {\r\n            super();\r\n            this.DefaultStyleKey = ContextMenu;\r\n            this.$RootVisualTracker = new contextmenu.RootVisualTracker(this);\r\n        }\r\n\r\n        OnKeyDown (e: Input.KeyEventArgs) {\r\n            switch (e.Key) {\r\n                case Input.Key.Escape:\r\n                    this.ClosePopup();\r\n                    e.Handled = true;\r\n                    break;\r\n                case Input.Key.Up:\r\n                    this.FocusNextItem(false);\r\n                    e.Handled = true;\r\n                    break;\r\n                case Input.Key.Down:\r\n                    this.FocusNextItem(true);\r\n                    e.Handled = true;\r\n                    break;\r\n            }\r\n            super.OnKeyDown(e)\r\n        }\r\n\r\n        OnMouseLeftButtonDown (e: Input.MouseButtonEventArgs) {\r\n            e.Handled = true;\r\n            super.OnMouseLeftButtonDown(e);\r\n        }\r\n\r\n        OnMouseRightButtonDown (e: Input.MouseButtonEventArgs) {\r\n            e.Handled = true;\r\n            super.OnMouseRightButtonDown(e);\r\n        }\r\n\r\n        private _Owner: DependencyObject = null;\r\n        get Owner (): DependencyObject {\r\n            return this._Owner;\r\n        }\r\n\r\n        set Owner (value: DependencyObject) {\r\n            if (this._Owner) {\r\n                var fe = this._Owner instanceof FrameworkElement ? <FrameworkElement>this._Owner : null;\r\n                if (fe)\r\n                    fe.MouseRightButtonDown.off(this._HandleOwnerMouseRightButtonDown, this);\r\n            }\r\n            this._Owner = value;\r\n            if (!this._Owner)\r\n                return;\r\n            fe = this._Owner instanceof FrameworkElement ? <FrameworkElement>this._Owner : null;\r\n            if (fe)\r\n                fe.MouseRightButtonDown.on(this._HandleOwnerMouseRightButtonDown, this);\r\n        }\r\n\r\n        private _PopupAlignmentPoint = new Point();\r\n        private _SettingIsOpen: boolean = false;\r\n        private _Popup: Controls.Primitives.Popup = null;\r\n        private _Overlay: Panel = null;\r\n\r\n        private _HandleOwnerMouseRightButtonDown (sender: any, e: Fayde.Input.MouseButtonEventArgs) {\r\n            this.OpenPopup(e.GetPosition(null));\r\n            e.Handled = true;\r\n        }\r\n\r\n        private _HandleOverlayMouseButtonDown (sender: any, e: Fayde.Input.MouseButtonEventArgs) {\r\n            this.ClosePopup();\r\n            e.Handled = true;\r\n        }\r\n\r\n        private _HandleContextMenuSizeChanged (sender: any, e: Fayde.SizeChangedEventArgs) {\r\n            this.UpdateContextMenuPlacement();\r\n        }\r\n\r\n        ChildMenuItemClicked () {\r\n            this.ClosePopup();\r\n        }\r\n\r\n        private UpdateContextMenuPlacement () {\r\n            var pap = this._PopupAlignmentPoint;\r\n            var full = this.$RootVisualTracker.getAvailableSize();\r\n\r\n            var x = Math.max(0, Math.min(pap.x + this.HorizontalOffset, full.width - this.ActualWidth));\r\n            var y = Math.max(0, Math.min(pap.y + this.VerticalOffset, full.height - this.ActualHeight));\r\n            Controls.Canvas.SetLeft(this, x);\r\n            Controls.Canvas.SetTop(this, y);\r\n\r\n            var overlay = this._Overlay;\r\n            if (!overlay)\r\n                return;\r\n            overlay.Width = full.width;\r\n            overlay.Height = full.height;\r\n        }\r\n\r\n        private OpenPopup (position: Point) {\r\n            this._PopupAlignmentPoint = position;\r\n\r\n            var canvas1 = new Canvas();\r\n            canvas1.Background = new Fayde.Media.SolidColorBrush(Color.KnownColors.Transparent);\r\n            this._Overlay = canvas1;\r\n            this._Overlay.MouseLeftButtonDown.on(this._HandleOverlayMouseButtonDown, this);\r\n            this._Overlay.MouseRightButtonDown.on(this._HandleOverlayMouseButtonDown, this);\r\n            this._Overlay.Children.Add(this);\r\n\r\n            var popup = this._Popup = new Controls.Primitives.Popup();\r\n            var initiator = <XamlObject>this._Owner;\r\n            while (initiator && !(initiator instanceof UIElement))\r\n                initiator = initiator.Parent;\r\n            if (initiator) {\r\n                popup.XamlNode.RegisterInitiator(<UIElement>initiator);\r\n                this.$RootVisualTracker.tryInit(<UIElement>initiator);\r\n            }\r\n            popup.Child = this._Overlay;\r\n\r\n            this.SizeChanged.on(this._HandleContextMenuSizeChanged, this);\r\n            this.$RootVisualTracker.setOnSizeChanged((newSize) => this.UpdateContextMenuPlacement());\r\n            this.UpdateContextMenuPlacement();\r\n            if (this.ReadLocalValue(DependencyObject.DataContextProperty) === DependencyProperty.UnsetValue) {\r\n                var binding1 = new Fayde.Data.Binding(\"DataContext\");\r\n                binding1.Source = this.Owner || this.$RootVisualTracker.rootVisual;\r\n                this.SetBinding(DependencyObject.DataContextProperty, binding1);\r\n            }\r\n            popup.IsOpen = true;\r\n            this.Focus();\r\n            this._SettingIsOpen = true;\r\n            this.IsOpen = true;\r\n            this._SettingIsOpen = false;\r\n            this.OnOpened(new RoutedEventArgs());\r\n        }\r\n\r\n        OnOpened (e: RoutedEventArgs) {\r\n            this.Opened.raise(this, e);\r\n        }\r\n\r\n        private ClosePopup () {\r\n            if (this._Popup) {\r\n                this._Popup.IsOpen = false;\r\n                this._Popup.Child = null;\r\n                this._Popup = null;\r\n            }\r\n            if (this._Overlay) {\r\n                this._Overlay.Children.Clear();\r\n                this._Overlay = null;\r\n            }\r\n            this.SizeChanged.off(this._HandleContextMenuSizeChanged, this);\r\n            this.$RootVisualTracker.setOnSizeChanged();\r\n            this._SettingIsOpen = true;\r\n            this.IsOpen = false;\r\n            this._SettingIsOpen = false;\r\n            this.OnClosed(new RoutedEventArgs());\r\n        }\r\n\r\n        OnClosed (e: RoutedEventArgs) {\r\n            this.Closed.raise(this, e);\r\n        }\r\n\r\n        private FocusNextItem (down: boolean) {\r\n            var count = this.Items.Count;\r\n            var num = down ? -1 : count;\r\n\r\n            var menuItem1 = <MenuItem>Fayde.Surface.GetFocusedElement(this);\r\n            if (menuItem1 instanceof MenuItem && this === menuItem1.ParentMenuBase)\r\n                num = this.ItemContainersManager.IndexFromContainer(menuItem1);\r\n            var index = num;\r\n            var menuItem2;\r\n            do {\r\n                index = (index + count + (down ? 1 : -1)) % count;\r\n                menuItem2 = this.ItemContainersManager.ContainerFromIndex(index);\r\n                if (!(menuItem2 instanceof MenuItem)) menuItem2 = null;\r\n            }\r\n            while ((!menuItem2 || (!menuItem2.IsEnabled || !menuItem2.Focus())) && index !== num);\r\n        }\r\n    }\r\n}","\r\nmodule Fayde.Controls {\r\n    export class ContextMenuService {\r\n        static ContextMenuProperty = DependencyProperty.RegisterAttached(\"ContextMenu\", () => ContextMenu, ContextMenuService, undefined, ContextMenuService.OnContextMenuPropertyChanged);\r\n        static GetContextMenu(d: DependencyObject): ContextMenu { return d.GetValue(ContextMenuService.ContextMenuProperty); }\r\n        static SetContextMenu(d: DependencyObject, value: ContextMenu) { d.SetValue(ContextMenuService.ContextMenuProperty, value); }\r\n        private static OnContextMenuPropertyChanged(d: DependencyObject, args: IDependencyPropertyChangedEventArgs) {\r\n            var fe = <FrameworkElement>d;\r\n            if (!(fe instanceof FrameworkElement))\r\n                return;\r\n            var oldMenu = <ContextMenu>args.OldValue;\r\n            if (oldMenu instanceof ContextMenu)\r\n                oldMenu.Owner = null;\r\n            var newMenu = <ContextMenu>args.NewValue;\r\n            if (newMenu instanceof ContextMenu)\r\n                newMenu.Owner = fe;\r\n        }\r\n    }\r\n}","module Fayde.Controls {\r\n    export class DatePicker extends Control {\r\n        static SelectedMonthProperty = DependencyProperty.Register(\"SelectedMonth\", () => Number, DatePicker, NaN, (d, args) => (<DatePicker>d).OnSelectedMonthChanged(args));\r\n        static SelectedDayProperty = DependencyProperty.Register(\"SelectedDay\", () => Number, DatePicker, NaN, (d, args) => (<DatePicker>d).OnSelectedDayChanged(args));\r\n        static SelectedYearProperty = DependencyProperty.Register(\"SelectedYear\", () => Number, DatePicker, NaN, (d, args) => (<DatePicker>d).OnSelectedYearChanged(args));\r\n        static SelectedDateProperty = DependencyProperty.Register(\"SelectedDate\", () => DateTime, DatePicker, undefined, (d, args) => (<DatePicker>d).OnSelectedDateChanged(args));\r\n        SelectedMonth: number;\r\n        SelectedDay: number;\r\n        SelectedYear: number;\r\n        SelectedDate: DateTime;\r\n\r\n        private OnSelectedMonthChanged(args: IDependencyPropertyChangedEventArgs) {\r\n            this.CoerceMonth(args.NewValue);\r\n            this.CoerceDate();\r\n        }\r\n        private OnSelectedDayChanged(args: IDependencyPropertyChangedEventArgs) {\r\n            this.CoerceDay(args.NewValue);\r\n            this.CoerceDate();\r\n        }\r\n        private OnSelectedYearChanged(args: IDependencyPropertyChangedEventArgs) {\r\n            this.CoerceYear(args.NewValue);\r\n            this.CoerceDate();\r\n        }\r\n        private OnSelectedDateChanged(args: IDependencyPropertyChangedEventArgs) {\r\n            var dt = <DateTime>args.NewValue;\r\n            if (dt instanceof DateTime) {\r\n                this.CoerceMonth(dt.Month);\r\n                this.CoerceDay(dt.Day);\r\n                this.CoerceYear(dt.Year);\r\n            } else {\r\n                this.CoerceMonth(NaN);\r\n                this.CoerceDay(NaN);\r\n                this.CoerceYear(NaN);\r\n            }\r\n        }\r\n\r\n        private _MonthTextBox: TextBox = null;\r\n        private _DayTextBox: TextBox = null;\r\n        private _YearTextBox: TextBox = null;\r\n\r\n        private _MonthGesture = new Internal.EventGesture<TextBox>();\r\n        private _DayGesture = new Internal.EventGesture<TextBox>();\r\n        private _YearGesture = new Internal.EventGesture<TextBox>();\r\n\r\n        private _SelectionHandler: Internal.SelectionHandler = null;\r\n\r\n        constructor() {\r\n            super();\r\n            this.DefaultStyleKey = DatePicker;\r\n        }\r\n\r\n        OnApplyTemplate() {\r\n            super.OnApplyTemplate();\r\n\r\n            this._MonthGesture.Detach();\r\n            this._MonthTextBox = <TextBox>this.GetTemplateChild(\"MonthTextBox\", TextBox);\r\n            if (this._MonthTextBox)\r\n                this._MonthGesture.Attach(this._MonthTextBox.LostFocus, (tb) => this.CoerceMonth(tb.Text));\r\n\r\n            this._DayGesture.Detach();\r\n            this._DayTextBox = <TextBox>this.GetTemplateChild(\"DayTextBox\", TextBox);\r\n            if (this._DayTextBox)\r\n                this._DayGesture.Attach(this._DayTextBox.LostFocus, (tb) => this.CoerceDay(tb.Text));\r\n\r\n            this._YearGesture.Detach();\r\n            this._YearTextBox = <TextBox>this.GetTemplateChild(\"YearTextBox\", TextBox);\r\n            if (this._YearTextBox)\r\n                this._YearGesture.Attach(this._YearTextBox.LostFocus, (tb) => this.CoerceDay(tb.Text));\r\n\r\n            if (this._SelectionHandler)\r\n                this._SelectionHandler.Dispose();\r\n            this._SelectionHandler = new Internal.SelectionHandler([this._MonthTextBox, this._DayTextBox, this._YearTextBox]);\r\n\r\n            this._UpdateText();\r\n        }\r\n\r\n        private CoerceMonth(month: any) {\r\n            month = Math.max(1, Math.min(12, month));\r\n            if (!isNaN(month) || !isNaN(this.SelectedMonth))\r\n                this.SetCurrentValue(DatePicker.SelectedMonthProperty, month);\r\n            this._UpdateText();\r\n        }\r\n        private CoerceDay(day: any) {\r\n            day = Math.max(1, Math.min(31, parseFloat(day)));\r\n            if (!isNaN(day) || !isNaN(this.SelectedDay))\r\n                this.SetCurrentValue(DatePicker.SelectedDayProperty, day);\r\n            this._UpdateText();\r\n        }\r\n        private CoerceYear(year: any) {\r\n            var maxYear = DateTime.MaxValue.Year - 1;\r\n            year = Math.min(maxYear, Math.max(0, year));\r\n            if (!isNaN(year) || !isNaN(this.SelectedYear))\r\n                this.SetCurrentValue(DatePicker.SelectedYearProperty, year);\r\n            this._UpdateText();\r\n        }\r\n        private CoerceDate() {\r\n            var m = this.SelectedMonth;\r\n            var d = this.SelectedDay;\r\n            var y = this.SelectedYear;\r\n            if (isNaN(m) || isNaN(d) || isNaN(y))\r\n                return;\r\n            var dte = new DateTime(y, m, d);\r\n            if (DateTime.Compare(dte, this.SelectedDate) === 0)\r\n                return;\r\n            this.SetCurrentValue(DatePicker.SelectedDateProperty, dte);\r\n        }\r\n\r\n        private _UpdateText() {\r\n            if (this._MonthTextBox)\r\n                this._MonthTextBox.Text = formatNumber(this.SelectedMonth, 2, \"MM\");\r\n            if (this._DayTextBox)\r\n                this._DayTextBox.Text = formatNumber(this.SelectedDay, 2, \"DD\");\r\n            if (this._YearTextBox)\r\n                this._YearTextBox.Text = formatNumber(this.SelectedYear, 4, \"YYYY\");\r\n        }\r\n    }\r\n    TemplateParts(DatePicker,\r\n        { Name: \"MonthTextBox\", Type: TextBox },\r\n        { Name: \"DayTextBox\", Type: TextBox },\r\n        { Name: \"YearTextBox\", Type: TextBox });\r\n    TemplateVisualStates(DatePicker,\r\n        { GroupName: \"CommonStates\", Name: \"Normal\" },\r\n        { GroupName: \"CommonStates\", Name: \"Disabled\" },\r\n        { GroupName: \"ValidationStates\", Name: \"Valid\" },\r\n        { GroupName: \"ValidationStates\", Name: \"InvalidFocused\" },\r\n        { GroupName: \"ValidationStates\", Name: \"InvalidUnfocused\" });\r\n    //[StyleTypedProperty(Property = \"CalendarStyle\", StyleTargetType = typeof (Calendar))]\r\n\r\n    function formatNumber(n: number, digits: number, fallback: string) {\r\n        if (isNaN(n))\r\n            return fallback;\r\n        return Localization.Format(\"{0:d\" + digits + \"}\", n);\r\n    }\r\n}","module Fayde.Controls {\r\n    export enum ValidSpinDirections {\r\n        None = 0,\r\n        Increase = 1,\r\n        Decrease = 2\r\n    }\r\n    Library.addEnum(ValidSpinDirections, \"ValidSpinDirections\");\r\n\r\n    export enum SpinDirection {\r\n        Increase,\r\n        Decrease\r\n    }\r\n    Library.addEnum(SpinDirection, \"SpinDirection\");\r\n\r\n    export enum InvalidInputAction {\r\n        UseFallbackItem,\r\n        TextBoxCannotLoseFocus\r\n    }\r\n    Library.addEnum(InvalidInputAction, \"InvalidInputAction\");\r\n\r\n    export enum Dock {\r\n        Left,\r\n        Top,\r\n        Right,\r\n        Bottom\r\n    }\r\n    Library.addEnum(Dock, \"Dock\");\r\n\r\n    export enum DatePickerFormat {\r\n        Long,\r\n        Short,\r\n    }\r\n    Library.addEnum(DatePickerFormat, \"DatePickerFormat\");\r\n\r\n    export enum TimeDisplayMode {\r\n        Regular,\r\n        Military\r\n    }\r\n    Library.addEnum(TimeDisplayMode, \"TimeDisplayMode\");\r\n\r\n    export enum ValidationSummaryFilters {\r\n        None = 0,\r\n        ObjectErrors = 1,\r\n        PropertyErrors = 2,\r\n        All = PropertyErrors | ObjectErrors,\r\n    }\r\n    Library.addEnum(ValidationSummaryFilters, \"ValidationSummaryFilters\");\r\n\r\n    export enum ValidationSummaryItemType {\r\n        ObjectError = 1,\r\n        PropertyError = 2,\r\n    }\r\n    Library.addEnum(ValidationSummaryItemType, \"ValidationSummaryItemType\");\r\n\r\n    export enum StretchDirection {\r\n        UpOnly,\r\n        DownOnly,\r\n        Both,\r\n    }\r\n    Library.addEnum(StretchDirection, \"StretchDirection\");\r\n\r\n    export enum FormTypes {\r\n            _default, //lets the class decide\r\n            check, // for boolean\r\n            dates, //datepicker\r\n            box, // no increments\r\n            textArea, //larger, multi-line box               \r\n            calculator\r\n    }\r\n    Library.addEnum(FormTypes, \"FormTypes\");\r\n\r\n}","/// <reference path=\"Enums.ts\" />\r\n\r\nmodule Fayde.Controls {\r\n    import ButtonBase = Controls.Primitives.ButtonBase;\r\n\r\n    export class Spinner extends Control {\r\n        static ContentProperty = DependencyProperty.Register(\"Content\", () => Object, Spinner, undefined, (d: Spinner, args) => d.OnContentChanged(args.OldValue, args.NewValue));\r\n        static ValidSpinDirectionProperty = DependencyProperty.Register(\"ValidSpinDirection\", () => new Enum(ValidSpinDirections), Spinner, ValidSpinDirections.Increase, (d, args) => (<Spinner>d).OnValidSpinDirectionChanged(args));\r\n        Content: any;\r\n        ValidSpinDirection: ValidSpinDirections;\r\n\r\n        OnContentChanged (oldContent: any, newContent: any) {\r\n\r\n        }\r\n\r\n        OnValidSpinDirectionChanged (args: IDependencyPropertyChangedEventArgs) {\r\n            this.UpdateVisualState(true);\r\n            this.EnableButtons();\r\n        }\r\n\r\n        Spin = new RoutedEvent<SpinEventArgs>();\r\n\r\n        OnSpin (e: SpinEventArgs) {\r\n            var valid = e.Direction === SpinDirection.Increase ? ValidSpinDirections.Increase : ValidSpinDirections.Decrease;\r\n            if ((this.ValidSpinDirection & valid) !== valid)\r\n                throw new InvalidOperationException(\"Invalid Spin Direction\");\r\n            this.Spin.raise(this, e);\r\n        }\r\n\r\n        private _IncreaseButton: ButtonBase = null;\r\n        private _DecreaseButton: ButtonBase = null;\r\n\r\n        constructor () {\r\n            super();\r\n            this.DefaultStyleKey = Spinner;\r\n        }\r\n\r\n        OnApplyTemplate () {\r\n            super.OnApplyTemplate();\r\n\r\n            if (this._IncreaseButton)\r\n                this._IncreaseButton.Click.off(this.OnIncreaseClick, this);\r\n            this._IncreaseButton = <ButtonBase>this.GetTemplateChild(\"IncreaseButton\", ButtonBase);\r\n            if (this._IncreaseButton)\r\n                this._IncreaseButton.Click.on(this.OnIncreaseClick, this);\r\n\r\n            if (this._DecreaseButton)\r\n                this._DecreaseButton.Click.off(this.OnDecreaseClick, this);\r\n            this._DecreaseButton = <ButtonBase>this.GetTemplateChild(\"DecreaseButton\", ButtonBase);\r\n            if (this._DecreaseButton)\r\n                this._DecreaseButton.Click.on(this.OnDecreaseClick, this);\r\n\r\n            this.UpdateVisualState(false);\r\n            this.EnableButtons();\r\n        }\r\n\r\n        private OnIncreaseClick (sender: any, e: Fayde.Input.MouseButtonEventArgs) {\r\n            this.OnSpin(new SpinEventArgs(SpinDirection.Increase));\r\n        }\r\n\r\n        private OnDecreaseClick (sender: any, e: Fayde.Input.MouseButtonEventArgs) {\r\n            this.OnSpin(new SpinEventArgs(SpinDirection.Decrease));\r\n        }\r\n\r\n        private EnableButtons () {\r\n            if (this._IncreaseButton)\r\n                this._IncreaseButton.IsEnabled = (this.ValidSpinDirection & ValidSpinDirections.Increase) === ValidSpinDirections.Increase;\r\n            if (this._DecreaseButton)\r\n                this._DecreaseButton.IsEnabled = (this.ValidSpinDirection & ValidSpinDirections.Decrease) === ValidSpinDirections.Decrease;\r\n        }\r\n\r\n        GoToStates (gotoFunc: (state: string) => boolean) {\r\n            super.GoToStates(gotoFunc);\r\n            this.GoToStateIncrease(gotoFunc);\r\n            this.GoToStateDecrease(gotoFunc);\r\n        }\r\n\r\n        GoToStateCommon (gotoFunc: (state: string) => boolean): boolean {\r\n            if (!this.IsEnabled)\r\n                return gotoFunc(\"Disabled\");\r\n            if (this.IsMouseOver)\r\n                return gotoFunc(\"MouseOver\");\r\n            return gotoFunc(\"Normal\");\r\n        }\r\n\r\n        GoToStateIncrease (gotoFunc: (state: string) => boolean): boolean {\r\n            return gotoFunc(((this.ValidSpinDirection & ValidSpinDirections.Increase) === ValidSpinDirections.Increase) ? \"IncreaseEnabled\" : \"IncreaseDisabled\");\r\n        }\r\n\r\n        GoToStateDecrease (gotoFunc: (state: string) => boolean): boolean {\r\n            return gotoFunc(((this.ValidSpinDirection & ValidSpinDirections.Decrease) === ValidSpinDirections.Decrease) ? \"DecreaseEnabled\" : \"DecreaseDisabled\");\r\n        }\r\n\r\n        OnMouseEnter (e: Input.MouseEventArgs) {\r\n            super.OnMouseEnter(e);\r\n            this.UpdateVisualState();\r\n        }\r\n\r\n        OnMouseLeave (e: Input.MouseEventArgs) {\r\n            super.OnMouseLeave(e);\r\n            this.UpdateVisualState();\r\n        }\r\n\r\n        OnMouseLeftButtonDown (e: Input.MouseButtonEventArgs) {\r\n            this.UpdateVisualState();\r\n            super.OnMouseLeftButtonDown(e);\r\n        }\r\n\r\n        OnMouseLeftButtonUp (e: Input.MouseButtonEventArgs) {\r\n            super.OnMouseLeftButtonUp(e);\r\n            this.UpdateVisualState();\r\n        }\r\n\r\n        OnGotFocus (e: RoutedEventArgs) {\r\n            super.OnGotFocus(e);\r\n            this.UpdateVisualState();\r\n        }\r\n\r\n        OnLostFocus (e: RoutedEventArgs) {\r\n            super.OnLostFocus(e);\r\n            this.UpdateVisualState();\r\n        }\r\n    }\r\n    Markup.Content(Spinner, Spinner.ContentProperty);\r\n    TemplateVisualStates(Spinner,\r\n        {GroupName: \"CommonStates\", Name: \"Normal\"},\r\n        {GroupName: \"CommonStates\", Name: \"MouseOver\"},\r\n        {GroupName: \"CommonStates\", Name: \"Disabled\"},\r\n        {GroupName: \"FocusStates\", Name: \"Unfocused\"},\r\n        {GroupName: \"FocusStates\", Name: \"Focused\"},\r\n        {GroupName: \"IncreaseStates\", Name: \"IncreaseEnabled\"},\r\n        {GroupName: \"IncreaseStates\", Name: \"IncreaseDisabled\"},\r\n        {GroupName: \"DecreaseStates\", Name: \"DecreaseEnabled\"},\r\n        {GroupName: \"DecreaseStates\", Name: \"DecreaseDisabled\"});\r\n    TemplateParts(Spinner,\r\n        {Name: \"IncreaseButton\", Type: Primitives.ButtonBase},\r\n        {Name: \"DecreaseButton\", Type: Primitives.ButtonBase});\r\n}","/// <reference path=\"Spinner.ts\" />\r\n\r\nmodule Fayde.Controls {\r\n    export class UpDownBase<T> extends Control {\r\n        private _IgnoreValueChange: boolean = false;\r\n        _TextBox: TextBox = null;\r\n        _Spinner: Spinner = null;\r\n        private _Text: string = \"\";\r\n\r\n        static SpinnerStyleProperty = DependencyProperty.Register(\"SpinnerStyle\", () => Style, UpDownBase, undefined, <T>(d: UpDownBase<T>, args) => d.OnSpinnerStyleChanged(args.OldValue, args.NewValue));\r\n        SpinnerStyle: Style;\r\n        private OnSpinnerStyleChanged(oldStyle: Style, newStyle: Style) { }\r\n\r\n        Value: T;\r\n        _OnValueChanged(args: IDependencyPropertyChangedEventArgs) {\r\n            if (this._IgnoreValueChange)\r\n                return;\r\n            var oldValue: T = args.OldValue;\r\n            var newValue: T = args.NewValue;\r\n            var e1 = new RoutedPropertyChangingEventArgs<T>(args.Property, oldValue, newValue, true);\r\n            this.OnValueChanging(e1);\r\n            if (e1.InCoercion)\r\n                return;\r\n            if (!e1.Cancel) {\r\n                var newValue2: T = e1.NewValue;\r\n                var e2 = new RoutedPropertyChangedEventArgs<T>(oldValue, newValue2);\r\n                this.OnValueChanged(e2);\r\n            } else {\r\n                this._IgnoreValueChange = true;\r\n                this.Value = oldValue;\r\n                this._IgnoreValueChange = false;\r\n            }\r\n        }\r\n        OnValueChanging(e: RoutedPropertyChangingEventArgs<T>) {\r\n            this.ValueChanging.raise(this, e);\r\n        }\r\n        OnValueChanged(e: RoutedPropertyChangedEventArgs<T>) {\r\n            (<RoutedEvent<RoutedPropertyChangedEventArgs<T>>>this.ValueChanged).raise(this, e); //WTF: compiler choking without cast for some odd reason\r\n            this.SetTextBoxText();\r\n        }\r\n\r\n        static IsEditableProperty = DependencyProperty.Register(\"IsEditable\", () => Boolean, UpDownBase, true, <T>(d: UpDownBase<T>, args) => d.OnIsEditableChanged(args));\r\n        IsEditable: boolean;\r\n        private OnIsEditableChanged(args: IDependencyPropertyChangedEventArgs) {\r\n            if (!this._TextBox)\r\n                this._TextBox.IsReadOnly = !this.IsEditable;\r\n        }\r\n\r\n        ValueChanging = new RoutedPropertyChangingEvent<T>();\r\n        ValueChanged = new RoutedPropertyChangedEvent<T>();\r\n        Parsing = new RoutedEvent<UpDownParsingEventArgs<T>>();\r\n        ParseError = new RoutedEvent<UpDownParseErrorEventArgs>();\r\n\r\n        OnApplyTemplate() {\r\n            super.OnApplyTemplate();\r\n            this.SetTextBox(this.GetTemplateChild(\"Text\"));\r\n            this.SetSpinner(this.GetTemplateChild(\"Spinner\"));\r\n            this.SetTextBoxText();\r\n            if (this._TextBox != null)\r\n                this._TextBox.IsReadOnly = !this.IsEditable;\r\n            this.UpdateVisualState(false);\r\n        }\r\n        private SetTextBox(d: DependencyObject) {\r\n            if (this._TextBox) {\r\n                this._TextBox.GotFocus.off(this.TextBox_GotFocus, this);\r\n                this._TextBox.LostFocus.off(this.TextBox_LostFocus, this);\r\n            }\r\n            if (d instanceof TextBox)\r\n                this._TextBox = <TextBox>d;\r\n            else\r\n                this._TextBox = null;\r\n            this._TextBox.GotFocus.on(this.TextBox_GotFocus, this);\r\n            this._TextBox.LostFocus.on(this.TextBox_LostFocus, this);\r\n            this._Text = this._TextBox.Text;\r\n        }\r\n        private SetSpinner(d: DependencyObject) {\r\n            if (this._Spinner)\r\n                this._Spinner.Spin.off(this.Spinner_Spin, this);\r\n            if (d instanceof Spinner)\r\n                this._Spinner = <Spinner>d;\r\n            else\r\n                this._Spinner = null;\r\n            if (this._Spinner)\r\n                this._Spinner.Spin.on(this.Spinner_Spin, this);\r\n        }\r\n\r\n        OnKeyDown(e: Fayde.Input.KeyEventArgs) {\r\n            super.OnKeyDown(e);\r\n            if (e.Handled)\r\n                return;\r\n            switch (e.Key) {\r\n                case Fayde.Input.Key.Enter:\r\n                    this.ProcessUserInput();\r\n                    e.Handled = true;\r\n                    break;\r\n                case Fayde.Input.Key.Up:\r\n                    this.DoIncrement();\r\n                    e.Handled = true;\r\n                    break;\r\n                case Fayde.Input.Key.Down:\r\n                    this.DoDecrement();\r\n                    e.Handled = true;\r\n                    break;\r\n            }\r\n        }\r\n        OnMouseWheel(e: Fayde.Input.MouseWheelEventArgs) {\r\n            super.OnMouseWheel(e);\r\n            if (e.Handled)\r\n                return;\r\n            if (e.Delta < 0)\r\n                this.DoDecrement();\r\n            else if (0 < e.Delta)\r\n                this.DoIncrement();\r\n            e.Handled = true;\r\n        }\r\n\r\n        ApplyValue(text: string) {\r\n            var e1 = new UpDownParsingEventArgs<T>(text);\r\n            var obj1: any;\r\n            var error: Error = null;\r\n            try {\r\n                obj1 = this.ParseValue(text);\r\n                e1.Value = obj1;\r\n            } catch (err) {\r\n                error = err;\r\n            }\r\n            try {\r\n                this.OnParsing(e1);\r\n            } catch (err) {\r\n            }\r\n            if (error == null) {\r\n                var obj2 = e1.Handled ? e1.Value : obj1;\r\n                var value = this.Value;\r\n                if (this.Value === obj2)\r\n                    this.SetTextBoxText();\r\n                this.Value = obj2;\r\n            } else if (e1.Handled) {\r\n                if (this.Value === e1.Value)\r\n                    this.SetTextBoxText();\r\n                this.Value = e1.Value;\r\n            } else {\r\n                var e2 = new UpDownParseErrorEventArgs(text, error);\r\n                this.OnParseError(e2);\r\n                if (!e2.Handled)\r\n                    this.SetTextBoxText();\r\n            }\r\n        }\r\n        OnParseError(e: UpDownParseErrorEventArgs) {\r\n            this.ParseError.raise(this, e);\r\n        }\r\n        OnParsing(e: UpDownParsingEventArgs<T>) {\r\n            this.Parsing.raise(this, e);\r\n        }\r\n        ParseValue(text: string): T { return; }\r\n        FormatValue(): string { return \"\"; }\r\n\r\n        SelectAllText() {\r\n            if (this._TextBox)\r\n                this._TextBox.SelectAll();\r\n        }\r\n        SetTextBoxText() {\r\n            if (!this._TextBox)\r\n                return;\r\n            this._Text = this.FormatValue() || \"\";\r\n            this._TextBox.Text = this._Text;\r\n            this._TextBox.SelectionStart = this._Text.length;\r\n        }\r\n        private TextBox_LostFocus(sender: any, e: RoutedEventArgs) {\r\n            this.ProcessUserInput();\r\n        }\r\n        private TextBox_GotFocus(sender: any, e: RoutedEventArgs) {\r\n            this.SelectAllText();\r\n        }\r\n\r\n        private Spinner_Spin(sender: any, e: SpinEventArgs) {\r\n            if (this._TextBox)\r\n                this.ProcessUserInput();\r\n            this.OnSpin(e);\r\n        }\r\n        OnSpin(e: SpinEventArgs) {\r\n            if (e.Direction === SpinDirection.Increase)\r\n                this.DoIncrement();\r\n            else\r\n                this.DoDecrement();\r\n        }\r\n\r\n        private ProcessUserInput() {\r\n            if (!this._TextBox || this._Text === this._TextBox.Text)\r\n                return;\r\n            var selectionStart = this._TextBox.SelectionStart;\r\n            this._Text = this._TextBox.Text;\r\n            this.ApplyValue(this._Text);\r\n            if (selectionStart < this._TextBox.Text.length)\r\n                this._TextBox.SelectionStart = selectionStart;\r\n        }\r\n        private DoDecrement() {\r\n            if (this._Spinner && (this._Spinner.ValidSpinDirection & ValidSpinDirections.Decrease) !== ValidSpinDirections.Decrease)\r\n                return;\r\n            this.OnDecrement();\r\n        }\r\n        OnDecrement() { }\r\n        private DoIncrement() {\r\n            if (this._Spinner && (this._Spinner.ValidSpinDirection & ValidSpinDirections.Increase) !== ValidSpinDirections.Increase)\r\n                return;\r\n            this.OnIncrement();\r\n        }\r\n        OnIncrement() { }\r\n    }\r\n    TemplateVisualStates(UpDownBase,\r\n        { GroupName: \"CommonStates\", Name: \"Normal\" },\r\n        { GroupName: \"CommonStates\", Name: \"MouseOver\" },\r\n        { GroupName: \"CommonStates\", Name: \"Pressed\" },\r\n        { GroupName: \"CommonStates\", Name: \"Disabled\" },\r\n        { GroupName: \"FocusStates\", Name: \"Unfocused\" },\r\n        { GroupName: \"FocusStates\", Name: \"Focused\" });\r\n    TemplateParts(UpDownBase,\r\n        { Name: \"Text\", Type: TextBox },\r\n        { Name: \"Spinner\", Type: Spinner });\r\n}","/// <reference path=\"UpDownBase.ts\" />\r\n\r\nmodule Fayde.Controls {\r\n    export interface IOutValue {\r\n        Value: any;\r\n    }\r\n\r\n    export class DomainUpDown extends Control {\r\n        static ValueProperty = DependencyProperty.Register(\"Value\", () => Object, DomainUpDown, null, (d, args) => (<DomainUpDown>d)._Coercer.OnValueChanged(args.OldValue, args.NewValue));\r\n        static IsEditableProperty = DependencyProperty.Register(\"IsEditable\", () => Boolean, DomainUpDown, false, (d, args) => (<DomainUpDown>d)._Coercer.UpdateIsEditable());\r\n        static SpinnerStyleProperty = DependencyProperty.Register(\"SpinnerStyle\", () => Style, DomainUpDown);\r\n        static CurrentIndexProperty = DependencyProperty.Register(\"CurrentIndex\", () => Number, DomainUpDown, -1, (d, args) => (<DomainUpDown>d)._Coercer.OnCurrentIndexChanged(args.OldValue, args.NewValue));\r\n        static IsCyclicProperty = DependencyProperty.Register(\"IsCyclic\", () => Boolean, DomainUpDown, false, (d, args) => (<DomainUpDown>d)._OnIsCyclicChanged(args));\r\n        static InvalidInputActionProperty = DependencyProperty.RegisterFull(\"InvalidInputAction\", () => new Enum(InvalidInputAction), DomainUpDown, InvalidInputAction.UseFallbackItem, undefined, undefined, false, inputActionValidator, true);\r\n        static FallbackItemProperty = DependencyProperty.Register(\"FallbackItem\", () => Object, DomainUpDown, null);\r\n        static ItemsSourceProperty = DependencyProperty.Register(\"ItemsSource\", () => nullstone.IEnumerable_, DomainUpDown, undefined, (d, args) => (<DomainUpDown>d)._OnItemsSourceChanged(args.OldValue, args.NewValue));\r\n        static ItemTemplateProperty = DependencyProperty.Register(\"ItemTemplate\", () => DataTemplate, DomainUpDown);\r\n\r\n        Value: any;\r\n        IsEditable: boolean;\r\n        SpinnerStyle: Style;\r\n        CurrentIndex: number;\r\n        IsCyclic: boolean;\r\n        InvalidInputAction: InvalidInputAction;\r\n        FallbackItem: any;\r\n        ItemsSource: nullstone.IEnumerable<any>;\r\n        ItemTemplate: DataTemplate;\r\n        Items: Internal.ObservableObjectCollection;\r\n\r\n        OnValueChanged (oldItem: any, newItem: any) {\r\n        }\r\n\r\n        OnCurrentIndexChanged (oldIndex: number, newIndex: number) {\r\n            this.UpdateValidSpinDirection();\r\n        }\r\n\r\n        private _OnIsCyclicChanged (args: IDependencyPropertyChangedEventArgs) {\r\n            this.UpdateValidSpinDirection();\r\n        }\r\n\r\n        private _OnItemsSourceChanged (oldItemsSource: nullstone.IEnumerable<any>, newItemsSource: nullstone.IEnumerable<any>) {\r\n            var cc = Collections.INotifyCollectionChanged_.as(oldItemsSource);\r\n            if (cc)\r\n                cc.CollectionChanged.off(this._ItemsSourceModified, this);\r\n\r\n            this.Items.IsReadOnly = false;\r\n            this.Items.Clear();\r\n            if (!newItemsSource)\r\n                return;\r\n\r\n            var en = nullstone.IEnumerable_.as(newItemsSource);\r\n            var arr: any[];\r\n            if (en) {\r\n                var enu = en.getEnumerator();\r\n                arr = [];\r\n                while (enu.moveNext()) {\r\n                    arr.push(enu.current);\r\n                }\r\n            } else if (newItemsSource instanceof Array) {\r\n                arr = <any[]><any>newItemsSource;\r\n            }\r\n            if (arr) {\r\n                this.Items.AddRange(arr);\r\n                this.Items.IsReadOnly = true;\r\n            }\r\n\r\n            cc = Collections.INotifyCollectionChanged_.as(newItemsSource);\r\n            if (cc)\r\n                cc.CollectionChanged.on(this._ItemsSourceModified, this);\r\n        }\r\n\r\n        private _ItemsSourceModified (sender: any, e: Collections.CollectionChangedEventArgs) {\r\n            var coll = <Collections.ObservableCollection<any>>sender;\r\n            var index: number;\r\n            this.Items.IsReadOnly = false;\r\n            switch (e.Action) {\r\n                case Collections.CollectionChangedAction.Add:\r\n                    index = e.NewStartingIndex;\r\n                    for (var en = nullstone.IEnumerator_.fromArray(e.NewItems); en.moveNext();) {\r\n                        this.Items.Insert(index, en.current);\r\n                        index++;\r\n                    }\r\n                    break;\r\n                case Collections.CollectionChangedAction.Remove:\r\n                    for (var en = nullstone.IEnumerator_.fromArray(e.OldItems); en.moveNext();) {\r\n                        this.Items.RemoveAt(e.OldStartingIndex);\r\n                    }\r\n                    break;\r\n                case Collections.CollectionChangedAction.Replace:\r\n                    index = e.NewStartingIndex;\r\n                    for (var en = nullstone.IEnumerator_.fromArray(e.NewItems); en.moveNext();) {\r\n                        this.Items.SetValueAt(index, en.current);\r\n                        index++;\r\n                    }\r\n                    break;\r\n                case Collections.CollectionChangedAction.Reset:\r\n                    this.Items.Clear();\r\n                    this.Items.AddRange(coll.ToArray());\r\n                    break;\r\n            }\r\n            this.Items.IsReadOnly = true;\r\n        }\r\n\r\n        private _OnItemsChanged (sender: any, e: Collections.CollectionChangedEventArgs) {\r\n            this._Coercer.UpdateTextBoxText();\r\n        }\r\n\r\n        ValueChanging = new RoutedPropertyChangingEvent<number>();\r\n        ParseError = new RoutedEvent<UpDownParseErrorEventArgs>();\r\n\r\n        get ValueMemberPath (): string {\r\n            var vb = this.ValueMemberBinding;\r\n            return vb ? vb.Path.Path : null;\r\n        }\r\n\r\n        set ValueMemberPath (value: string) {\r\n            var vb = this.ValueMemberBinding;\r\n            if (!value) {\r\n                if (!vb)\r\n                    return;\r\n                var binding1 = new Fayde.Data.Binding();\r\n                binding1.Converter = vb.Converter;\r\n                binding1.ConverterCulture = vb.ConverterCulture;\r\n                binding1.ConverterParameter = vb.ConverterParameter;\r\n                this.ValueMemberBinding = binding1;\r\n            } else if (vb != null) {\r\n                var binding1 = new Fayde.Data.Binding(value);\r\n                binding1.Converter = vb.Converter;\r\n                binding1.ConverterCulture = vb.ConverterCulture;\r\n                binding1.ConverterParameter = vb.ConverterParameter;\r\n                this.ValueMemberBinding = binding1;\r\n            } else\r\n                this.ValueMemberBinding = new Fayde.Data.Binding(value);\r\n        }\r\n\r\n        private _ValueBindingEvaluator: Internal.BindingSourceEvaluator<string> = null;\r\n\r\n        get ValueMemberBinding (): Fayde.Data.Binding {\r\n            var vbe = this._ValueBindingEvaluator;\r\n            return vbe ? vbe.ValueBinding : null;\r\n        }\r\n\r\n        set ValueMemberBinding (value: Fayde.Data.Binding) {\r\n            this._ValueBindingEvaluator = new Internal.BindingSourceEvaluator<string>(value);\r\n        }\r\n\r\n        private _Coercer: Internal.IDomainCoercer;\r\n        private _SpinFlow: Internal.ISpinFlow;\r\n        private _CanEditByFocus = false;\r\n\r\n        constructor () {\r\n            super();\r\n            this.DefaultStyleKey = DomainUpDown;\r\n\r\n            Object.defineProperty(this, \"Items\", {value: new Internal.ObservableObjectCollection(), writable: false});\r\n            this.Items.CollectionChanged.on(this._OnItemsChanged, this);\r\n\r\n            this._Coercer = new Internal.DomainCoercer(this,\r\n                    val => this.SetCurrentValue(DomainUpDown.ValueProperty, val),\r\n                    val => this.SetCurrentValue(DomainUpDown.CurrentIndexProperty, val));\r\n        }\r\n\r\n        OnApplyTemplate () {\r\n            super.OnApplyTemplate();\r\n\r\n            if (this._SpinFlow)\r\n                this._SpinFlow.Dispose();\r\n            this._SpinFlow = new Internal.SpinFlow(this, <Spinner>this.GetTemplateChild(\"Spinner\", Spinner));\r\n\r\n            this._Coercer.Detach();\r\n            this._Coercer.Attach(<TextBox>this.GetTemplateChild(\"Text\", TextBox));\r\n\r\n            this.UpdateValidSpinDirection();\r\n            this.UpdateVisualState();\r\n        }\r\n\r\n        OnGotFocus (e: RoutedEventArgs) {\r\n            super.OnGotFocus(e);\r\n            this.UpdateVisualState();\r\n            if (this.IsEnabled)\r\n                this.TryEnterEditMode();\r\n        }\r\n\r\n        OnLostFocus (e: RoutedEventArgs) {\r\n            super.OnLostFocus(e);\r\n            this.UpdateVisualState();\r\n            if (this.IsEnabled)\r\n                this._Coercer.EscapeFocus();\r\n        }\r\n\r\n        OnMouseEnter (e: Fayde.Input.MouseEventArgs) {\r\n            super.OnMouseEnter(e);\r\n            this.UpdateVisualState();\r\n        }\r\n\r\n        OnMouseLeave (e: Fayde.Input.MouseEventArgs) {\r\n            super.OnMouseLeave(e);\r\n            this.UpdateVisualState();\r\n        }\r\n\r\n        OnMouseLeftButtonDown (e: Fayde.Input.MouseButtonEventArgs) {\r\n            super.OnMouseLeftButtonDown(e);\r\n            this.UpdateVisualState();\r\n        }\r\n\r\n        OnMouseLeftButtonUp (e: Fayde.Input.MouseButtonEventArgs) {\r\n            super.OnMouseLeftButtonUp(e);\r\n            this.UpdateVisualState();\r\n            if (this.IsEnabled && !this._Coercer.IsEditing) {\r\n                this.Focus();\r\n                this.TryEnterEditMode();\r\n            }\r\n        }\r\n\r\n        GoToStates (gotoFunc: (state: string) => boolean) {\r\n            super.GoToStates(gotoFunc);\r\n            this.GoToStateEditing(gotoFunc);\r\n            this.GoToStateValid(gotoFunc);\r\n        }\r\n\r\n        GoToStateEditing (gotoFunc: (state: string) => boolean): boolean {\r\n            return gotoFunc(this._Coercer.IsEditing ? \"Edit\" : \"Display\");\r\n        }\r\n\r\n        GoToStateValid (gotoFunc: (state: string) => boolean): boolean {\r\n            return gotoFunc(this._Coercer.IsInvalidInput ? \"InvalidDomain\" : \"ValidDomain\");\r\n        }\r\n\r\n        private UpdateValidSpinDirection () {\r\n            if (!this._SpinFlow)\r\n                return;\r\n            var isCyclic = this.IsCyclic;\r\n            var curIndex = this.CurrentIndex;\r\n            this._SpinFlow.UpdateValid(isCyclic || curIndex > 0, isCyclic || curIndex < this.Items.Count - 1);\r\n        }\r\n\r\n        private TryEnterEditMode () {\r\n            if (this._Coercer.IsEditing)\r\n                return;\r\n            if (!this._CanEditByFocus && this.IsEditable)\r\n                this._Coercer.IsEditing = true;\r\n        }\r\n\r\n        OnIsEditingChanged (isEditing: boolean) {\r\n            this.UpdateVisualState();\r\n        }\r\n\r\n        OnIsInvalidInputChanged (isInvalid: boolean) {\r\n            this.UpdateVisualState();\r\n        }\r\n\r\n        OnSpin () {\r\n            this._Coercer.ProcessUserInput();\r\n        }\r\n\r\n        OnIncrement () {\r\n            if (this.CurrentIndex < this.Items.Count - 1)\r\n                this.CurrentIndex++;\r\n            else if (this.IsCyclic)\r\n                this.CurrentIndex = 0;\r\n            this._Coercer.IsInvalidInput = false;\r\n            this._CanEditByFocus = true;\r\n            this.Focus();\r\n            window.setTimeout(() => this._CanEditByFocus = false, 1);\r\n        }\r\n\r\n        OnDecrement () {\r\n            if (this.CurrentIndex > 0)\r\n                this.CurrentIndex--;\r\n            else if (this.IsCyclic)\r\n                this.CurrentIndex = this.Items.Count - 1;\r\n            this._Coercer.IsInvalidInput = false;\r\n            this._CanEditByFocus = true;\r\n            this.Focus();\r\n            window.setTimeout(() => this._CanEditByFocus = false, 1);\r\n        }\r\n\r\n        TryParseValue (text: string, ov: IOutValue): boolean {\r\n            if (!text) {\r\n                ov.Value = this.Value;\r\n                return true;\r\n            }\r\n            var vb = this._ValueBindingEvaluator;\r\n            var enu = this.Items.getEnumerator();\r\n            while (enu.moveNext() && ov.Value == null) {\r\n                ov.Value = matchItem(vb, enu.current, text);\r\n            }\r\n            if (ov.Value != null)\r\n                return true;\r\n\r\n            ov.Value = this.Value;\r\n            if (this.InvalidInputAction === InvalidInputAction.TextBoxCannotLoseFocus)\r\n                return false;\r\n\r\n            if (this.InvalidInputAction === InvalidInputAction.UseFallbackItem) {\r\n                ov.Value = this.FallbackItem;\r\n                if (ov.Value == null || !this.Items.Contains(ov.Value))\r\n                    throw new ArgumentException(\"Cannot parse value.\");\r\n            }\r\n            return true;\r\n        }\r\n\r\n        FormatValue (): string {\r\n            var val = this.Value;\r\n            if (!val)\r\n                return \"\";\r\n            if (!this.Items.Contains(val))\r\n                return \"\";\r\n            try {\r\n                var vb = this._ValueBindingEvaluator;\r\n                if (vb)\r\n                    val = vb.GetDynamicValue(val);\r\n            } catch (err) {\r\n            }\r\n            if (typeof val === \"string\")\r\n                return val;\r\n            return \"\";\r\n        }\r\n    }\r\n    TemplateVisualStates(DomainUpDown,\r\n        {GroupName: \"CommonStates\", Name: \"Normal\"},\r\n        {GroupName: \"CommonStates\", Name: \"MouseOver\"},\r\n        {GroupName: \"CommonStates\", Name: \"Pressed\"},\r\n        {GroupName: \"CommonStates\", Name: \"Disabled\"},\r\n        {GroupName: \"FocusStates\", Name: \"Unfocused\"},\r\n        {GroupName: \"FocusStates\", Name: \"Focused\"},\r\n        {GroupName: \"ValidationStates\", Name: \"Valid\"},\r\n        {GroupName: \"ValidationStates\", Name: \"InvalidUnfocused\"},\r\n        {GroupName: \"ValidationStates\", Name: \"InvalidFocused\"},\r\n        {GroupName: \"DomainStates\", Name: \"ValidDomain\"},\r\n        {GroupName: \"DomainStates\", Name: \"InvalidDomain\"});\r\n\r\n\r\n    function inputActionValidator (d: DependencyObject, propd: DependencyProperty, value: any): boolean {\r\n        switch (value) {\r\n            case InvalidInputAction.UseFallbackItem:\r\n            case InvalidInputAction.TextBoxCannotLoseFocus:\r\n                return true;\r\n            default:\r\n                return false;\r\n        }\r\n    }\r\n\r\n    function matchItem (evaluator: Internal.BindingSourceEvaluator<string>, item: any, text: string): boolean {\r\n        if (!evaluator)\r\n            return text === item.toString();\r\n        return text === (evaluator.GetDynamicValue(item) || \"\");\r\n    }\r\n}","module Fayde.Controls {\r\n\r\n    var dragIncrement = 1;\r\n    var keyIncrement = 10;\r\n\r\n    export class GridSplitter extends Control {\r\n        private _Helper: Internal.GridSplitterResizer;\r\n        private _HorizontalTemplate: FrameworkElement = null;\r\n        private _VerticalTemplate: FrameworkElement = null;\r\n        private _DragStart: Point = null;\r\n        private _IsDragging = false;\r\n\r\n        constructor() {\r\n            super();\r\n            this.DefaultStyleKey = GridSplitter;\r\n            this._Helper = new Internal.GridSplitterResizer(this);\r\n            this.LayoutUpdated.on(this._OnLayoutUpdated, this);\r\n        }\r\n\r\n        OnApplyTemplate() {\r\n            super.OnApplyTemplate();\r\n            this._HorizontalTemplate = <FrameworkElement>this.GetTemplateChild(\"HorizontalTemplate\", FrameworkElement);\r\n            this._VerticalTemplate = <FrameworkElement>this.GetTemplateChild(\"VerticalTemplate\", FrameworkElement);\r\n            this._Helper.UpdateResizeDirection(this);\r\n            this._OnResizeDirectionChanged();\r\n            this.UpdateVisualState();\r\n        }\r\n        private _OnLayoutUpdated(sender: any, e: any) {\r\n            if (this._Helper && this._Helper.UpdateResizeDirection(this))\r\n                this._OnResizeDirectionChanged();\r\n        }\r\n        private _OnResizeDirectionChanged() {\r\n            var isColumns = this._Helper.Direction === Internal.GridResizeDirection.Columns;\r\n\r\n            this.Cursor = isColumns ? CursorType.SizeWE : CursorType.SizeNS;\r\n\r\n            var ht = this._HorizontalTemplate;\r\n            if (ht)\r\n                ht.Visibility = !isColumns ? Visibility.Visible : Visibility.Collapsed;\r\n            var vt = this._VerticalTemplate;\r\n            if (vt)\r\n                vt.Visibility = isColumns ? Visibility.Visible : Visibility.Collapsed;\r\n        }\r\n\r\n        OnGotFocus(e: RoutedEventArgs) {\r\n            super.OnGotFocus(e);\r\n            this.UpdateVisualState();\r\n        }\r\n        OnLostFocus(e: RoutedEventArgs) {\r\n            super.OnLostFocus(e);\r\n            this.UpdateVisualState();\r\n        }\r\n        OnKeyDown(e: Input.KeyEventArgs) {\r\n            super.OnKeyDown(e);\r\n            if (e.Key === Fayde.Input.Key.Escape) {\r\n                if (!this._Helper)\r\n                    return;\r\n                this._Helper = null;\r\n                e.Handled = true;\r\n                return;\r\n            }\r\n            if (!this.IsFocused || !this.IsEnabled)\r\n                return;\r\n            var horiz = 0;\r\n            var vert = 0;\r\n            switch (e.Key) {\r\n                case Fayde.Input.Key.Left:\r\n                    horiz = -keyIncrement;\r\n                    break;\r\n                case Fayde.Input.Key.Up:\r\n                    vert = -keyIncrement;\r\n                    break;\r\n                case Fayde.Input.Key.Right:\r\n                    horiz = keyIncrement;\r\n                    break;\r\n                case Fayde.Input.Key.Down:\r\n                    vert = keyIncrement;\r\n                    break;\r\n            }\r\n            if (this.FlowDirection === FlowDirection.RightToLeft)\r\n                e.Handled = this._HandleMove(-horiz, vert, true);\r\n            else\r\n                e.Handled = this._HandleMove(horiz, vert, true);\r\n        }\r\n\r\n        OnMouseLeftButtonDown(e: Input.MouseButtonEventArgs) {\r\n            super.OnMouseLeftButtonDown(e);\r\n            if (!this.IsEnabled)\r\n                return;\r\n            this._IsDragging = this.CaptureMouse();\r\n            if (!this._IsDragging)\r\n                return;\r\n            this._DragStart = this._GetTransformedPos(e);\r\n            this.Focus();\r\n            this.InitHelper();\r\n        }\r\n        OnMouseLeftButtonUp(e: Input.MouseButtonEventArgs) {\r\n            super.OnMouseLeftButtonUp(e);\r\n            this.ReleaseMouseCapture();\r\n            this._IsDragging = false;\r\n            this._Helper = null;\r\n            this.UpdateVisualState();\r\n        }\r\n        OnMouseMove(e: Input.MouseEventArgs) {\r\n            super.OnMouseMove(e);\r\n            if (!this._IsDragging)\r\n                return;\r\n            var pos = this._GetTransformedPos(e);\r\n            if (pos)\r\n                this._HandleMove(pos.x - this._DragStart.x, pos.y - this._DragStart.y, false);\r\n        }\r\n\r\n        private InitHelper() {\r\n            var parent = <Grid>this.VisualParent;\r\n            if (!(parent instanceof Grid))\r\n                return;\r\n            this._Helper = new Internal.GridSplitterResizer(this);\r\n            if (this._Helper.Setup(this, parent))\r\n                return;\r\n            this._Helper = null;\r\n        }\r\n        private _HandleMove(horiz: number, vert: number, isKeyboard: boolean): boolean {\r\n            if (isKeyboard) {\r\n                if (this._Helper)\r\n                    return false;\r\n                this.InitHelper();\r\n            }\r\n            if (!this._Helper)\r\n                return false;\r\n            if (!this._Helper.Move(<Grid>this.VisualParent, horiz, vert) || isKeyboard)\r\n                this._Helper = null;\r\n            return true;\r\n        }\r\n        private _GetTransformedPos(e: Input.MouseEventArgs) {\r\n            if (this.RenderTransform)\r\n                return this.RenderTransform.Transform(e.GetPosition(this));\r\n            return e.GetPosition(this);\r\n        }\r\n    }\r\n}","module Fayde.Controls {\r\n    export class HeaderedItemsControl extends ItemsControl {\r\n        private _HeaderIsItem: boolean = false;\r\n        private _ItemsControlHelper: Internal.ItemsControlHelper;\r\n\r\n        static HeaderProperty = DependencyProperty.Register(\"Header\", () => Object, HeaderedItemsControl, undefined, (d: HeaderedItemsControl, args) => d.OnHeaderChanged(args.OldValue, args.NewValue));\r\n        static HeaderTemplateProperty = DependencyProperty.Register(\"HeaderTemplate\", () => DataTemplate, HeaderedItemsControl, undefined, (d: HeaderedItemsControl, args) => d.OnHeaderTemplateChanged(args.OldValue, args.NewValue));\r\n        static ItemContainerStyleProperty = DependencyProperty.Register(\"ItemContainerStyle\", () => Style, HeaderedItemsControl, undefined, (d: HeaderedItemsControl, args) => d.OnItemContainerStyleChanged(args));\r\n        Header: any;\r\n        HeaderTemplate: DataTemplate;\r\n        ItemContainerStyle: Style;\r\n\r\n        OnHeaderChanged (oldHeader: any, newHeader: any) {\r\n        }\r\n\r\n        OnHeaderTemplateChanged (oldHeaderTemplate: DataTemplate, newHeaderTemplate: DataTemplate) {\r\n        }\r\n\r\n        private OnItemContainerStyleChanged (args: IDependencyPropertyChangedEventArgs) {\r\n            this._ItemsControlHelper.UpdateItemContainerStyle(args.NewValue);\r\n        }\r\n\r\n        constructor () {\r\n            super();\r\n            this.DefaultStyleKey = HeaderedItemsControl;\r\n            this._ItemsControlHelper = new Internal.ItemsControlHelper(this);\r\n        }\r\n\r\n        OnApplyTemplate () {\r\n            super.OnApplyTemplate();\r\n            this._ItemsControlHelper.OnApplyTemplate();\r\n        }\r\n\r\n        PrepareContainerForItem (element: UIElement, item: any) {\r\n            var control = <Control>element;\r\n            if (!(control instanceof Control)) control = null;\r\n\r\n            var ics = this.ItemContainerStyle;\r\n            if (ics != null && control != null && control.Style == null)\r\n                control.SetValue(FrameworkElement.StyleProperty, ics);\r\n\r\n            var hic = <HeaderedItemsControl>element;\r\n            if (hic instanceof HeaderedItemsControl)\r\n                HeaderedItemsControl.PrepareHeaderedItemsControlContainer(hic, item, this, ics);\r\n            super.PrepareContainerForItem(element, item);\r\n        }\r\n\r\n        static PrepareHeaderedItemsControlContainer (control: HeaderedItemsControl, item: any, parentItemsControl: ItemsControl, parentItemContainerStyle: Style) {\r\n            if (control === item)\r\n                return;\r\n            var itemTemplate = parentItemsControl.ItemTemplate;\r\n            if (itemTemplate != null)\r\n                control.SetValue(ItemsControl.ItemTemplateProperty, itemTemplate);\r\n            if (parentItemContainerStyle != null && hasDefaultValue(control, HeaderedItemsControl.ItemContainerStyleProperty))\r\n                control.SetValue(HeaderedItemsControl.ItemContainerStyleProperty, parentItemContainerStyle);\r\n            if (control._HeaderIsItem || hasDefaultValue(control, HeaderedItemsControl.HeaderProperty)) {\r\n                control.Header = item;\r\n                control._HeaderIsItem = true;\r\n            }\r\n            if (itemTemplate != null)\r\n                control.SetValue(HeaderedItemsControl.HeaderTemplateProperty, itemTemplate);\r\n            if (parentItemContainerStyle != null && control.Style == null)\r\n                control.SetValue(FrameworkElement.StyleProperty, parentItemContainerStyle);\r\n            var hdt = <HierarchicalDataTemplate>itemTemplate;\r\n            if (!(hdt instanceof HierarchicalDataTemplate))\r\n                return;\r\n            var isexpr = hdt.GetBindingExpression(HierarchicalDataTemplate.ItemsSourceProperty);\r\n            if (isexpr) {\r\n                var binding = new Data.Binding(isexpr.ParentBinding);\r\n                binding.Source = control.Header;\r\n                control.SetBinding(ItemsControl.ItemsSourceProperty, binding);\r\n            }\r\n            if (hdt.ItemTemplate !== undefined && control.ItemTemplate === itemTemplate) {\r\n                control.ClearValue(ItemsControl.ItemTemplateProperty);\r\n                if (hdt.ItemTemplate != null)\r\n                    control.ItemTemplate = hdt.ItemTemplate;\r\n            }\r\n            if (hdt.ItemContainerStyle !== undefined && control.ItemContainerStyle === parentItemContainerStyle) {\r\n                control.ClearValue(HeaderedItemsControl.ItemContainerStyleProperty);\r\n                if (hdt.ItemContainerStyle != null)\r\n                    control.ItemContainerStyle = hdt.ItemContainerStyle;\r\n            }\r\n        }\r\n    }\r\n\r\n    function hasDefaultValue (control: Control, propd: DependencyProperty): boolean {\r\n        return control.ReadLocalValue(propd) === DependencyProperty.UnsetValue;\r\n    }\r\n}","/// <reference path=\"Primitives/MenuBase.ts\" />\r\n\r\nmodule Fayde.Controls {\r\n    export class MenuItem extends Fayde.Controls.HeaderedItemsControl {\r\n        ParentMenuBase: Primitives.MenuBase;\r\n        Click = new RoutedEvent<RoutedEventArgs>();\r\n\r\n        static CommandProperty = DependencyProperty.Register(\"Command\", () => Input.ICommand_, MenuItem, undefined, (d: MenuItem, args) => d.OnCommandChanged(args));\r\n        static CommandParameterProperty = DependencyProperty.Register(\"CommandParameter\", () => Object, MenuItem, undefined, (d: MenuItem, args) => d.OnCommandParameterChanged(args));\r\n        static IconProperty = DependencyProperty.Register(\"Icon\", () => Object, MenuItem);\r\n        Command: Input.ICommand;\r\n        CommandParameter: any;\r\n        Icon: any;\r\n\r\n        private OnCommandChanged (args: IDependencyPropertyChangedEventArgs) {\r\n            var oldcmd = Input.ICommand_.as(args.OldValue);\r\n            if (oldcmd)\r\n                oldcmd.CanExecuteChanged.off(this._CanExecuteChanged, this);\r\n            var newcmd = Input.ICommand_.as(args.NewValue);\r\n            if (newcmd)\r\n                newcmd.CanExecuteChanged.on(this._CanExecuteChanged, this);\r\n            this.UpdateIsEnabled();\r\n        }\r\n\r\n        private _CanExecuteChanged (sender: any, e: any) {\r\n            this.UpdateIsEnabled();\r\n        }\r\n\r\n        private OnCommandParameterChanged (args: IDependencyPropertyChangedEventArgs) {\r\n            this.UpdateIsEnabled();\r\n        }\r\n\r\n\r\n        constructor () {\r\n            super();\r\n            this.DefaultStyleKey = MenuItem;\r\n            this.UpdateIsEnabled();\r\n        }\r\n\r\n        OnApplyTemplate () {\r\n            super.OnApplyTemplate();\r\n            this.UpdateVisualState(false);\r\n        }\r\n\r\n        private UpdateIsEnabled () {\r\n            this.IsEnabled = this.Command == null || this.Command.CanExecute(this.CommandParameter);\r\n            this.UpdateVisualState(true);\r\n        }\r\n\r\n        OnGotFocus (e: RoutedEventArgs) {\r\n            super.OnGotFocus(e);\r\n            this.UpdateVisualState(true);\r\n        }\r\n\r\n        OnLostFocus (e: RoutedEventArgs) {\r\n            super.OnLostFocus(e);\r\n            this.UpdateVisualState(true);\r\n        }\r\n\r\n        OnMouseEnter (e: Input.MouseEventArgs) {\r\n            super.OnMouseEnter(e);\r\n            this.Focus();\r\n            this.UpdateVisualState(true);\r\n        }\r\n\r\n        OnMouseLeave (e: Input.MouseEventArgs) {\r\n            super.OnMouseLeave(e);\r\n            if (this.ParentMenuBase != null)\r\n                this.ParentMenuBase.Focus();\r\n            this.UpdateVisualState(true);\r\n        }\r\n\r\n        OnMouseLeftButtonDown (e: Input.MouseButtonEventArgs) {\r\n            if (!e.Handled) {\r\n                this.OnClick();\r\n                e.Handled = true;\r\n            }\r\n            super.OnMouseLeftButtonDown(e);\r\n        }\r\n\r\n        OnMouseRightButtonDown (e: Input.MouseButtonEventArgs) {\r\n            if (!e.Handled) {\r\n                this.OnClick();\r\n                e.Handled = true;\r\n            }\r\n            super.OnMouseRightButtonDown(e);\r\n        }\r\n\r\n        OnKeyDown (e: Input.KeyEventArgs) {\r\n            if (!e.Handled && Input.Key.Enter === e.Key) {\r\n                this.OnClick();\r\n                e.Handled = true;\r\n            }\r\n            super.OnKeyDown(e);\r\n        }\r\n\r\n        private OnClick () {\r\n            var contextMenu = <ContextMenu>this.ParentMenuBase;\r\n            if (contextMenu instanceof ContextMenu)\r\n                contextMenu.ChildMenuItemClicked();\r\n            this.Click.raise(this, new RoutedEventArgs());\r\n            if (this.Command == null || !this.Command.CanExecute(this.CommandParameter))\r\n                return;\r\n            this.Command.Execute(this.CommandParameter);\r\n        }\r\n\r\n        GoToStateCommon (gotoFunc: (state: string) => boolean): boolean {\r\n            if (!this.IsEnabled)\r\n                return gotoFunc(\"Disabled\");\r\n            return gotoFunc(\"Normal\");\r\n        }\r\n    }\r\n    TemplateVisualStates(MenuItem,\r\n        {GroupName: \"CommonStates\", Name: \"Normal\"},\r\n        {GroupName: \"CommonStates\", Name: \"Disabled\"},\r\n        {GroupName: \"FocusStates\", Name: \"Unfocused\"},\r\n        {GroupName: \"FocusStates\", Name: \"Focused\"});\r\n}","/// <reference path=\"UpDownBase.ts\" />\r\n/// <reference path=\"Spinner.ts\" />\r\n\r\nmodule Fayde.Controls {\r\n    export class NumericUpDown extends Control {\r\n        static MinimumProperty = DependencyProperty.Register(\"Minimum\", () => Number, NumericUpDown, 0.0, (d: NumericUpDown, args) => d._Coercer.OnMinimumChanged(args.OldValue, args.NewValue));\r\n        static MaximumProperty = DependencyProperty.Register(\"Maximum\", () => Number, NumericUpDown, 100.0, (d: NumericUpDown, args) => d._Coercer.OnMaximumChanged(args.OldValue, args.NewValue));\r\n        static ValueProperty = DependencyProperty.Register(\"Value\", () => Number, NumericUpDown, 0.0, (d: NumericUpDown, args) => d._Coercer.OnValueChanged(args.OldValue, args.NewValue));\r\n        static IncrementProperty = DependencyProperty.Register(\"Increment\", () => Number, NumericUpDown, 1.0, (d: NumericUpDown, args) => d.OnIncrementChanged(args.OldValue, args.NewValue));\r\n        static DecimalPlacesProperty = DependencyProperty.Register(\"DecimalPlaces\", () => Number, NumericUpDown, 0, (d: NumericUpDown, args) => d._Coercer.OnDecimalPlacesChanged(args.OldValue, args.NewValue));\r\n        static SpinnerStyleProperty = DependencyProperty.Register(\"SpinnerStyle\", () => Style, NumericUpDown);\r\n        static IsEditableProperty = DependencyProperty.Register(\"IsEditable\", () => Boolean, NumericUpDown, true, (d: NumericUpDown, args) => d._Formatter.UpdateIsEditable());\r\n\r\n        Minimum: number;\r\n        Maximum: number;\r\n        Value: number;\r\n        Increment: number;\r\n        DecimalPlaces: number;\r\n        SpinnerStyle: Style;\r\n        IsEditable: boolean;\r\n\r\n        OnMinimumChanged (oldMinimum: number, newMinimum: number) {\r\n            this.UpdateValidSpinDirection();\r\n        }\r\n\r\n        OnMaximumChanged (oldMaximum: number, newMaximum: number) {\r\n            this.UpdateValidSpinDirection();\r\n        }\r\n\r\n        OnValueChanged (oldValue: number, newValue: number) {\r\n            this.UpdateValidSpinDirection();\r\n            if (this._Formatter)\r\n                this._Formatter.UpdateTextBoxText();\r\n        }\r\n\r\n        OnIncrementChanged (oldIncrement: number, newIncrement: number) {\r\n        }\r\n\r\n        OnDecimalPlacesChanged (oldDecimalPlaces: number, newDecimalPlaces: number) {\r\n        }\r\n\r\n        Parsing = new RoutedEvent<UpDownParsingEventArgs<number>>();\r\n        ParseError = new RoutedEvent<UpDownParseErrorEventArgs>();\r\n\r\n        private _Coercer: Internal.IFormattedRangeCoercer;\r\n        private _Formatter: Internal.ITextBoxFormatter;\r\n        private _SpinFlow: Internal.ISpinFlow;\r\n\r\n        constructor () {\r\n            super();\r\n            this.DefaultStyleKey = NumericUpDown;\r\n            this._Coercer = new Internal.FormattedRangeCoercer(this,\r\n                (val) => this.SetCurrentValue(NumericUpDown.MaximumProperty, val),\r\n                (val) => this.SetCurrentValue(NumericUpDown.ValueProperty, val),\r\n                () => {\r\n                    if (this._Formatter) this._Formatter.UpdateTextBoxText();\r\n                });\r\n        }\r\n\r\n        OnApplyTemplate () {\r\n            super.OnApplyTemplate();\r\n\r\n            if (this._SpinFlow)\r\n                this._SpinFlow.Dispose();\r\n            this._SpinFlow = new Internal.SpinFlow(this, <Spinner>this.GetTemplateChild(\"Spinner\", Spinner));\r\n\r\n            if (this._Formatter)\r\n                this._Formatter.Dispose();\r\n            this._Formatter = new Internal.TextBoxFormatter<number>(this, <TextBox>this.GetTemplateChild(\"Text\", TextBox),\r\n                (val) => this.SetCurrentValue(NumericUpDown.ValueProperty, val));\r\n\r\n            this.UpdateValidSpinDirection();\r\n            this.UpdateVisualState(false);\r\n        }\r\n\r\n        private UpdateValidSpinDirection () {\r\n            if (!this._SpinFlow)\r\n                return;\r\n            var val = this.Value;\r\n            this._SpinFlow.UpdateValid(val < this.Maximum, val > this.Minimum);\r\n        }\r\n\r\n        ParseValue (text: string) {\r\n            return parseFloat(text);\r\n        }\r\n\r\n        FormatValue (val: number): string {\r\n            return val.toFixed(this.DecimalPlaces);\r\n        }\r\n\r\n        OnSpin () {\r\n            this._Formatter.ProcessUserInput();\r\n        }\r\n\r\n        OnIncrement () {\r\n            this._Coercer.AddToValue(this.Increment);\r\n        }\r\n\r\n        OnDecrement () {\r\n            this._Coercer.AddToValue(-this.Increment);\r\n        }\r\n    }\r\n    TemplateVisualStates(NumericUpDown,\r\n        {GroupName: \"CommonStates\", Name: \"Normal\"},\r\n        {GroupName: \"CommonStates\", Name: \"MouseOver\"},\r\n        {GroupName: \"CommonStates\", Name: \"Pressed\"},\r\n        {GroupName: \"CommonStates\", Name: \"Disabled\"},\r\n        {GroupName: \"FocusStates\", Name: \"Unfocused\"},\r\n        {GroupName: \"FocusStates\", Name: \"Focused\"},\r\n        {GroupName: \"ValidationStates\", Name: \"Valid\"},\r\n        {GroupName: \"ValidationStates\", Name: \"InvalidUnfocused\"},\r\n        {GroupName: \"ValidationStates\", Name: \"InvalidFocused\"});\r\n    TemplateParts(NumericUpDown,\r\n        {Name: \"Text\", Type: TextBox},\r\n        {Name: \"Spinner\", Type: Spinner});\r\n\r\n    function numberValidator (d: DependencyObject, propd: DependencyProperty, value: any): boolean {\r\n        if (typeof value !== \"number\")\r\n            return false;\r\n        if (isNaN(value))\r\n            return false;\r\n        if (!isFinite(value))\r\n            return false;\r\n        return true;\r\n    }\r\n\r\n    function decimalPlacesValidator (d: DependencyObject, propd: DependencyProperty, value: any): boolean {\r\n        if (!numberValidator(d, propd, value))\r\n            return false;\r\n        return value >= 0 && value <= 15;\r\n    }\r\n}","\r\nmodule Fayde.Controls {\r\n    export class Separator extends Control {\r\n        constructor() {\r\n            super();\r\n            this.DefaultStyleKey = Separator;\r\n        }\r\n    }\r\n}","\r\nmodule Fayde.Controls {\r\n    export class SpinEventArgs extends RoutedEventArgs {\r\n        Direction: SpinDirection;\r\n        constructor(direction: SpinDirection) {\r\n            super();\r\n            Object.defineProperty(this, \"Direction\", { value: direction, writable: false });\r\n        }\r\n    }\r\n}","module Fayde.Controls {\r\n    var ElementTemplateTopName = \"TemplateTop\";\r\n    var ElementTemplateBottomName = \"TemplateBottom\";\r\n    var ElementTemplateLeftName = \"TemplateLeft\";\r\n    var ElementTemplateRightName = \"TemplateRight\";\r\n    var ElementTabPanelTopName = \"TabPanelTop\";\r\n    var ElementTabPanelBottomName = \"TabPanelBottom\";\r\n    var ElementTabPanelLeftName = \"TabPanelLeft\";\r\n    var ElementTabPanelRightName = \"TabPanelRight\";\r\n    var ElementContentTopName = \"ContentTop\";\r\n    var ElementContentBottomName = \"ContentBottom\";\r\n    var ElementContentLeftName = \"ContentLeft\";\r\n    var ElementContentRightName = \"ContentRight\";\r\n\r\n    export class TabControl extends ItemsControl {\r\n        static SelectedItemProperty = DependencyProperty.Register(\"SelectedItem\", () => Object, TabControl, null, (d: TabControl, args) => d.OnSelectedItemChanged(args));\r\n        static SelectedIndexProperty = DependencyProperty.Register(\"SelectedIndex\", () => Number, TabControl, -1, (d: TabControl, args) => d.OnSelectedIndexChanged(args));\r\n        static SelectedContentProperty = DependencyProperty.Register(\"SelectedContent\", () => Object, TabControl, null, (d: TabControl, args) => d.OnSelectedContentChanged(args));\r\n        static TabStripPlacementProperty = DependencyProperty.Register(\"TabStripPlacement\", () => new Enum(Dock), TabControl, Dock.Top, (d: TabControl, args) => d.OnTabStripPlacementPropertyChanged(args));\r\n        SelectedItem: any;\r\n        SelectedIndex: number;\r\n        SelectedContent: any;\r\n        TabStripPlacement: Dock;\r\n        SelectionChanged = new RoutedEvent<Controls.Primitives.SelectionChangedEventArgs>();\r\n\r\n        private _ElementTemplateTop: FrameworkElement;\r\n        private _ElementTemplateBottom: FrameworkElement;\r\n        private _ElementTemplateLeft: FrameworkElement;\r\n        private _ElementTemplateRight: FrameworkElement;\r\n\r\n        private _ElementTabPanelTop: TabPanel;\r\n        private _ElementTabPanelBottom: TabPanel;\r\n        private _ElementTabPanelLeft: TabPanel;\r\n        private _ElementTabPanelRight: TabPanel;\r\n\r\n        private _ElementContentTop: ContentPresenter;\r\n        private _ElementContentBottom: ContentPresenter;\r\n        private _ElementContentLeft: ContentPresenter;\r\n        private _ElementContentRight: ContentPresenter;\r\n\r\n        private _UpdateIndex = true;\r\n        private _DesiredIndex: number = 0;\r\n\r\n        constructor () {\r\n            super();\r\n            this.DefaultStyleKey = TabControl;\r\n        }\r\n\r\n        OnApplyTemplate () {\r\n            super.OnApplyTemplate();\r\n            if (this._ElementTabPanelTop != null)\r\n                this._ElementTabPanelTop.Children.Clear();\r\n            if (this._ElementTabPanelBottom != null)\r\n                this._ElementTabPanelBottom.Children.Clear();\r\n            if (this._ElementTabPanelLeft != null)\r\n                this._ElementTabPanelLeft.Children.Clear();\r\n            if (this._ElementTabPanelRight != null)\r\n                this._ElementTabPanelRight.Children.Clear();\r\n\r\n            var contentHost = this._GetContentHost(this.TabStripPlacement);\r\n            if (contentHost != null)\r\n                contentHost.Content = null;\r\n            this._ElementTemplateTop = <FrameworkElement>this.GetTemplateChild(\"TemplateTop\", FrameworkElement);\r\n            this._ElementTemplateBottom = <FrameworkElement>this.GetTemplateChild(\"TemplateBottom\", FrameworkElement);\r\n            this._ElementTemplateLeft = <FrameworkElement>this.GetTemplateChild(\"TemplateLeft\", FrameworkElement);\r\n            this._ElementTemplateRight = <FrameworkElement>this.GetTemplateChild(\"TemplateRight\", FrameworkElement);\r\n            this._ElementTabPanelTop = <TabPanel>this.GetTemplateChild(\"TabPanelTop\", TabPanel);\r\n            this._ElementTabPanelBottom = <TabPanel>this.GetTemplateChild(\"TabPanelBottom\", TabPanel);\r\n            this._ElementTabPanelLeft = <TabPanel>this.GetTemplateChild(\"TabPanelLeft\", TabPanel);\r\n            this._ElementTabPanelRight = <TabPanel>this.GetTemplateChild(\"TabPanelRight\", TabPanel);\r\n            TabPanel.setTabAlignment(this._ElementTabPanelTop, Dock.Top);\r\n            TabPanel.setTabAlignment(this._ElementTabPanelBottom, Dock.Bottom);\r\n            TabPanel.setTabAlignment(this._ElementTabPanelLeft, Dock.Left);\r\n            TabPanel.setTabAlignment(this._ElementTabPanelRight, Dock.Right);\r\n            this._ElementContentTop = <ContentPresenter>this.GetTemplateChild(\"ContentTop\", ContentPresenter);\r\n            this._ElementContentBottom = <ContentPresenter>this.GetTemplateChild(\"ContentBottom\", ContentPresenter);\r\n            this._ElementContentLeft = <ContentPresenter>this.GetTemplateChild(\"ContentLeft\", ContentPresenter);\r\n            this._ElementContentRight = <ContentPresenter>this.GetTemplateChild(\"ContentRight\", ContentPresenter);\r\n\r\n            var enumerator = this.Items.getEnumerator();\r\n            while (enumerator.moveNext()) {\r\n                var tabItem = <TabItem>enumerator.current;\r\n                if (!(tabItem instanceof TabItem))\r\n                    this._ThrowInvalidTabItem(tabItem);\r\n                this._AddToTabPanel(tabItem);\r\n            }\r\n\r\n            if (this.SelectedIndex >= 0)\r\n                this.UpdateSelectedContent(this.SelectedContent);\r\n            this.UpdateTabPanelLayout(this.TabStripPlacement, this.TabStripPlacement);\r\n            this.UpdateVisualState(false);\r\n        }\r\n\r\n        private OnSelectedItemChanged (args: IDependencyPropertyChangedEventArgs) {\r\n            var oldItem = <TabItem>args.OldValue;\r\n            var newItem = <TabItem>args.NewValue;\r\n            var num = newItem == null ? -1 : this.Items.IndexOf(newItem);\r\n            if (newItem != null && num === -1) {\r\n                this.SelectedItem = oldItem;\r\n            } else {\r\n                this.SelectedIndex = num;\r\n                this.SelectItem(oldItem, newItem);\r\n            }\r\n        }\r\n\r\n        private OnSelectedIndexChanged (args: IDependencyPropertyChangedEventArgs) {\r\n            var index = <number>args.NewValue;\r\n            var num = <number>args.OldValue;\r\n            if (index < -1)\r\n                throw new ArgumentException(\"'\" + index.toString() + \"' is not a valid value for property 'SelectedIndex'\");\r\n            if (this._UpdateIndex)\r\n                this._DesiredIndex = index;\r\n            else if (!this._UpdateIndex)\r\n                this._UpdateIndex = true;\r\n            if (index >= this.Items.Count) {\r\n                this._UpdateIndex = false;\r\n                this.SelectedIndex = num;\r\n            } else {\r\n                var item: any;\r\n                if (index >= 0 && index < this.Items.Count)\r\n                    item = this.Items.GetValueAt(index);\r\n                if (this.SelectedItem === item)\r\n                    return;\r\n                this.SelectedItem = item;\r\n            }\r\n        }\r\n\r\n        private OnSelectedContentChanged (args: IDependencyPropertyChangedEventArgs) {\r\n            this.UpdateSelectedContent(args.NewValue);\r\n        }\r\n\r\n        private OnTabStripPlacementPropertyChanged (args: IDependencyPropertyChangedEventArgs) {\r\n            this.UpdateTabPanelLayout(<Dock> args.OldValue, <Dock> args.NewValue);\r\n            var enumerator = this.Items.getEnumerator();\r\n            var ti: TabItem;\r\n            while (enumerator.moveNext()) {\r\n                ti = <TabItem>enumerator.current;\r\n                if (ti != null)\r\n                    ti.UpdateVisualState();\r\n            }\r\n        }\r\n\r\n        OnItemsChanged (e: Collections.CollectionChangedEventArgs) {\r\n            super.OnItemsChanged(e);\r\n            switch (e.Action) {\r\n                case Collections.CollectionChangedAction.Add:\r\n                    var index1 = -1;\r\n                    var len = e.NewItems.length;\r\n                    for (var i = 0; i < len; i++) {\r\n                        var obj = e.NewItems[i];\r\n                        var tabItem = <TabItem>obj;\r\n                        if (!(tabItem instanceof TabItem))\r\n                            this._ThrowInvalidTabItem(tabItem);\r\n                        var index2 = this.Items.IndexOf(tabItem);\r\n                        this._InsertIntoTabPanel(index2, tabItem);\r\n                        if (tabItem.IsSelected)\r\n                            index1 = index2;\r\n                        else if (this.SelectedItem !== this._GetItemAtIndex(this.SelectedIndex))\r\n                            index1 = this.Items.IndexOf(this.SelectedItem);\r\n                        else if (this._DesiredIndex < this.Items.Count && this._DesiredIndex >= 0)\r\n                            index1 = this._DesiredIndex;\r\n                        tabItem.UpdateVisualState();\r\n                    }\r\n                    if (index1 === -1) {\r\n                        var enumerator = this.Items.getEnumerator();\r\n                        while (enumerator.moveNext()) {\r\n                            var tabItem = <TabItem>enumerator.current;\r\n                            if (!(tabItem instanceof TabItem))\r\n                                this._ThrowInvalidTabItem(tabItem);\r\n                            if (tabItem.IsSelected)\r\n                                return;\r\n                        }\r\n                        if (this.Items.Count <= 1) {\r\n                            var item0 = <TabItem>this.Items.GetValueAt(0);\r\n                            var iss = item0.ReadLocalValue(TabItem.IsSelectedProperty);\r\n                            if (iss !== false)\r\n                                index1 = 0;\r\n                        } else {\r\n                            index1 = 0;\r\n                        }\r\n                    }\r\n                    this.SelectedItem = this._GetItemAtIndex(index1);\r\n                    this.SelectedIndex = index1;\r\n                    break;\r\n                case Collections.CollectionChangedAction.Remove:\r\n                    var len = e.OldItems.length;\r\n                    var tabItem: TabItem;\r\n                    for (var i = 0; i < len; i++) {\r\n                        tabItem = <TabItem>e.OldItems[i];\r\n                        this._RemoveFromTabPanel(tabItem);\r\n                        if (this.Items.Count === 0)\r\n                            this.SelectedIndex = -1;\r\n                        else if (this.Items.Count <= this.SelectedIndex)\r\n                            this.SelectedIndex = this.Items.Count - 1;\r\n                        else\r\n                            this.SelectedItem = this._GetItemAtIndex(this.SelectedIndex);\r\n                    }\r\n                    break;\r\n                case Collections.CollectionChangedAction.Reset:\r\n                    this._ClearTabPanel();\r\n                    this.SelectedIndex = -1;\r\n                    var tabItem: TabItem;\r\n                    var enumerator = this.Items.getEnumerator();\r\n                    while (enumerator.moveNext()) {\r\n                        tabItem = <TabItem>enumerator.current;\r\n                        if (!(tabItem instanceof TabItem))\r\n                            this._ThrowInvalidTabItem(tabItem);\r\n                        this._AddToTabPanel(tabItem);\r\n                        if (tabItem.IsSelected)\r\n                            this.SelectedItem = tabItem;\r\n                    }\r\n                    if (this.SelectedIndex !== -1 || this.Items.Count <= 0)\r\n                        break;\r\n                    this.SelectedIndex = 0;\r\n                    break;\r\n            }\r\n        }\r\n\r\n        OnKeyDown (e: Input.KeyEventArgs) {\r\n            super.OnKeyDown(e);\r\n            if (e.Handled)\r\n                return;\r\n            var nextTabItem: TabItem;\r\n\r\n            switch (e.Key) {\r\n                case Input.Key.End:\r\n                    nextTabItem = this._FindEndTabItem();\r\n                    break;\r\n                case Input.Key.Home:\r\n                    nextTabItem = this._FindHomeTabItem();\r\n                    break;\r\n                default:\r\n                    return;\r\n            }\r\n            if (nextTabItem == null || nextTabItem === this.SelectedItem)\r\n                return;\r\n            e.Handled = true;\r\n            this.SelectedItem = nextTabItem;\r\n            nextTabItem.Focus();\r\n        }\r\n\r\n        private _FindEndTabItem (): TabItem {\r\n            var items = this.Items;\r\n            var len = items.Count;\r\n            var tabItem: TabItem = null;\r\n            for (var i = len - 1; i >= 0; i--) {\r\n                tabItem = <TabItem>items.GetValueAt(i);\r\n                if (tabItem.IsEnabled && tabItem.Visibility === Visibility.Visible)\r\n                    return tabItem;\r\n            }\r\n            return null;\r\n        }\r\n\r\n        private _FindHomeTabItem (): TabItem {\r\n            var items = this.Items;\r\n            var len = items.Count;\r\n            var tabItem: TabItem = null;\r\n            for (var i = 0; i < len; i++) {\r\n                tabItem = <TabItem>items.GetValueAt(i);\r\n                if (tabItem.IsEnabled && tabItem.Visibility === Visibility.Visible)\r\n                    return tabItem;\r\n            }\r\n            return null;\r\n        }\r\n\r\n        private SelectItem (oldItem: TabItem, newItem: TabItem) {\r\n            if (newItem == null) {\r\n                var contentHost = this._GetContentHost(this.TabStripPlacement);\r\n                if (contentHost != null)\r\n                    contentHost.Content = null;\r\n                this.SetValue(TabControl.SelectedContentProperty, null);\r\n            }\r\n            var tabItem: TabItem;\r\n            var enumerator = this.Items.getEnumerator();\r\n            while (enumerator.moveNext()) {\r\n                var tabItem = <TabItem>enumerator.current;\r\n                if (!(tabItem instanceof TabItem))\r\n                    this._ThrowInvalidTabItem(tabItem);\r\n                if (tabItem !== newItem && tabItem.IsSelected) {\r\n                    tabItem.IsSelected = false;\r\n                } else if (tabItem === newItem) {\r\n                    tabItem.IsSelected = true;\r\n                    this.SetValue(TabControl.SelectedContentProperty, tabItem.Content);\r\n                }\r\n            }\r\n\r\n            var oldItems: TabItem[] = [];\r\n            if (oldItem != null)\r\n                oldItems.push(oldItem);\r\n\r\n            var newItems: TabItem[] = [];\r\n            if (newItem != null)\r\n                newItems.push(newItem);\r\n            var e = new Controls.Primitives.SelectionChangedEventArgs(oldItems, newItems)\r\n            this.OnSelectionChanged(e);\r\n            this.SelectionChanged.raise(this, e);\r\n        }\r\n\r\n        OnSelectionChanged (e: Controls.Primitives.SelectionChangedEventArgs) {\r\n        }\r\n\r\n        private UpdateTabPanelLayout (oldValue: Dock, newValue: Dock) {\r\n            var template1 = this._GetTemplate(oldValue);\r\n            var template2 = this._GetTemplate(newValue);\r\n            var tabPanel1 = this._GetTabPanel(oldValue);\r\n            var tabPanel2 = this._GetTabPanel(newValue);\r\n            var contentHost1 = this._GetContentHost(oldValue);\r\n            var contentHost2 = this._GetContentHost(newValue);\r\n            if (oldValue !== newValue) {\r\n                if (template1 != null)\r\n                    template1.Visibility = Visibility.Collapsed;\r\n                if (tabPanel1 != null)\r\n                    tabPanel1.Children.Clear();\r\n                if (tabPanel2 != null) {\r\n                    var enumerator = this.Items.getEnumerator();\r\n                    var ti: TabItem;\r\n                    while (enumerator.moveNext()) {\r\n                        ti = <TabItem>enumerator.current;\r\n                        if (!(ti instanceof TabItem))\r\n                            this._ThrowInvalidTabItem(ti);\r\n                        this._AddToTabPanel(ti);\r\n                    }\r\n                }\r\n                if (contentHost1 != null)\r\n                    contentHost1.Content = null;\r\n                if (contentHost2 != null)\r\n                    contentHost2.Content = this.SelectedContent;\r\n            }\r\n            if (template2 == null)\r\n                return;\r\n            template2.Visibility = Visibility.Visible;\r\n        }\r\n\r\n        private UpdateSelectedContent (content: any) {\r\n            var tabItem = <TabItem>this.SelectedItem;\r\n            if (!(tabItem instanceof TabItem))\r\n                return;\r\n            var contentHost = this._GetContentHost(this.TabStripPlacement);\r\n            if (contentHost == null)\r\n                return;\r\n            contentHost.HorizontalAlignment = tabItem.HorizontalContentAlignment;\r\n            contentHost.VerticalAlignment = tabItem.VerticalContentAlignment;\r\n            contentHost.ContentTemplate = tabItem.ContentTemplate;\r\n            contentHost.Content = content;\r\n        }\r\n\r\n        private EnsureLanguageBinding (tabItem: TabItem) {\r\n            if (tabItem == null)\r\n                return;\r\n            var frameworkElement = <FrameworkElement>tabItem.Content;\r\n            if (!(frameworkElement instanceof FrameworkElement) || frameworkElement.ReadLocalValue(FrameworkElement.LanguageProperty) !== DependencyProperty.UnsetValue)\r\n                return;\r\n            var binding = new Fayde.Data.Binding(\"Language\");\r\n            binding.Source = this;\r\n            frameworkElement.SetBinding(FrameworkElement.LanguageProperty, binding);\r\n        }\r\n\r\n        private ClearLanguageBinding (tabItem: TabItem) {\r\n            if (tabItem == null)\r\n                return;\r\n            var frameworkElement = <FrameworkElement>tabItem.Content;\r\n            if (!(frameworkElement instanceof FrameworkElement) || frameworkElement.ReadLocalValue(FrameworkElement.LanguageProperty) !== DependencyProperty.UnsetValue)\r\n                return;\r\n            frameworkElement.ClearValue(FrameworkElement.LanguageProperty);\r\n        }\r\n\r\n        private _AddToTabPanel (ti: TabItem) {\r\n            var tabPanel = this._GetTabPanel(this.TabStripPlacement);\r\n            if (!tabPanel || tabPanel.Children.Contains(ti))\r\n                return;\r\n            tabPanel.Children.Add(ti);\r\n            this.EnsureLanguageBinding(ti);\r\n        }\r\n\r\n        private _InsertIntoTabPanel (index: number, ti: TabItem) {\r\n            var tabPanel = this._GetTabPanel(this.TabStripPlacement);\r\n            if (!tabPanel || tabPanel.Children.Contains(ti))\r\n                return;\r\n            tabPanel.Children.Insert(index, ti);\r\n        }\r\n\r\n        private _RemoveFromTabPanel (ti: TabItem) {\r\n            var tabPanel = this._GetTabPanel(this.TabStripPlacement);\r\n            if (!tabPanel || !tabPanel.Children.Contains(ti))\r\n                return;\r\n            tabPanel.Children.Remove(ti);\r\n        }\r\n\r\n        private _ClearTabPanel () {\r\n            var tabPanel = this._GetTabPanel(this.TabStripPlacement);\r\n            if (!tabPanel)\r\n                return;\r\n            var enumerator = tabPanel.Children.getEnumerator();\r\n            while (enumerator.moveNext()) {\r\n                var tabItem = <TabItem>enumerator.current;\r\n                if (tabItem != null)\r\n                    this.ClearLanguageBinding(tabItem);\r\n            }\r\n            tabPanel.Children.Clear();\r\n        }\r\n\r\n        private _GetTabPanel (tabPlacement: Dock): TabPanel {\r\n            switch (tabPlacement) {\r\n                case Dock.Left:\r\n                    return this._ElementTabPanelLeft;\r\n                case Dock.Top:\r\n                    return this._ElementTabPanelTop;\r\n                case Dock.Right:\r\n                    return this._ElementTabPanelRight;\r\n                case Dock.Bottom:\r\n                    return this._ElementTabPanelBottom;\r\n                default:\r\n                    return null;\r\n            }\r\n        }\r\n\r\n        private _GetTemplate (tabPlacement: Dock): FrameworkElement {\r\n            switch (tabPlacement) {\r\n                case Dock.Left:\r\n                    return this._ElementTemplateLeft;\r\n                case Dock.Top:\r\n                    return this._ElementTemplateTop;\r\n                case Dock.Right:\r\n                    return this._ElementTemplateRight;\r\n                case Dock.Bottom:\r\n                    return this._ElementTemplateBottom;\r\n                default:\r\n                    return null;\r\n            }\r\n        }\r\n\r\n        private _GetContentHost (tabPlacement: Dock): ContentPresenter {\r\n            switch (tabPlacement) {\r\n                case Dock.Left:\r\n                    return this._ElementContentLeft;\r\n                case Dock.Top:\r\n                    return this._ElementContentTop;\r\n                case Dock.Right:\r\n                    return this._ElementContentRight;\r\n                case Dock.Bottom:\r\n                    return this._ElementContentBottom;\r\n                default:\r\n                    return null;\r\n            }\r\n        }\r\n\r\n        private _GetItemAtIndex (index: number): TabItem {\r\n            if (index < 0 || index >= this.Items.Count)\r\n                return null;\r\n            var item = <TabItem>this.Items.GetValueAt(index);\r\n            if (item instanceof TabItem)\r\n                return item;\r\n        }\r\n\r\n        private _ThrowInvalidTabItem (obj: any) {\r\n            var type: string = \"object\";\r\n            try {\r\n                type = obj.constructor._TypeName;\r\n            } catch (err) {\r\n            }\r\n            throw new ArgumentException(\"Unable to cast object of type '\" + type + \"' to type 'System.Windows.Controls.TabItem'.\");\r\n        }\r\n    }\r\n    TemplateVisualStates(TabControl,\r\n        {GroupName: \"CommonStates\", Name: \"Normal\"},\r\n        {GroupName: \"CommonStates\", Name: \"Disabled\"});\r\n    TemplateParts(TabControl,\r\n        {Name: \"TemplateLeft\", Type: FrameworkElement},\r\n        {Name: \"ContentLeft\", Type: ContentPresenter},\r\n        {Name: \"TabPanelLeft\", Type: TabPanel},\r\n        {Name: \"TemplateTop\", Type: FrameworkElement},\r\n        {Name: \"ContentTop\", Type: ContentPresenter},\r\n        {Name: \"TabPanelTop\", Type: TabPanel},\r\n        {Name: \"TemplateRight\", Type: FrameworkElement},\r\n        {Name: \"ContentRight\", Type: ContentPresenter},\r\n        {Name: \"TabPanelRight\", Type: TabPanel},\r\n        {Name: \"TemplateBottom\", Type: FrameworkElement},\r\n        {Name: \"ContentBottom\", Type: ContentPresenter},\r\n        {Name: \"TabPanelBottom\", Type: TabPanel});\r\n}","module Fayde.Controls {\r\n    export class TabItem extends ContentControl {\r\n        static HasHeaderProperty = DependencyProperty.Register(\"HasHeader\", () => Boolean, TabItem, false);\r\n        static HeaderProperty = DependencyProperty.Register(\"Header\", () => Object, TabItem, null, (d, args) => (<TabItem>d)._OnHeaderChanged(args));\r\n        static HeaderTemplateProperty = DependencyProperty.Register(\"HeaderTemplate\", () => DataTemplate, TabItem, undefined, (d, args) => (<TabItem>d).OnHeaderTemplateChanged(<DataTemplate>args.OldValue, <DataTemplate>args.NewValue));\r\n        static IsFocusedProperty = DependencyProperty.Register(\"IsFocused\", () => Boolean, TabItem, false);\r\n        static IsSelectedProperty = DependencyProperty.Register(\"IsSelected\", () => Boolean, TabItem, false, (d, args) => (<TabItem>d)._OnIsSelectedChanged(args));\r\n        HasHeader: boolean;\r\n        Header: any;\r\n        HeaderTemplate: DataTemplate;\r\n        IsFocused: boolean;\r\n        IsSelected: boolean;\r\n\r\n        private _SelectedElements = new Elements();\r\n        private _UnselectedElements = new Elements();\r\n\r\n        private _PreviousTemplate: FrameworkElement = null;\r\n        private _PreviousHeader: ContentControl = null;\r\n\r\n        get TabStripPlacement(): Dock {\r\n            var tabControlParent = this.TabControlParent;\r\n            if (tabControlParent != null)\r\n                return tabControlParent.TabStripPlacement;\r\n            return Dock.Top;\r\n        }\r\n        private get TabControlParent(): TabControl {\r\n            return VisualTreeHelper.GetParentOfType<TabControl>(this, TabControl);\r\n        }\r\n\r\n        constructor() {\r\n            super();\r\n            this.DefaultStyleKey = TabItem;\r\n        }\r\n\r\n        OnApplyTemplate() {\r\n            super.OnApplyTemplate();\r\n            var contentControl = this._GetContentControl(this.IsSelected, this.TabStripPlacement);\r\n            if (contentControl != null)\r\n                contentControl.Content = null;\r\n\r\n            this._SelectedElements.OnApplyTemplate(this, true);\r\n            this._UnselectedElements.OnApplyTemplate(this, false);\r\n\r\n            this._UpdateHeaderVisuals();\r\n            this.UpdateVisualState(false);\r\n        }\r\n\r\n        private _OnHeaderChanged(args: IDependencyPropertyChangedEventArgs) {\r\n            this.HasHeader = args.NewValue != null;\r\n            this.OnHeaderChanged(args.OldValue, args.NewValue);\r\n        }\r\n        OnHeaderChanged(oldValue: any, newValue: any) {\r\n            this._UpdateHeaderVisuals();\r\n        }\r\n        OnHeaderTemplateChanged(oldHeaderTemplate: DataTemplate, newHeaderTemplate: DataTemplate) {\r\n            this._UpdateHeaderVisuals();\r\n        }\r\n        private _OnIsSelectedChanged(args: IDependencyPropertyChangedEventArgs) {\r\n            var isSelected = <boolean>args.NewValue;\r\n            var e1 = new RoutedEventArgs();\r\n            if (isSelected)\r\n                this.OnSelected(e1);\r\n            else\r\n                this.OnUnselected(e1);\r\n            this.IsTabStop = isSelected;\r\n            this.UpdateVisualState();\r\n        }\r\n        OnSelected(e: RoutedEventArgs) {\r\n            var parent = this.TabControlParent;\r\n            if (!parent)\r\n                return;\r\n            parent.SelectedItem = this;\r\n        }\r\n        OnUnselected(e: RoutedEventArgs) {\r\n            var parent = this.TabControlParent;\r\n            if (!parent || parent.SelectedItem != this)\r\n                return;\r\n            parent.SelectedIndex = -1;\r\n        }\r\n\r\n        UpdateVisualState(useTransitions?: boolean) {\r\n            var template = this.GetTemplate(this.IsSelected, this.TabStripPlacement);\r\n            if (this._PreviousTemplate != null && this._PreviousTemplate !== template)\r\n                this._PreviousTemplate.Visibility = Visibility.Collapsed;\r\n            this._PreviousTemplate = template;\r\n            if (template != null)\r\n                template.Visibility = Visibility.Visible;\r\n            var contentControl = this._GetContentControl(this.IsSelected, this.TabStripPlacement);\r\n            if (this._PreviousHeader && this._PreviousHeader !== contentControl)\r\n                this._PreviousHeader.Content = null;\r\n            this._PreviousHeader = contentControl;\r\n            this._UpdateHeaderVisuals();\r\n\r\n            super.UpdateVisualState(useTransitions);\r\n        }\r\n        private _UpdateHeaderVisuals() {\r\n            var contentControl = this._GetContentControl(this.IsSelected, this.TabStripPlacement);\r\n            if (!contentControl)\r\n                return;\r\n            contentControl.Content = this.Header;\r\n            contentControl.ContentTemplate = this.HeaderTemplate;\r\n        }\r\n\r\n        OnMouseLeave(e: Input.MouseEventArgs) {\r\n            this.UpdateVisualState();\r\n        }\r\n        OnMouseEnter(e: Input.MouseEventArgs) {\r\n            this.UpdateVisualState();\r\n        }\r\n        OnMouseLeftButtonDown(e: Input.MouseButtonEventArgs) {\r\n            if (!this.IsEnabled || !this.TabControlParent || (this.IsSelected || e.Handled))\r\n                return;\r\n            this.IsTabStop = true;\r\n            e.Handled = this.Focus();\r\n            this.TabControlParent.SelectedIndex = this.TabControlParent.Items.IndexOf(this);\r\n        }\r\n\r\n        OnGotFocus(e: RoutedEventArgs) {\r\n            super.OnGotFocus(e);\r\n            this.SetValueInternal(TabItem.IsFocusedProperty, true);\r\n            this.UpdateVisualState();\r\n        }\r\n        OnLostFocus(e: RoutedEventArgs) {\r\n            super.OnLostFocus(e);\r\n            this.SetValueInternal(TabItem.IsFocusedProperty, false);\r\n            this.UpdateVisualState();\r\n        }\r\n\r\n        OnContentChanged(oldContent: any, newContent: any) {\r\n            super.OnContentChanged(oldContent, newContent);\r\n            var parent = this.TabControlParent;\r\n            if (!parent || !this.IsSelected)\r\n                return;\r\n            parent.SelectedContent = newContent;\r\n        }\r\n\r\n        OnKeyDown(e: Input.KeyEventArgs) {\r\n            super.OnKeyDown(e);\r\n            if (e.Handled)\r\n                return;\r\n            var parent = this.TabControlParent;\r\n            var logicalKey = Input.InteractionHelper.GetLogicalKey(this.FlowDirection, e.Key);\r\n            var startIndex = parent.Items.IndexOf(this);\r\n            var nextTabItem: TabItem = null;\r\n            switch (logicalKey) {\r\n                case Input.Key.Left:\r\n                case Input.Key.Up:\r\n                    nextTabItem = this._FindPreviousTabItem(startIndex);\r\n                    break;\r\n                case Input.Key.Right:\r\n                case Input.Key.Down:\r\n                    nextTabItem = this._FindNextTabItem(startIndex);\r\n                    break;\r\n                default:\r\n                    return;\r\n            }\r\n            if (!nextTabItem || nextTabItem === parent.SelectedItem)\r\n                return;\r\n            e.Handled = true;\r\n            parent.SelectedItem = nextTabItem;\r\n            nextTabItem.Focus();\r\n        }\r\n\r\n        GetTemplate(isSelected: boolean, tabPlacement: Dock): FrameworkElement {\r\n            var e = isSelected ? this._SelectedElements : this._UnselectedElements;\r\n            return (<Element>e[Dock[tabPlacement]]).Template;\r\n        }\r\n        private _GetContentControl(isSelected: boolean, tabPlacement: Dock): ContentControl {\r\n            var e = isSelected ? this._SelectedElements : this._UnselectedElements;\r\n            return (<Element>e[Dock[tabPlacement]]).Header;\r\n        }\r\n\r\n        private _FindPreviousTabItem(startIndex: number): TabItem {\r\n            for (var i = startIndex, items = this.TabControlParent.Items; i >= 0; i--) {\r\n                var tabItem = <TabItem>items.GetValueAt(i);\r\n                if (tabItem.IsEnabled && tabItem.Visibility === Visibility.Visible)\r\n                    return tabItem;\r\n            }\r\n            return null;\r\n        }\r\n        private _FindNextTabItem(startIndex: number): TabItem {\r\n            for (var i = startIndex, items = this.TabControlParent.Items, len = items.Count; i < len; i++) {\r\n                var tabItem = <TabItem>items.GetValueAt(i);\r\n                if (tabItem.IsEnabled && tabItem.Visibility === Visibility.Visible)\r\n                    return tabItem;\r\n            }\r\n            return null;\r\n        }\r\n    }\r\n    TemplateVisualStates(TabItem,\r\n        { GroupName: \"CommonStates\", Name: \"Normal\" },\r\n        { GroupName: \"CommonStates\", Name: \"MouseOver\" },\r\n        { GroupName: \"CommonStates\", Name: \"Disabled\" },\r\n        { GroupName: \"FocusStates\", Name: \"Unfocused\" },\r\n        { GroupName: \"FocusStates\", Name: \"Focused\" },\r\n        { GroupName: \"SelectionStates\", Name: \"Unselected\" },\r\n        { GroupName: \"SelectionStates\", Name: \"Selected\" });\r\n    TemplateParts(TabItem,\r\n        { Name: \"HeaderLeftSelected\", Type: FrameworkElement },\r\n        { Name: \"HeaderTopSelected\", Type: FrameworkElement },\r\n        { Name: \"HeaderRightSelected\", Type: FrameworkElement },\r\n        { Name: \"HeaderBottomSelected\", Type: FrameworkElement },\r\n        { Name: \"TemplateLeftSelected\", Type: FrameworkElement },\r\n        { Name: \"TemplateTopSelected\", Type: FrameworkElement },\r\n        { Name: \"TemplateRightSelected\", Type: FrameworkElement },\r\n        { Name: \"TemplateBottomSelected\", Type: FrameworkElement },\r\n        { Name: \"HeaderLeftUnselected\", Type: FrameworkElement },\r\n        { Name: \"HeaderTopUnselected\", Type: FrameworkElement },\r\n        { Name: \"HeaderRightUnselected\", Type: FrameworkElement },\r\n        { Name: \"HeaderBottomUnselected\", Type: FrameworkElement },\r\n        { Name: \"TemplateLeftUnselected\", Type: FrameworkElement },\r\n        { Name: \"TemplateTopUnselected\", Type: FrameworkElement },\r\n        { Name: \"TemplateRightUnselected\", Type: FrameworkElement },\r\n        { Name: \"TemplateBottomUnselected\", Type: FrameworkElement });\r\n\r\n    class Elements {\r\n        Top = new Element();\r\n        Bottom = new Element();\r\n        Left = new Element();\r\n        Right = new Element();\r\n        OnApplyTemplate(control: Control, isSelected: boolean) {\r\n            this.Top.OnApplyTemplate(control, isSelected, \"Top\");\r\n            this.Bottom.OnApplyTemplate(control, isSelected, \"Bottom\");\r\n            this.Left.OnApplyTemplate(control, isSelected, \"Left\");\r\n            this.Right.OnApplyTemplate(control, isSelected, \"Right\");\r\n        }\r\n    }\r\n    class Element {\r\n        Header: ContentControl = null;\r\n        Template: FrameworkElement = null;\r\n        OnApplyTemplate(control: Control, isSelected: boolean, dock: string) {\r\n            var post = dock + (isSelected ? \"Selected\" : \"Unselected\");\r\n            this.Header = <ContentControl>control.GetTemplateChild(\"Header\" + post, ContentControl);\r\n            this.Template = <FrameworkElement>control.GetTemplateChild(\"Template\" + post, FrameworkElement);\r\n        }\r\n    }\r\n}","module Fayde.Controls {\r\n    export class TimePicker extends Control {\r\n        static SelectedHourProperty = DependencyProperty.Register(\"SelectedHour\", () => Number, TimePicker, 0, (d, args) => (<TimePicker>d).OnSelectedHourChanged(args));\r\n        static SelectedMinuteProperty = DependencyProperty.Register(\"SelectedMinute\", () => Number, TimePicker, 0, (d, args) => (<TimePicker>d).OnSelectedMinuteChanged(args));\r\n        static SelectedSecondProperty = DependencyProperty.Register(\"SelectedSecond\", () => Number, TimePicker, 0, (d, args) => (<TimePicker>d).OnSelectedSecondChanged(args));\r\n        static SelectedTimeProperty = DependencyProperty.Register(\"SelectedTime\", () => TimeSpan, TimePicker, undefined, (d, args) => (<TimePicker>d).OnSelectedTimeChanged(args));\r\n        static IsSecondsShownProperty = DependencyProperty.Register(\"IsSecondsShown\", () => Boolean, TimePicker, true, (d, args) => (<TimePicker>d)._UpdateText());\r\n        static DisplayModeProperty = DependencyProperty.Register(\"DisplayMode\", () => new Enum(TimeDisplayMode), TimePicker, TimeDisplayMode.Regular, (d, args) => (<TimePicker>d).OnDisplayModeChanged(args));\r\n        SelectedHour: number;\r\n        SelectedMinute: number;\r\n        SelectedSecond: number;\r\n        SelectedTime: TimeSpan;\r\n        IsSecondsShown: boolean;\r\n        DisplayMode: TimeDisplayMode;\r\n\r\n        private OnSelectedHourChanged(args: IDependencyPropertyChangedEventArgs) {\r\n            this.CoerceHour(args.NewValue);\r\n            this.CoerceTime();\r\n        }\r\n        private OnSelectedMinuteChanged(args: IDependencyPropertyChangedEventArgs) {\r\n            this.CoerceMinute(args.NewValue);\r\n            this.CoerceTime();\r\n        }\r\n        private OnSelectedSecondChanged(args: IDependencyPropertyChangedEventArgs) {\r\n            this.CoerceSecond(args.NewValue);\r\n            this.CoerceTime();\r\n        }\r\n        private OnSelectedTimeChanged(args: IDependencyPropertyChangedEventArgs) {\r\n            var ts = <TimeSpan>args.NewValue;\r\n            if (ts instanceof TimeSpan) {\r\n                this.CoerceHour(ts.Hours);\r\n                this.CoerceMinute(ts.Minutes);\r\n                this.CoerceSecond(ts.Seconds);\r\n            } else {\r\n                this.CoerceHour(NaN);\r\n                this.CoerceMinute(NaN);\r\n                this.CoerceSecond(NaN);\r\n            }\r\n        }\r\n        private OnDisplayModeChanged(args: IDependencyPropertyChangedEventArgs) {\r\n            this._UpdateText();\r\n        }\r\n\r\n        private _HourTextBox: TextBox = null;\r\n        private _MinuteTextBox: TextBox = null;\r\n        private _SecondTextBox: TextBox = null;\r\n        private _SecondSeparator: FrameworkElement = null;\r\n        private _SuffixTextBlock: TextBlock = null;\r\n\r\n        private _HourGesture = new Internal.EventGesture<TextBox>();\r\n        private _MinuteGesture = new Internal.EventGesture<TextBox>();\r\n        private _SecondGesture = new Internal.EventGesture<TextBox>();\r\n        private _SuffixGesture = new Internal.EventGesture<TextBox>();\r\n\r\n        private _SelectionHandler: Internal.SelectionHandler = null;\r\n\r\n        constructor() {\r\n            super();\r\n            this.DefaultStyleKey = TimePicker;\r\n            this.CoerceTime();\r\n        }\r\n\r\n        OnApplyTemplate() {\r\n            super.OnApplyTemplate();\r\n\r\n            this._HourGesture.Detach();\r\n            this._HourTextBox = <TextBox>this.GetTemplateChild(\"HourTextBox\", TextBox);\r\n            if (this._HourTextBox)\r\n                this._HourGesture.Attach(this._HourTextBox.LostFocus, (tb) => this.CoerceHour(this._GetHourInput()));\r\n            \r\n            this._MinuteGesture.Detach();\r\n            this._MinuteTextBox = <TextBox>this.GetTemplateChild(\"MinuteTextBox\", TextBox);\r\n            if (this._MinuteTextBox)\r\n                this._MinuteGesture.Attach(this._MinuteTextBox.LostFocus, (tb) => this.CoerceMinute(tb.Text));\r\n            \r\n            this._SecondGesture.Detach();\r\n            this._SecondTextBox = <TextBox>this.GetTemplateChild(\"SecondTextBox\", TextBox);\r\n            if (this._SecondTextBox)\r\n                this._SecondGesture.Attach(this._SecondTextBox.LostFocus, (tb) => this.CoerceSecond(tb.Text));\r\n\r\n            this._SecondSeparator = <FrameworkElement>this.GetTemplateChild(\"SecondSeparator\", FrameworkElement);\r\n\r\n            this._SuffixGesture.Detach();\r\n            this._SuffixTextBlock = <TextBlock>this.GetTemplateChild(\"SuffixTextBlock\", TextBlock);\r\n            if (this._SuffixTextBlock)\r\n                this._SuffixGesture.Attach(this._SuffixTextBlock.MouseLeftButtonUp, (tb) => this.ToggleAmPm());\r\n\r\n            if (this._SelectionHandler)\r\n                this._SelectionHandler.Dispose();\r\n            this._SelectionHandler = new Internal.SelectionHandler([this._HourTextBox, this._MinuteTextBox, this._SecondTextBox]);\r\n\r\n            this._UpdateText();\r\n        }\r\n\r\n        private _GetHourInput(): string {\r\n            var text = this._HourTextBox.Text;\r\n            if (this.DisplayMode === TimeDisplayMode.Military)\r\n                return text;\r\n            var h = parseFloat(text);\r\n            var isa = !!this._SuffixTextBlock && this._SuffixTextBlock.Text === \"AM\";\r\n            if (isa && h === 12)\r\n                return \"00\";\r\n            if (!isa && h < 12)\r\n                return (h + 12).toString();\r\n            return text;\r\n        }\r\n\r\n        private CoerceHour(hour: any) {\r\n            hour = Math.max(0, Math.min(23, hour));\r\n            hour = hour || 0;\r\n            this.SetCurrentValue(TimePicker.SelectedHourProperty, hour);\r\n            this._UpdateText();\r\n        }\r\n        private CoerceMinute(minute: any) {\r\n            minute = Math.max(0, Math.min(59, minute));\r\n            minute = minute || 0;\r\n            this.SetCurrentValue(TimePicker.SelectedMinuteProperty, minute);\r\n            this._UpdateText();\r\n        }\r\n        private CoerceSecond(second: any) {\r\n            second = Math.max(0, Math.min(59, second));\r\n            second = second || 0;\r\n            this.SetCurrentValue(TimePicker.SelectedSecondProperty, second);\r\n            this._UpdateText();\r\n        }\r\n        private CoerceTime() {\r\n            var ts = new TimeSpan(this.SelectedHour, this.SelectedMinute, this.SelectedSecond);\r\n            var old = this.SelectedTime;\r\n            if (!!old && ts.CompareTo(old) === 0)\r\n                return;\r\n            this.SetCurrentValue(TimePicker.SelectedTimeProperty, ts);\r\n        }\r\n        private ToggleAmPm() {\r\n            var hour = this.SelectedHour;\r\n            if (hour >= 12)\r\n                hour -= 12;\r\n            else\r\n                hour += 12;\r\n            this.CoerceHour(hour);\r\n        }\r\n\r\n        private _UpdateText() {\r\n            var isMilitary = this.DisplayMode === TimeDisplayMode.Military;\r\n            var h = this.SelectedHour;\r\n            var m = this.SelectedMinute;\r\n            var s = this.SelectedSecond;\r\n            var isSecondShown = this.IsSecondsShown;\r\n\r\n            var hd = h;\r\n            if (!isMilitary) {\r\n                hd = hd >= 12 ? (hd - 12) : hd;\r\n                hd = hd === 0 ? 12 : hd;\r\n            }\r\n\r\n            if (this._HourTextBox)\r\n                this._HourTextBox.Text = formatNumber(hd, 2, \"00\");\r\n            if (this._MinuteTextBox)\r\n                this._MinuteTextBox.Text = formatNumber(m, 2, \"00\");\r\n            if (this._SecondTextBox) {\r\n                this._SecondTextBox.Text = formatNumber(s, 2, \"00\");\r\n                this._SecondTextBox.Visibility = isSecondShown ? Visibility.Visible : Visibility.Collapsed;\r\n            }\r\n\r\n            if (this._SecondSeparator)\r\n                this._SecondSeparator.Visibility = isSecondShown ? Visibility.Visible : Visibility.Collapsed;\r\n\r\n            if (this._SuffixTextBlock) {\r\n                this._SuffixTextBlock.Visibility = isMilitary ? Visibility.Collapsed : Visibility.Visible;\r\n                this._SuffixTextBlock.Text = h >= 12 ? \"PM\" : \"AM\";\r\n            }\r\n        }\r\n    }\r\n    TemplateParts(TimePicker,\r\n        { Name: \"HourTextBox\", Type: TextBox },\r\n        { Name: \"MinuteTextBox\", Type: TextBox },\r\n        { Name: \"SecondTextBox\", Type: TextBox },\r\n        { Name: \"SecondSeparator\", Type: FrameworkElement },\r\n        { Name: \"SuffixTextBlock\", Type: TextBlock });\r\n    TemplateVisualStates(TimePicker,\r\n        { GroupName: \"CommonStates\", Name: \"Normal\" },\r\n        { GroupName: \"CommonStates\", Name: \"Disabled\" },\r\n        { GroupName: \"ValidationStates\", Name: \"Valid\" },\r\n        { GroupName: \"ValidationStates\", Name: \"InvalidFocused\" },\r\n        { GroupName: \"ValidationStates\", Name: \"InvalidUnfocused\" });\r\n    \r\n    function formatNumber(n: number, digits: number, fallback: string) {\r\n        if (isNaN(n))\r\n            return fallback;\r\n        return Localization.Format(\"{0:d\" + digits + \"}\", n);\r\n    }\r\n}","module Fayde.Controls {\r\n    import ScrollEx = Internal.ScrollEx;\r\n\r\n    export class TreeView extends ItemsControl {\r\n        static SelectedItemProperty = DependencyProperty.Register(\"SelectedItem\", () => Object, TreeView, null, (d, args) => (<TreeView>d).OnSelectedItemChanged(args));\r\n        static SelectedValueProperty = DependencyProperty.Register(\"SelectedValue\", () => Object, TreeView, null, (d, args) => (<TreeView>d).OnSelectedValueChanged(args));\r\n        static SelectedValuePathProperty = DependencyProperty.Register(\"SelectedValuePath\", () => String, TreeView, \"\", (d, args) => (<TreeView>d).OnSelectedValuePathChanged(args));\r\n        static ItemContainerStyleProperty = DependencyProperty.Register(\"ItemContainerStyle\", () => Style, TreeView, null, (d, args) => (<TreeView>d).OnItemContainerStyleChanged(args));\r\n\r\n        SelectedItem: any;\r\n        SelectedValue: any;\r\n        SelectedValuePath: string;\r\n        ItemContainerStyle: Style;\r\n\r\n        private OnSelectedItemChanged (e: DependencyPropertyChangedEventArgs) {\r\n            if (this._IgnorePropertyChange)\r\n                this._IgnorePropertyChange = false;\r\n            else if (!this._AllowWrite) {\r\n                this._IgnorePropertyChange = true;\r\n                this.SetValue(TreeView.SelectedItemProperty, e.OldValue);\r\n                throw new InvalidOperationException(\"Cannot set read-only property SelectedItem.\");\r\n            }\r\n            else\r\n                this.UpdateSelectedValue(e.NewValue);\r\n        }\r\n\r\n        private OnSelectedValueChanged (e: DependencyPropertyChangedEventArgs) {\r\n            if (this._IgnorePropertyChange) {\r\n                this._IgnorePropertyChange = false;\r\n            } else {\r\n                if (this._AllowWrite)\r\n                    return;\r\n                this._IgnorePropertyChange = true;\r\n                this.SetValue(TreeView.SelectedValueProperty, e.OldValue);\r\n                throw new InvalidOperationException(\"Cannot set read-only property SelectedValue.\");\r\n            }\r\n        }\r\n\r\n        private OnSelectedValuePathChanged (e: DependencyPropertyChangedEventArgs) {\r\n            this.UpdateSelectedValue(this.SelectedItem);\r\n        }\r\n\r\n        private OnItemContainerStyleChanged (e: DependencyPropertyChangedEventArgs) {\r\n            this.ItemsControlHelper.UpdateItemContainerStyle(<Style>e.NewValue);\r\n        }\r\n\r\n        private _AllowWrite: boolean;\r\n        private _IgnorePropertyChange: boolean;\r\n\r\n        SelectedContainer: TreeViewItem;\r\n        IsSelectedContainerHookedUp: boolean;\r\n        IsSelectionChangeActive: boolean;\r\n        ItemsControlHelper: Internal.ItemsControlHelper;\r\n\r\n        private SelectedItemChanged = new RoutedPropertyChangedEvent<any>();\r\n\r\n        constructor () {\r\n            super();\r\n            this.DefaultStyleKey = TreeView;\r\n            this.ItemsControlHelper = new Internal.ItemsControlHelper(this);\r\n        }\r\n\r\n        OnApplyTemplate () {\r\n            super.OnApplyTemplate();\r\n            this.ItemsControlHelper.OnApplyTemplate();\r\n            this.UpdateVisualState(false);\r\n        }\r\n\r\n        GetContainerForItem (): UIElement {\r\n            return new TreeViewItem();\r\n        }\r\n\r\n        IsItemItsOwnContainer (item: any): boolean {\r\n            return item instanceof TreeViewItem;\r\n        }\r\n\r\n        PrepareContainerForItem (element: UIElement, item: any) {\r\n            var treeViewItem = <TreeViewItem>element;\r\n            if (treeViewItem instanceof TreeViewItem)\r\n                treeViewItem.ParentItemsControl = this;\r\n            Internal.ItemsControlHelper.PrepareContainerForItemOverride(element, this.ItemContainerStyle);\r\n            HeaderedItemsControl.PrepareHeaderedItemsControlContainer(treeViewItem, item, this, this.ItemContainerStyle);\r\n            super.PrepareContainerForItem(element, item);\r\n        }\r\n\r\n        ClearContainerForItem (element: UIElement, item: any) {\r\n            var treeViewItem = <TreeViewItem>element;\r\n            if (treeViewItem instanceof TreeViewItem)\r\n                treeViewItem.ParentItemsControl = null;\r\n            super.ClearContainerForItem(element, item);\r\n        }\r\n\r\n        OnItemsChanged (e: Collections.CollectionChangedEventArgs) {\r\n            if (!e)\r\n                throw new ArgumentException(\"e\");\r\n            super.OnItemsChanged(e);\r\n            if (e.NewItems != null) {\r\n                for (var i = 0, items = <TreeViewItem[]>e.NewItems, len = items.length; i < len; i++) {\r\n                    items[i].ParentItemsControl = this;\r\n                }\r\n            }\r\n\r\n            switch (e.Action) {\r\n                case Collections.CollectionChangedAction.Remove:\r\n                case Collections.CollectionChangedAction.Reset:\r\n                    if (this.SelectedItem != null && !this.IsSelectedContainerHookedUp)\r\n                        this.SelectFirstItem();\r\n                    break;\r\n                case Collections.CollectionChangedAction.Replace:\r\n                    var selectedItem = this.SelectedItem;\r\n                    if (selectedItem != null && (e.OldItems == null || nullstone.equals(selectedItem, e.OldItems[0])))\r\n                        this.ChangeSelection(selectedItem, this.SelectedContainer, false);\r\n                    break;\r\n            }\r\n\r\n            if (!e.OldItems)\r\n                return;\r\n            for (var i = 0, items = <TreeViewItem[]>e.OldItems, len = items.length; i < len; i++) {\r\n                items[i].ParentItemsControl = null;\r\n            }\r\n        }\r\n\r\n        CheckForSelectedDescendents (item: TreeViewItem) {\r\n            var stack: TreeViewItem[] = [];\r\n            stack.push(item);\r\n            while (stack.length > 0) {\r\n                var container = stack.pop();\r\n                if (container.IsSelected) {\r\n                    container.IgnorePropertyChange = true;\r\n                    container.IsSelected = false;\r\n                    this.ChangeSelection(container, container, true);\r\n                    if (this.SelectedContainer.ParentItemsControl == null)\r\n                        this.SelectedContainer.RequiresContainsSelectionUpdate = true;\r\n                }\r\n                var enumerator = container.Items.getEnumerator();\r\n                while (enumerator.moveNext())\r\n                    stack.push(enumerator.current);\r\n            }\r\n        }\r\n\r\n        PropagateKeyDown (e: Input.KeyEventArgs) {\r\n            this.OnKeyDown(e);\r\n        }\r\n\r\n        OnKeyDown (e: Input.KeyEventArgs) {\r\n            super.OnKeyDown(e);\r\n            if (e.Handled || !this.IsEnabled)\r\n                return;\r\n            if (Input.Keyboard.HasControl()) {\r\n                switch (e.Key) {\r\n                    case Input.Key.PageUp:\r\n                    case Input.Key.PageDown:\r\n                    case Input.Key.End:\r\n                    case Input.Key.Home:\r\n                    case Input.Key.Left:\r\n                    case Input.Key.Up:\r\n                    case Input.Key.Right:\r\n                    case Input.Key.Down:\r\n                        if (ScrollEx.HandleKey(this.ItemsControlHelper.ScrollHost, e.Key, this.FlowDirection))\r\n                            e.Handled = true;\r\n                        break;\r\n                }\r\n            } else {\r\n                switch (e.Key) {\r\n                    case Input.Key.PageUp:\r\n                    case Input.Key.PageDown:\r\n                        if (this.SelectedContainer != null) {\r\n                            if (!this.HandleScrollByPage(e.Key === Input.Key.PageUp))\r\n                                break;\r\n                            e.Handled = true;\r\n                            break;\r\n                        }\r\n                        else {\r\n                            if (!this.FocusFirstItem())\r\n                                break;\r\n                            e.Handled = true;\r\n                            break;\r\n                        }\r\n                    case Input.Key.End:\r\n                        if (!this.FocusLastItem())\r\n                            break;\r\n                        e.Handled = true;\r\n                        break;\r\n                    case Input.Key.Home:\r\n                        if (!this.FocusFirstItem())\r\n                            break;\r\n                        e.Handled = true;\r\n                        break;\r\n                    case Input.Key.Up:\r\n                    case Input.Key.Down:\r\n                        if (this.SelectedContainer != null || !this.FocusFirstItem())\r\n                            break;\r\n                        e.Handled = true;\r\n                        break;\r\n                }\r\n            }\r\n        }\r\n\r\n        private HandleScrollByPage (up: boolean): boolean {\r\n            var scrollHost = this.ItemsControlHelper.ScrollHost;\r\n            if (scrollHost != null) {\r\n                var viewportHeight = scrollHost.ViewportHeight;\r\n                var top: IOutValue = {Value: 0};\r\n                var bottom: IOutValue = {Value: 0};\r\n                ScrollEx.GetTopAndBottom(this.SelectedContainer.HeaderElement || this.SelectedContainer, scrollHost, top, bottom);\r\n                var tvi1: TreeViewItem = null;\r\n                var tvi2 = this.SelectedContainer;\r\n                var itemsControl = this.SelectedContainer.ParentItemsControl;\r\n                if (itemsControl != null) {\r\n                    if (up) {\r\n                        for (var parentItemsControl; itemsControl !== this; itemsControl = parentItemsControl) {\r\n                            var tvi3 = <TreeViewItem>itemsControl;\r\n                            if (tvi3 != null) {\r\n                                parentItemsControl = tvi3.ParentItemsControl;\r\n                                if (!parentItemsControl)\r\n                                    break;\r\n                                tvi2 = tvi3;\r\n                            }\r\n                            break;\r\n                        }\r\n                    }\r\n                    var index = itemsControl.ItemContainersManager.IndexFromContainer(tvi2);\r\n                    var count = itemsControl.Items.Count;\r\n                    while (itemsControl != null && tvi2 != null) {\r\n                        if (tvi2.IsEnabled) {\r\n                            var currentDelta: IOutValue = {Value: 0};\r\n                            if (tvi2.HandleScrollByPage(up, scrollHost, viewportHeight, top.Value, bottom.Value, currentDelta))\r\n                                return true;\r\n                            if (NumberEx.IsGreaterThanClose(currentDelta.Value, viewportHeight)) {\r\n                                if (tvi1 === this.SelectedContainer || tvi1 == null) {\r\n                                    if (!up)\r\n                                        return this.SelectedContainer.HandleDownKey();\r\n                                    return this.SelectedContainer.HandleUpKey();\r\n                                }\r\n                                break;\r\n                            } else\r\n                                tvi1 = tvi2;\r\n                        }\r\n                        index += up ? -1 : 1;\r\n                        if (0 <= index && index < count) {\r\n                            tvi2 = <TreeViewItem>itemsControl.ItemContainersManager.ContainerFromIndex(index);\r\n                            if (!(tvi2 instanceof TreeViewItem)) tvi2 = null;\r\n                        } else if (itemsControl === this) {\r\n                            tvi2 = null;\r\n                        } else {\r\n                            while (itemsControl != null) {\r\n                                var tvi3 = itemsControl instanceof TreeViewItem ? <TreeViewItem>itemsControl : null;\r\n                                itemsControl = tvi3.ParentItemsControl;\r\n                                if (itemsControl != null) {\r\n                                    count = itemsControl.Items.Count;\r\n                                    index = itemsControl.ItemContainersManager.IndexFromContainer(tvi3) + (up ? -1 : 1);\r\n                                    if (index > -1 && index < count) {\r\n                                        tvi2 = <TreeViewItem>itemsControl.ItemContainersManager.ContainerFromIndex(index);\r\n                                        if (!(tvi2 instanceof TreeViewItem)) tvi2 = null;\r\n                                        break;\r\n                                    }\r\n                                    else if (itemsControl == this) {\r\n                                        tvi2 = null;\r\n                                        itemsControl = null;\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                if (tvi1 != null) {\r\n                    if (up) {\r\n                        if (tvi1 !== this.SelectedContainer)\r\n                            return tvi1.Focus();\r\n                    } else\r\n                        tvi1.FocusInto();\r\n                }\r\n            }\r\n            return false;\r\n        }\r\n\r\n        OnMouseEnter (e: Input.MouseEventArgs) {\r\n            super.OnMouseEnter(e);\r\n            this.UpdateVisualState();\r\n        }\r\n\r\n        OnMouseLeave (e: Input.MouseEventArgs) {\r\n            super.OnMouseLeave(e);\r\n            this.UpdateVisualState();\r\n        }\r\n\r\n        OnMouseMove (e: Input.MouseEventArgs) {\r\n            super.OnMouseMove(e);\r\n            this.UpdateVisualState();\r\n        }\r\n\r\n        OnMouseLeftButtonDown (e: Input.MouseButtonEventArgs) {\r\n            super.OnMouseLeftButtonDown(e);\r\n            if (!e.Handled && this.HandleMouseButtonDown())\r\n                e.Handled = true;\r\n            this.UpdateVisualState();\r\n        }\r\n\r\n        HandleMouseButtonDown (): boolean {\r\n            if (!this.SelectedContainer)\r\n                return false;\r\n            if (!this.SelectedContainer.IsFocused)\r\n                this.SelectedContainer.Focus();\r\n            return true;\r\n        }\r\n\r\n        OnMouseLeftButtonUp (e: Input.MouseButtonEventArgs) {\r\n            super.OnMouseLeftButtonUp(e);\r\n            this.UpdateVisualState();\r\n        }\r\n\r\n        OnGotFocus (e: RoutedEventArgs) {\r\n            super.OnGotFocus(e);\r\n            this.UpdateVisualState();\r\n        }\r\n\r\n        OnLostFocus (e: RoutedEventArgs) {\r\n            super.OnLostFocus(e);\r\n            this.UpdateVisualState();\r\n        }\r\n\r\n        ChangeSelection (itemOrContainer: any, container: TreeViewItem, selected: boolean) {\r\n            if (this.IsSelectionChangeActive)\r\n                return;\r\n            var oldValue = null;\r\n            var newValue = null;\r\n            var flag = false;\r\n            var selContainer = this.SelectedContainer;\r\n            this.IsSelectionChangeActive = true;\r\n            try {\r\n                if (selected && container !== selContainer) {\r\n                    oldValue = this.SelectedItem;\r\n                    if (selContainer != null) {\r\n                        selContainer.IsSelected = false;\r\n                        selContainer.UpdateContainsSelection(false);\r\n                    }\r\n                    newValue = itemOrContainer;\r\n                    this.SelectedContainer = container;\r\n                    this.SelectedContainer.UpdateContainsSelection(true);\r\n                    this.SelectedItem = itemOrContainer;\r\n                    this.UpdateSelectedValue(itemOrContainer);\r\n                    flag = true;\r\n                    this.ItemsControlHelper.ScrollIntoView(container.HeaderElement || container);\r\n                } else if (!selected && container === selContainer) {\r\n                    this.SelectedContainer.UpdateContainsSelection(false);\r\n                    this.SelectedContainer = null;\r\n                    this.SelectedItem = null;\r\n                    this.SelectedValue = null;\r\n                    oldValue = itemOrContainer;\r\n                    flag = true;\r\n                }\r\n                container.IsSelected = selected;\r\n            } finally {\r\n                this.IsSelectionChangeActive = false;\r\n            }\r\n            if (!flag)\r\n                return;\r\n            this.SelectedItemChanged.raise(this, new RoutedPropertyChangedEventArgs<any>(oldValue, newValue));\r\n        }\r\n\r\n        private UpdateSelectedValue (item: any) {\r\n            if (!item) {\r\n                this.ClearValue(TreeView.SelectedValueProperty);\r\n                return;\r\n            }\r\n\r\n            var selectedValuePath = this.SelectedValuePath;\r\n            if (!selectedValuePath) {\r\n                this.SelectedValue = item;\r\n            } else {\r\n                var binding = new Data.Binding(selectedValuePath);\r\n                binding.Source = item;\r\n                var contentControl = new ContentControl();\r\n                contentControl.SetBinding(ContentControl.ContentProperty, binding);\r\n                this.SelectedValue = contentControl.Content;\r\n                contentControl.ClearValue(ContentControl.ContentProperty);\r\n            }\r\n        }\r\n\r\n        private SelectFirstItem () {\r\n            var container = <TreeViewItem>this.ItemContainersManager.ContainerFromIndex(0);\r\n            var selected = container instanceof TreeViewItem;\r\n            if (!selected)\r\n                container = this.SelectedContainer;\r\n            this.ChangeSelection(selected ? this.ItemContainersManager.ItemFromContainer(container) : this.SelectedItem, container, selected);\r\n        }\r\n\r\n        private FocusFirstItem (): boolean {\r\n            var tvi = <TreeViewItem>this.ItemContainersManager.ContainerFromIndex(0);\r\n            if (!tvi)\r\n                return false;\r\n            if (!tvi.IsEnabled || !tvi.Focus())\r\n                return tvi.FocusDown();\r\n            return true;\r\n        }\r\n\r\n        private FocusLastItem (): boolean {\r\n            for (var index = this.Items.Count - 1; index >= 0; --index) {\r\n                var tvi = <TreeViewItem>this.ItemContainersManager.ContainerFromIndex(index);\r\n                if (tvi instanceof TreeViewItem && tvi.IsEnabled)\r\n                    return tvi.FocusInto();\r\n            }\r\n            return false;\r\n        }\r\n    }\r\n    TemplateVisualStates(TreeView,\r\n        {GroupName: \"CommonStates\", Name: \"Normal\"},\r\n        {GroupName: \"CommonStates\", Name: \"MouseOver\"},\r\n        {GroupName: \"CommonStates\", Name: \"Disabled\"},\r\n        {GroupName: \"FocusStates\", Name: \"Unfocused\"},\r\n        {GroupName: \"FocusStates\", Name: \"Focused\"},\r\n        {GroupName: \"ValidationStates\", Name: \"Valid\"},\r\n        {GroupName: \"ValidationStates\", Name: \"InvalidUnfocused\"},\r\n        {GroupName: \"ValidationStates\", Name: \"InvalidFocused\"});\r\n\r\n    Object.defineProperty(TreeView.prototype, \"SelectedValue\", {\r\n        get: function () {\r\n            return this.GetValue(TreeView.SelectedValueProperty);\r\n        },\r\n        set: function (value: any) {\r\n            try {\r\n                this._AllowWrite = true;\r\n                this.SetValue(TreeView.SelectedValueProperty, value);\r\n            } finally {\r\n                this._AllowWrite = false;\r\n            }\r\n        }\r\n    });\r\n\r\n    Object.defineProperty(TreeView.prototype, \"SelectedItem\", {\r\n        get: function () {\r\n            return this.GetValue(TreeView.SelectedItemProperty);\r\n        },\r\n        set: function (value: any) {\r\n            try {\r\n                this._AllowWrite = true;\r\n                this.SetValue(TreeView.SelectedItemProperty, value);\r\n            } finally {\r\n                this._AllowWrite = false;\r\n            }\r\n        }\r\n    });\r\n}","module Fayde.Controls {\r\n    import ScrollExtensions = Internal.ScrollEx;\r\n\r\n    export class TreeViewItem extends HeaderedItemsControl {\r\n        static HasItemsProperty = DependencyProperty.RegisterReadOnly(\"HasItems\", () => Boolean, TreeViewItem, false, (d, args) => (<TreeViewItem>d).OnHasItemsChanged(args));\r\n        static IsExpandedProperty = DependencyProperty.Register(\"IsExpanded\", () => Boolean, TreeViewItem, false, (d, args) => (<TreeViewItem>d).OnIsExpandedPropertyChanged(args));\r\n        static IsSelectedProperty = DependencyProperty.Register(\"IsSelected\", () => Boolean, TreeViewItem, false, (d, args) => (<TreeViewItem>d).OnIsSelectedChanged(args));\r\n        static IsSelectionActiveProperty = DependencyProperty.RegisterReadOnly(\"IsSelectionActive\", () => Boolean, TreeViewItem, false, (d, args) => (<TreeViewItem>d).OnIsSelectionActiveChanged(args));\r\n\r\n        HasItems: boolean;\r\n        private $SetHasItems(value: boolean) {\r\n            try {\r\n                this._AllowWrite = true;\r\n                this.SetCurrentValue(TreeViewItem.HasItemsProperty, value);\r\n            } finally {\r\n                this._AllowWrite = false;\r\n            }\r\n        }\r\n        IsExpanded: boolean;\r\n        IsSelected: boolean;\r\n        IsSelectionActive: boolean;\r\n        private $SetIsSelectionActive(value: boolean) {\r\n            try {\r\n                this._AllowWrite = true;\r\n                this.SetCurrentValue(TreeViewItem.IsSelectionActiveProperty, value === true);\r\n            } finally {\r\n                this._AllowWrite = false;\r\n            }\r\n        }\r\n\r\n        private OnHasItemsChanged(e: DependencyPropertyChangedEventArgs) {\r\n            if (this.IgnorePropertyChange)\r\n                this.IgnorePropertyChange = false;\r\n            else if (!this._AllowWrite) {\r\n                this.IgnorePropertyChange = true;\r\n                this.SetCurrentValue(TreeViewItem.HasItemsProperty, e.OldValue);\r\n                throw new InvalidOperationException(\"Cannot set read-only property HasItems.\");\r\n            } else\r\n                this.UpdateVisualState();\r\n        }\r\n        private OnIsExpandedPropertyChanged(e: DependencyPropertyChangedEventArgs) {\r\n            var newValue = e.NewValue === true;\r\n            if (newValue)\r\n                this.OnExpanded(new RoutedEventArgs());\r\n            else\r\n                this.OnCollapsed(new RoutedEventArgs());\r\n            if (newValue) {\r\n                if (this.ExpansionStateGroup != null || !this.UserInitiatedExpansion)\r\n                    return;\r\n                this.UserInitiatedExpansion = false;\r\n                var parentTreeView = this.ParentTreeView;\r\n                if (!parentTreeView)\r\n                    return;\r\n                parentTreeView.ItemsControlHelper.ScrollIntoView(this);\r\n            } else {\r\n                if (!this.ContainsSelection)\r\n                    return;\r\n                this.Focus();\r\n            }\r\n        }\r\n        private OnIsSelectedChanged(e: DependencyPropertyChangedEventArgs) {\r\n            if (this.IgnorePropertyChange) {\r\n                this.IgnorePropertyChange = false;\r\n            } else if (e.NewValue === true) {\r\n                this.Select(true);\r\n                this.OnSelected(new RoutedEventArgs());\r\n            } else {\r\n                this.Select(false);\r\n                this.OnUnselected(new RoutedEventArgs());\r\n            }\r\n        }\r\n        private OnIsSelectionActiveChanged(e: DependencyPropertyChangedEventArgs) {\r\n            if (this.IgnorePropertyChange)\r\n                this.IgnorePropertyChange = false;\r\n            else if (!this._AllowWrite) {\r\n                this.IgnorePropertyChange = true;\r\n                this.SetValueInternal(TreeViewItem.IsSelectionActiveProperty, e.OldValue);\r\n                throw new InvalidOperationException(\"Cannot set read-only property IsSelectionActive.\");\r\n            } else\r\n                this.UpdateVisualState();\r\n        }\r\n\r\n        Collapsed = new RoutedEvent<RoutedEventArgs>();\r\n        Expanded = new RoutedEvent<RoutedEventArgs>();\r\n        Selected = new RoutedEvent<RoutedEventArgs>();\r\n        Unselected = new RoutedEvent<RoutedEventArgs>();\r\n\r\n        private _AllowWrite = false;\r\n        IgnorePropertyChange: boolean;\r\n        private ContainsSelection: boolean;\r\n        private CancelGotFocusBubble: boolean;\r\n        RequiresContainsSelectionUpdate: boolean;\r\n        private UserInitiatedExpansion: boolean;\r\n\r\n        private _expanderButton: Primitives.ToggleButton;\r\n        private get ExpanderButton(): Primitives.ToggleButton { return this._expanderButton; }\r\n        private set ExpanderButton(value: Primitives.ToggleButton) {\r\n            if (this._expanderButton) {\r\n                this._expanderButton.Click.off(this.OnExpanderClick, this);\r\n                this._expanderButton.GotFocus.off(this.OnExpanderGotFocus, this);\r\n            }\r\n            this._expanderButton = value;\r\n            if (this._expanderButton) {\r\n                this._expanderButton.IsChecked = this.IsExpanded;\r\n                this._expanderButton.Click.on(this.OnExpanderClick, this);\r\n                this._expanderButton.GotFocus.on(this.OnExpanderGotFocus, this);\r\n            }\r\n        }\r\n\r\n        private _headerElement: FrameworkElement;\r\n        get HeaderElement(): FrameworkElement { return this._headerElement; }\r\n        set HeaderElement(value: FrameworkElement) {\r\n            if (this._headerElement)\r\n                this._headerElement.MouseLeftButtonDown.off(this.OnHeaderMouseLeftButtonDown, this);\r\n            this._headerElement = value;\r\n            if (this._headerElement)\r\n                this._headerElement.MouseLeftButtonDown.on(this.OnHeaderMouseLeftButtonDown, this);\r\n        }\r\n\r\n        private _expansionStateGroup: Media.VSM.VisualStateGroup;\r\n        private get ExpansionStateGroup(): Media.VSM.VisualStateGroup { return this._expansionStateGroup; }\r\n        private set ExpansionStateGroup(value: Media.VSM.VisualStateGroup) {\r\n            if (this._expansionStateGroup)\r\n                this._expansionStateGroup.CurrentStateChanged.off(this.OnExpansionStateGroupStateChanged, this);\r\n            this._expansionStateGroup = value;\r\n            if (this._expansionStateGroup)\r\n                this._expansionStateGroup.CurrentStateChanged.on(this.OnExpansionStateGroupStateChanged, this);\r\n        }\r\n\r\n        private _parentItemsControl: ItemsControl;\r\n        get ParentItemsControl(): ItemsControl { return this._parentItemsControl; }\r\n        set ParentItemsControl(value: ItemsControl) {\r\n            if (this._parentItemsControl == value)\r\n                return;\r\n            this._parentItemsControl = value;\r\n            var parentTreeView = this.ParentTreeView;\r\n            if (parentTreeView == null)\r\n                return;\r\n            if (this.RequiresContainsSelectionUpdate) {\r\n                this.RequiresContainsSelectionUpdate = false;\r\n                this.UpdateContainsSelection(true);\r\n            }\r\n            parentTreeView.CheckForSelectedDescendents(this);\r\n        }\r\n\r\n        private get ParentTreeViewItem(): TreeViewItem {\r\n            var pic = <TreeViewItem>this.ParentItemsControl;\r\n            if (pic instanceof TreeViewItem)\r\n                return pic;\r\n        }\r\n\r\n        private get ParentTreeView(): TreeView {\r\n            for (var tvi = this; tvi != null; tvi = tvi.ParentTreeViewItem) {\r\n                var treeView = <TreeView>tvi.ParentItemsControl;\r\n                if (treeView instanceof TreeView)\r\n                    return treeView;\r\n            }\r\n            return null;\r\n        }\r\n\r\n        private get IsRoot(): boolean { return this.ParentItemsControl instanceof TreeView; }\r\n        private get CanExpandOnInput(): boolean { return this.HasItems && this.IsEnabled; }\r\n\r\n        private _MultiClick = new Internal.MultiClickHelper();\r\n        private _IsPressed = false;\r\n\r\n        constructor() {\r\n            super();\r\n            this.DefaultStyleKey = TreeViewItem;\r\n        }\r\n\r\n        OnApplyTemplate() {\r\n            super.OnApplyTemplate();\r\n            this.ExpanderButton = <Primitives.ToggleButton>this.GetTemplateChild(\"ExpanderButton\", Primitives.ToggleButton);\r\n            this.HeaderElement = <FrameworkElement>this.GetTemplateChild(\"Header\", FrameworkElement);\r\n            this.ExpansionStateGroup = Fayde.Media.VSM.VisualStateManager.GetGroup(this, \"ExpansionStates\");\r\n            this.UpdateVisualState(false);\r\n        }\r\n\r\n        private OnExpansionStateGroupStateChanged(sender: any, e: Media.VSM.VisualStateChangedEventArgs) {\r\n            if (e.NewState.Name && e.NewState.Name.toLowerCase() === \"expanded\")\r\n                this.BringIntoView();\r\n        }\r\n\r\n        private BringIntoView() {\r\n            if (!this.UserInitiatedExpansion)\r\n                return;\r\n            this.UserInitiatedExpansion = false;\r\n            var parent = this.ParentTreeView;\r\n            if (!parent)\r\n                return;\r\n            setTimeout(() => {\r\n                parent.ItemsControlHelper.ScrollIntoView(this);\r\n            }, 1);\r\n        }\r\n\r\n        GoToStates(gotoFunc: (state: string) => boolean) {\r\n            super.GoToStates(gotoFunc);\r\n            this.GoToStateExpansion(gotoFunc);\r\n            this.GoToStateHasItems(gotoFunc);\r\n            this.GoToStateSelection(gotoFunc);\r\n        }\r\n        GoToStateCommon(gotoFunc: (state: string) => boolean): boolean {\r\n            if (!this.IsEnabled)\r\n                return gotoFunc(\"Disabled\");\r\n            if (this._IsPressed)\r\n                return gotoFunc(\"Pressed\");\r\n            if (this.IsMouseOver)\r\n                return gotoFunc(\"MouseOver\");\r\n            return gotoFunc(\"Normal\");\r\n        }\r\n        GoToStateExpansion(gotoFunc: (state: string) => boolean): boolean {\r\n            return gotoFunc(this.IsExpanded ? \"Expanded\" : \"Collapsed\");\r\n        }\r\n        GoToStateHasItems(gotoFunc: (state: string) => boolean): boolean {\r\n            return gotoFunc(this.HasItems ? \"HasItems\" : \"NoItems\");\r\n        }\r\n        GoToStateSelection(gotoFunc: (state: string) => boolean): boolean {\r\n            if (!this.IsSelected)\r\n                return gotoFunc(\"Unselected\");\r\n            if (!this.IsSelectionActive)\r\n                return gotoFunc(\"SelectedInactive\");\r\n            return gotoFunc(\"Selected\");\r\n        }\r\n\r\n        GetContainerForItem(): UIElement {\r\n            return new TreeViewItem();\r\n        }\r\n        IsItemItsOwnContainer(item: any): boolean {\r\n            return item instanceof TreeViewItem;\r\n        }\r\n        PrepareContainerForItem(element: UIElement, item: any) {\r\n            var treeViewItem = <TreeViewItem>element;\r\n            if (treeViewItem instanceof TreeViewItem)\r\n                treeViewItem.ParentItemsControl = this;\r\n            super.PrepareContainerForItem(element, item);\r\n        }\r\n        ClearContainerForItem(element: UIElement, item: any) {\r\n            var treeViewItem = <TreeViewItem>element;\r\n            if (treeViewItem instanceof TreeViewItem)\r\n                treeViewItem.ParentItemsControl = null;\r\n            super.ClearContainerForItem(element, item);\r\n        }\r\n\r\n        OnItemsChanged(e: Collections.CollectionChangedEventArgs) {\r\n            super.OnItemsChanged(e);\r\n            this.$SetHasItems(this.Items.Count > 0);\r\n            if (e.NewItems != null) {\r\n                for (var i = 0, items = <TreeViewItem[]>e.NewItems, len = items.length; i < len; i++) {\r\n                    items[i].ParentItemsControl = this;\r\n                }\r\n            }\r\n            switch (e.Action) {\r\n                case Collections.CollectionChangedAction.Remove:\r\n                case Collections.CollectionChangedAction.Reset:\r\n                    if (this.ContainsSelection) {\r\n                        var parentTreeView = this.ParentTreeView;\r\n                        if (parentTreeView != null && !parentTreeView.IsSelectedContainerHookedUp) {\r\n                            this.ContainsSelection = false;\r\n                            this.Select(true);\r\n                        }\r\n                    }\r\n                    break;\r\n                case Collections.CollectionChangedAction.Replace:\r\n                    if (this.ContainsSelection) {\r\n                        var parentTreeView = this.ParentTreeView;\r\n                        if (parentTreeView != null) {\r\n                            var selectedItem = parentTreeView.SelectedItem;\r\n                            if (selectedItem != null && (e.OldItems == null || nullstone.equals(selectedItem, e.OldItems[0])))\r\n                                parentTreeView.ChangeSelection(selectedItem, parentTreeView.SelectedContainer, false);\r\n                        }\r\n                    }\r\n                    break;\r\n            }\r\n            if (e.OldItems == null)\r\n                return;\r\n            for (var i = 0, items = <TreeViewItem[]>e.OldItems, len = items.length; i < len; i++) {\r\n                items[i].ParentItemsControl = null;\r\n            }\r\n        }\r\n\r\n        OnExpanded(e: RoutedEventArgs) {\r\n            this.ToggleExpanded();\r\n            this.Expanded.raise(this, e);\r\n        }\r\n        OnCollapsed(e: RoutedEventArgs) {\r\n            this.ToggleExpanded();\r\n            this.Collapsed.raise(this, e);\r\n        }\r\n        private ToggleExpanded() {\r\n            var expanderButton = this.ExpanderButton;\r\n            if (!expanderButton)\r\n                return;\r\n            expanderButton.IsChecked = this.IsExpanded;\r\n            this.UpdateVisualState();\r\n        }\r\n\r\n        OnSelected(e: RoutedEventArgs) {\r\n            this.UpdateVisualState();\r\n            this.Selected.raise(this, e);\r\n        }\r\n        OnUnselected(e: RoutedEventArgs) {\r\n            this.UpdateVisualState();\r\n            this.Unselected.raise(this, e);\r\n        }\r\n\r\n        OnGotFocus(e: RoutedEventArgs) {\r\n            super.OnGotFocus(e);\r\n            var parentTreeViewItem = this.ParentTreeViewItem;\r\n            if (parentTreeViewItem)\r\n                parentTreeViewItem.CancelGotFocusBubble = true;\r\n            try {\r\n                if (!this.IsEnabled || this.CancelGotFocusBubble)\r\n                    return;\r\n                this.Select(true);\r\n                this.$SetIsSelectionActive(true);\r\n                this.UpdateVisualState();\r\n            } finally {\r\n                this.CancelGotFocusBubble = false;\r\n            }\r\n        }\r\n        OnLostFocus(e: RoutedEventArgs) {\r\n            super.OnLostFocus(e);\r\n            this.$SetIsSelectionActive(false);\r\n            this.UpdateVisualState();\r\n        }\r\n        private OnExpanderGotFocus(sender: any, e: RoutedEventArgs) {\r\n            this.CancelGotFocusBubble = true;\r\n            this.$SetIsSelectionActive(true);\r\n            this.UpdateVisualState(true);\r\n        }\r\n        OnMouseEnter(e: Input.MouseEventArgs) {\r\n            super.OnMouseEnter(e);\r\n            this.UpdateVisualState();\r\n        }\r\n        OnMouseLeave(e: Input.MouseEventArgs) {\r\n            super.OnMouseLeave(e);\r\n            this.UpdateVisualState();\r\n        }\r\n        private OnHeaderMouseLeftButtonDown(sender: any, e: Input.MouseButtonEventArgs) {\r\n            this._MultiClick.OnMouseLeftButtonDown(this, e);\r\n            if (!e.Handled && this.IsEnabled) {\r\n                if (this.Focus())\r\n                    e.Handled = true;\r\n                if (this._MultiClick.ClickCount % 2 === 0) {\r\n                    var isExpanded = this.IsExpanded;\r\n                    this.UserInitiatedExpansion = this.UserInitiatedExpansion || !isExpanded;\r\n                    this.IsExpanded = !isExpanded;\r\n                    e.Handled = true;\r\n                }\r\n            }\r\n            this.OnMouseLeftButtonDown(e);\r\n            this.UpdateVisualState();\r\n        }\r\n        private OnExpanderClick(sender: any, e: RoutedEventArgs) {\r\n            var isExpanded = this.IsExpanded;\r\n            this.UserInitiatedExpansion = this.UserInitiatedExpansion || !isExpanded;\r\n            this.IsExpanded = !isExpanded;\r\n        }\r\n        OnMouseLeftButtonDown(e: Input.MouseButtonEventArgs) {\r\n            super.OnMouseLeftButtonDown(e);\r\n            var parentTreeView: TreeView;\r\n            if (!e.Handled && (parentTreeView = this.ParentTreeView) != null && parentTreeView.HandleMouseButtonDown())\r\n                e.Handled = true;\r\n            this._IsPressed = true;\r\n            this.UpdateVisualState();\r\n        }\r\n        OnMouseLeftButtonUp(e: Input.MouseButtonEventArgs) {\r\n            super.OnMouseLeftButtonUp(e);\r\n            this._IsPressed = false;\r\n            this.UpdateVisualState();\r\n        }\r\n\r\n        OnIsEnabledChanged(e: IDependencyPropertyChangedEventArgs) {\r\n            super.OnIsEnabledChanged(e);\r\n            if (!e.NewValue)\r\n                this._IsPressed = false;\r\n        }\r\n\r\n        OnKeyDown(e: Input.KeyEventArgs) {\r\n            super.OnKeyDown(e);\r\n            if (this.IsEnabled) {\r\n                if (e.Handled)\r\n                    return;\r\n                var isRTL = this.FlowDirection === FlowDirection.RightToLeft;\r\n                switch (e.Key) {\r\n                    case Input.Key.Left:\r\n                        if (!Input.Keyboard.HasControl() && (isRTL ? this.HandleRightKey() : this.HandleLeftKey()))\r\n                            e.Handled = true;\r\n                        break;\r\n                    case Input.Key.Up:\r\n                        if (!Input.Keyboard.HasControl() && this.HandleUpKey())\r\n                            e.Handled = true;\r\n                        break;\r\n                    case Input.Key.Right:\r\n                        if (!Input.Keyboard.HasControl() && (isRTL ? this.HandleLeftKey() : this.HandleRightKey()))\r\n                            e.Handled = true;\r\n                        break;\r\n                    case Input.Key.Down:\r\n                        if (!Input.Keyboard.HasControl() && this.HandleDownKey())\r\n                            e.Handled = true;\r\n                        break;\r\n                    case Input.Key.Add:\r\n                        if (this.CanExpandOnInput && !this.IsExpanded) {\r\n                            this.UserInitiatedExpansion = true;\r\n                            this.IsExpanded = true;\r\n                            e.Handled = true;\r\n                        }\r\n                        break;\r\n                    case Input.Key.Subtract:\r\n                        if (this.CanExpandOnInput && this.IsExpanded) {\r\n                            this.IsExpanded = false;\r\n                            e.Handled = true;\r\n                        }\r\n                        break;\r\n                }\r\n            }\r\n            if (!this.IsRoot)\r\n                return;\r\n            var parentTreeView = this.ParentTreeView;\r\n            if (!parentTreeView)\r\n                return;\r\n            parentTreeView.PropagateKeyDown(e);\r\n        }\r\n        HandleRightKey(): boolean {\r\n            if (!this.CanExpandOnInput)\r\n                return false;\r\n            if (!this.IsExpanded) {\r\n                this.UserInitiatedExpansion = true;\r\n                this.IsExpanded = true;\r\n                return true;\r\n            }\r\n            return this.HandleDownKey();\r\n        }\r\n        HandleLeftKey(): boolean {\r\n            if (!this.CanExpandOnInput || !this.IsExpanded)\r\n                return false;\r\n            if (this.IsFocused)\r\n                this.Focus();\r\n            else\r\n                this.IsExpanded = false;\r\n            return true;\r\n        }\r\n        HandleDownKey(): boolean {\r\n            return this.AllowKeyHandleEvent() && this.FocusDown();\r\n        }\r\n        HandleUpKey(): boolean {\r\n            if (!this.AllowKeyHandleEvent())\r\n                return false;\r\n            var previousFocusableItem = this.FindPreviousFocusableItem();\r\n            if (!previousFocusableItem)\r\n                return false;\r\n            if (previousFocusableItem != this.ParentItemsControl || previousFocusableItem != this.ParentTreeView)\r\n                return previousFocusableItem.Focus();\r\n            return true;\r\n        }\r\n\r\n        HandleScrollByPage(up: boolean, scrollHost: ScrollViewer, viewportHeight: number, top: number, bottom: number, currentDelta: IOutValue): boolean {\r\n            var closeEdge1: IOutValue = { Value: 0.0 };\r\n            currentDelta.Value = calculateDelta(up, this, scrollHost, top, bottom, closeEdge1);\r\n            if (NumberEx.IsGreaterThanClose(closeEdge1.Value, viewportHeight) || NumberEx.IsLessThanClose(currentDelta.Value, viewportHeight))\r\n                return false;\r\n            var flag1 = false;\r\n            var headerElement = this.HeaderElement;\r\n            if (headerElement != null && NumberEx.IsLessThanClose(calculateDelta(up, headerElement, scrollHost, top, bottom, { Value: 0 }), viewportHeight))\r\n                flag1 = true;\r\n            var tvi1: TreeViewItem = null;\r\n            var count = this.Items.Count;\r\n            var flag2 = up && this.ContainsSelection;\r\n            var index = up ? count - 1 : 0;\r\n            while (0 <= index && index < count) {\r\n                var tvi2 = <TreeViewItem>this.ItemContainersManager.ContainerFromIndex(index);\r\n                if (tvi2 instanceof TreeViewItem && tvi2.IsEnabled) {\r\n                    if (flag2) {\r\n                        if (tvi2.IsSelected) {\r\n                            flag2 = false;\r\n                            index += up ? -1 : 1;\r\n                            continue;\r\n                        } else if (tvi2.ContainsSelection) {\r\n                            flag2 = false;\r\n                        } else {\r\n                            index += up ? -1 : 1;\r\n                            continue;\r\n                        }\r\n                    }\r\n                    var currentDelta1: IOutValue = { Value: 0 };\r\n                    if (tvi2.HandleScrollByPage(up, scrollHost, viewportHeight, top, bottom, currentDelta1))\r\n                        return true;\r\n                    if (!NumberEx.IsGreaterThanClose(currentDelta1.Value, viewportHeight))\r\n                        tvi1 = tvi2;\r\n                    else\r\n                        break;\r\n                }\r\n                index += up ? -1 : 1;\r\n            }\r\n            if (tvi1 != null) {\r\n                if (up)\r\n                    return tvi1.Focus();\r\n                return tvi1.FocusInto();\r\n            } else if (flag1)\r\n                return this.Focus();\r\n            return false;\r\n        }\r\n\r\n\r\n        private Select(selected: boolean) {\r\n            var parentTreeView = this.ParentTreeView;\r\n            if (!parentTreeView || parentTreeView.IsSelectionChangeActive)\r\n                return;\r\n            var parentTreeViewItem = this.ParentTreeViewItem;\r\n            var itemOrContainer = parentTreeViewItem != null ? parentTreeViewItem.ItemContainersManager.ItemFromContainer(this) : parentTreeView.ItemContainersManager.ItemFromContainer(this);\r\n            parentTreeView.ChangeSelection(itemOrContainer, this, selected);\r\n        }\r\n\r\n        UpdateContainsSelection(selected: boolean) {\r\n            for (var parentTreeViewItem = this.ParentTreeViewItem; parentTreeViewItem != null; parentTreeViewItem = parentTreeViewItem.ParentTreeViewItem)\r\n                parentTreeViewItem.ContainsSelection = selected;\r\n        }\r\n\r\n        private AllowKeyHandleEvent(): boolean {\r\n            return this.IsSelected;\r\n        }\r\n\r\n        FocusDown(): boolean {\r\n            var nextFocusableItem = this.FindNextFocusableItem(true);\r\n            return nextFocusableItem && nextFocusableItem.Focus();\r\n        }\r\n        FocusInto(): boolean {\r\n            var lastFocusableItem = this.FindLastFocusableItem();\r\n            return lastFocusableItem && lastFocusableItem.Focus();\r\n        }\r\n\r\n        private FindNextFocusableItem(recurse: boolean): TreeViewItem {\r\n            if (recurse && this.IsExpanded && this.HasItems) {\r\n                var treeViewItem = <TreeViewItem>this.ItemContainersManager.ContainerFromIndex(0);\r\n                if (treeViewItem instanceof TreeViewItem) {\r\n                    if (!treeViewItem.IsEnabled)\r\n                        return treeViewItem.FindNextFocusableItem(false);\r\n                    return treeViewItem;\r\n                }\r\n            }\r\n            var parentItemsControl = this.ParentItemsControl;\r\n            if (parentItemsControl != null) {\r\n                var index = parentItemsControl.ItemContainersManager.IndexFromContainer(this);\r\n                var count = parentItemsControl.Items.Count;\r\n                while (index++ < count) {\r\n                    var treeViewItem = <TreeViewItem>parentItemsControl.ItemContainersManager.ContainerFromIndex(index);\r\n                    if (treeViewItem instanceof TreeViewItem && treeViewItem.IsEnabled)\r\n                        return treeViewItem;\r\n                }\r\n                var parentTreeViewItem = this.ParentTreeViewItem;\r\n                if (parentTreeViewItem instanceof TreeViewItem)\r\n                    return parentTreeViewItem.FindNextFocusableItem(false);\r\n            }\r\n            return null;\r\n        }\r\n        private FindLastFocusableItem(): TreeViewItem {\r\n            var tvi1 = this;\r\n            var tvi2: TreeViewItem = null;\r\n            for (var index = -1; tvi1 instanceof TreeViewItem; tvi1 = <TreeViewItem>tvi2.ItemContainersManager.ContainerFromIndex(index)) {\r\n                if (tvi1.IsEnabled) {\r\n                    if (!tvi1.IsExpanded || !tvi1.HasItems)\r\n                        return tvi1;\r\n                    tvi2 = tvi1;\r\n                    index = tvi1.Items.Count - 1;\r\n                }\r\n                else if (index > 0)\r\n                    --index;\r\n                else\r\n                    break;\r\n            }\r\n            return tvi2;\r\n        }\r\n        private FindPreviousFocusableItem(): ItemsControl {\r\n            var parentItemsControl = this.ParentItemsControl;\r\n            if (!parentItemsControl)\r\n                return null;\r\n            var index = parentItemsControl.ItemContainersManager.IndexFromContainer(this);\r\n            while (index-- > 0) {\r\n                var treeViewItem = <TreeViewItem>parentItemsControl.ItemContainersManager.ContainerFromIndex(index);\r\n                if (treeViewItem instanceof TreeViewItem && treeViewItem.IsEnabled) {\r\n                    var lastFocusableItem = treeViewItem.FindLastFocusableItem();\r\n                    if (lastFocusableItem != null)\r\n                        return lastFocusableItem;\r\n                }\r\n            }\r\n            return parentItemsControl;\r\n        }\r\n    }\r\n    TemplateVisualStates(TreeViewItem,\r\n        { GroupName: \"CommonStates\", Name: \"Normal\" },\r\n        { GroupName: \"CommonStates\", Name: \"MouseOver\" },\r\n        { GroupName: \"CommonStates\", Name: \"Pressed\" },\r\n        { GroupName: \"CommonStates\", Name: \"Disabled\" },\r\n        { GroupName: \"FocusStates\", Name: \"Unfocused\" },\r\n        { GroupName: \"FocusStates\", Name: \"Focused\" },\r\n        { GroupName: \"ExpansionStates\", Name: \"Collapsed\" },\r\n        { GroupName: \"ExpansionStates\", Name: \"Expanded\" },\r\n        { GroupName: \"HasItemsStates\", Name: \"HasItems\" },\r\n        { GroupName: \"HasItemsStates\", Name: \"NoItems\" },\r\n        { GroupName: \"SelectionStates\", Name: \"Unselected\" },\r\n        { GroupName: \"SelectionStates\", Name: \"Selected\" },\r\n        { GroupName: \"SelectionStates\", Name: \"SelectedInactive\" });\r\n    TemplateParts(TreeViewItem,\r\n        { Name: \"Header\", Type: FrameworkElement },\r\n        { Name: \"ExpanderButton\", Type: Primitives.ToggleButton });\r\n\r\n    function calculateDelta(up: boolean, element: FrameworkElement, scrollHost: ScrollViewer, top: number, bottom: number, closeEdge: IOutValue): number {\r\n        var top1: IOutValue = { Value: 0 };\r\n        var bottom1: IOutValue = { Value: 0 };\r\n        ScrollExtensions.GetTopAndBottom(element, scrollHost, top1, bottom1);\r\n        var ce = 0;\r\n        if (up) {\r\n            ce = bottom - bottom1.Value;\r\n            return bottom - top1.Value;\r\n        } else {\r\n            ce = top1.Value - top;\r\n            return bottom1.Value - top;\r\n        }\r\n        closeEdge.Value = ce;\r\n    }\r\n}","\r\nmodule Fayde.Controls {\r\n    export class UpDownParseErrorEventArgs extends RoutedEventArgs {\r\n        Text: string;\r\n        Error: Error;\r\n        Handled: boolean = false;\r\n        constructor(text: string, error: Error) {\r\n            super();\r\n            Object.defineProperty(this, \"Text\", { value: text, writable: false });\r\n            Object.defineProperty(this, \"Error\", { value: error, writable: false });\r\n        }\r\n    }\r\n}","\r\nmodule Fayde.Controls {\r\n    export class UpDownParsingEventArgs<T> extends RoutedEventArgs {\r\n        Text: string;\r\n        Value: T = null;\r\n        Handled: boolean = false;\r\n        constructor(text:string) {\r\n            super();\r\n            Object.defineProperty(this, \"Text\", { value: text, writable: false });\r\n        }\r\n    }\r\n}","module Fayde.Controls {\r\n    export class CanvasItemsControl extends ItemsControl {\r\n        constructor() {\r\n            super();\r\n            this.DefaultStyleKey = CanvasItemsControl;\r\n        }\r\n\r\n        PrepareContainerForItem(container: UIElement, item: any): void {\r\n            super.PrepareContainerForItem(container, item);\r\n            if (container instanceof FrameworkElement)\r\n                container.TemplateApplied.on(this.BindContainerToCanvas, this);\r\n        }\r\n\r\n        ClearContainerForItem(container: UIElement, item: any): void {\r\n            super.ClearContainerForItem(container, item);\r\n            if (container instanceof FrameworkElement)\r\n                container.TemplateApplied.off(this.BindContainerToCanvas, this);\r\n            container.ClearValue(Canvas.LeftProperty);\r\n            container.ClearValue(Canvas.TopProperty);\r\n        }\r\n\r\n        protected BindContainerToCanvas(sender: FrameworkElement, args: nullstone.IEventArgs) {\r\n            sender.TemplateApplied.off(this.BindContainerToCanvas, this);\r\n            if (VisualTreeHelper.GetChildrenCount(sender) < 1)\r\n                return;\r\n            var root = VisualTreeHelper.GetChild(sender, 0);\r\n            sender.SetBinding(Canvas.LeftProperty, Data.Binding.fromData({\r\n                Source: root,\r\n                Path: \"(Canvas.Left)\"\r\n            }));\r\n            sender.SetBinding(Canvas.TopProperty, Data.Binding.fromData({\r\n                Source: root,\r\n                Path: \"(Canvas.Top)\"\r\n            }));\r\n        }\r\n    }\r\n}","module Fayde.Controls.contextmenu {\r\n    export class RootVisualTracker {\r\n        mousePosition = new Point();\r\n\r\n        private $$rootVisual: FrameworkElement = null;\r\n        private $$onSizeChanged: (newSize: minerva.Size) => any;\r\n\r\n        get rootVisual () {\r\n            return this.$$rootVisual;\r\n        }\r\n\r\n        set rootVisual (value: FrameworkElement) {\r\n            if (this.$$rootVisual) {\r\n                this.$$rootVisual.MouseMove.off(this._HandleRootVisualMouseMove, this);\r\n                this.$$rootVisual.SizeChanged.off(this._HandleSizeChanged, this);\r\n            }\r\n            this.$$rootVisual = value;\r\n            if (value) {\r\n                value.MouseMove.on(this._HandleRootVisualMouseMove, this);\r\n                value.SizeChanged.on(this._HandleSizeChanged, this);\r\n            }\r\n        }\r\n\r\n        constructor (owner: FrameworkElement) {\r\n            owner.LayoutUpdated.on(this._HandleLayoutUpdated, this);\r\n        }\r\n\r\n        tryInit (visual: UIElement) {\r\n            if (!visual)\r\n                return;\r\n            var surface = <Surface>visual.XamlNode.LayoutUpdater.tree.surface;\r\n            if (!surface)\r\n                return;\r\n            this.rootVisual = <FrameworkElement>surface.App.RootVisual;\r\n        }\r\n\r\n        setOnSizeChanged (onSizeChanged?: (newSize: minerva.Size) => any) {\r\n            this.$$onSizeChanged = onSizeChanged;\r\n        }\r\n\r\n        getAvailableSize (): minerva.Size {\r\n            return new minerva.Size(\r\n                this.rootVisual.ActualWidth,\r\n                this.rootVisual.ActualHeight\r\n            );\r\n        }\r\n\r\n        private _HandleLayoutUpdated (sender: FrameworkElement, e: any) {\r\n            if (!this.rootVisual) {\r\n                var surface = <Surface>sender.XamlNode.LayoutUpdater.tree.surface;\r\n                if (surface)\r\n                    this.rootVisual = <FrameworkElement>surface.App.RootVisual;\r\n            }\r\n            if (this.rootVisual)\r\n                sender.LayoutUpdated.off(this._HandleLayoutUpdated, this);\r\n        }\r\n\r\n        private _HandleRootVisualMouseMove (sender: any, e: Fayde.Input.MouseEventArgs) {\r\n            this.mousePosition = e.GetPosition(null);\r\n        }\r\n\r\n        private _HandleSizeChanged (sender: any, e: SizeChangedEventArgs) {\r\n            this.$$onSizeChanged && this.$$onSizeChanged(e.NewSize);\r\n        }\r\n    }\r\n}","module Fayde.Controls {\r\n    export class DataField {\r\n        Content: FrameworkElement;\r\n        Label: FrameworkElement;\r\n    }\r\n}","module Fayde.Controls {\r\n    \r\n    interface IDictionary {\r\n        Add(key: string, value: any): void;\r\n        Remove(key: string): void;\r\n        containsKey(key: string): boolean;\r\n        Keys(): string[];\r\n        Values(): any[];\r\n    }\r\n\r\nexport class Dictionary {\r\n\r\n        _keys: string[] = new Array<string>();\r\n        _values: any[] = new Array<any>();\r\n\r\n        constructor(init: { key: string; value: any; }[]) {\r\n\r\n            for (var x = 0; x < init.length; x++) {\r\n                this[init[x].key] = init[x].value;\r\n                this._keys.push(init[x].key);\r\n                this._values.push(init[x].value);\r\n            }\r\n        }\r\n\r\n        Add(key: string, value: any) {\r\n            this[key] = value;\r\n            this._keys.push(key);\r\n            this._values.push(value);\r\n        }\r\n\r\n        Remove(key: string) {\r\n            var index = this._keys.indexOf(key, 0);\r\n            this._keys.splice(index, 1);\r\n            this._values.splice(index, 1);\r\n\r\n            delete this[key];\r\n        }\r\n\r\n        Keys(): string[] {\r\n            return this._keys;\r\n        }\r\n\r\n        Values(): any[] {\r\n            return this._values;\r\n        }\r\n\r\n        Clear(): void {\r\n            this._keys = new Array<string>();\r\n            this._values = new Array<any>();\r\n        }\r\n\r\n        Count(): number {\r\n            return this._keys.length;\r\n        }\r\n\r\n        ContainsKey(key: string) {\r\n            if (typeof this[key] === \"undefined\") {\r\n                return false;\r\n            }\r\n\r\n            return true;\r\n        }\r\n\r\n        ElementAt(index: number){\r\n            \r\n        }\r\n\r\n\r\n    }\r\n}","/// <reference path=\"Dictionary\"/>\r\n/// <reference path=\"DataField\"/>\r\nmodule Fayde.Controls {\r\n    import GridUnitType = minerva.controls.grid.GridUnitType;\r\n\r\n    export class DataForm extends Control  {\r\n        static ErrorTemplateProperty = DependencyProperty.Register(\"ErrorTemplate\", () => Object, DataForm, NaN);\r\n        static CurrentItemProperty = DependencyProperty.Register(\"CurrentItem\", () => Object, DataForm, NaN, (d, args) => (<DataForm>d).CurrentItemValueChanged(args));\r\n        //static InputTypesProperty = DependencyProperty.Register(\"InputTypes\", () => Fayde.Collections.ReadOnlyObservableCollection, DataForm, NaN);\r\n\r\n        private properties: any[];\r\n        private bindings: any[];\r\n        private controls: any[];\r\n        private partGrid: Grid;\r\n\r\n        CurrentItem: any;\r\n        ErrorTemplate: any;\r\n        //InputTypes: Fayde.Collections.ReadOnlyObservableCollection;\r\n\r\n        private CurrentItemValueChanged(args: IDependencyPropertyChangedEventArgs) {\r\n            this.CurrentItemChanged();\r\n        }\r\n\r\n        private m_labelSeparator: string = \":\";\r\n        public get LabelSeparator() : string { return this.m_labelSeparator; }\r\n        public set LabelSeparator(value: string) { this.m_labelSeparator = value;}\r\n\r\n        constructor() {\r\n            super();\r\n            this.DefaultStyleKey = DataForm;\r\n            this.properties = [];\r\n            this.bindings = [];\r\n            this.controls = [];\r\n        }\r\n\r\n        OnApplyTemplate() {\r\n            super.OnApplyTemplate();\r\n            this.partGrid = <Grid>this.GetTemplateChild(\"PART_Grid\", Grid);\r\n            this.InvalidateForm();\r\n        }\r\n\r\n        private CurrentItemChanged():void{\r\n            this.InvalidateForm()\r\n        }\r\n\r\n        private InvalidateForm(): void {\r\n            if(this.partGrid){\r\n\r\n                this.partGrid.Children.Clear();\r\n                this.DiscoverObject();\r\n\r\n                var grid1 = new Grid();\r\n                grid1.Margin = new Thickness(5);\r\n                var definition1 = new ColumnDefinition();\r\n                definition1.Width = new Fayde.Controls.GridLength(1, GridUnitType.Auto);\r\n                var definition2 = new ColumnDefinition();\r\n                grid1.ColumnDefinitions.Add(definition1);\r\n                grid1.ColumnDefinitions.Add(definition2);\r\n\r\n                var row: number = 0;\r\n\r\n                this.properties.forEach(element => {\r\n                var propertyName = element;\r\n                var lbl = this.GetLabelTextBlock(propertyName);\r\n\r\n                var binding = new Fayde.Data.Binding(propertyName);\r\n                binding.Source = this.CurrentItem;\r\n                //binding.ConverterCulture = CultureInfo.CurrentCulture;\r\n                binding.Mode = Fayde.Data.BindingMode.TwoWay;\r\n                binding.ValidatesOnDataErrors = true;\r\n                binding.ValidatesOnExceptions = true;\r\n                binding.NotifyOnValidationError = true;\r\n\r\n                //var binding1 = new Fayde.Data.Binding(\"DataContext\");\r\n                //binding1.Source = this.Owner || this.$RootVisualTracker.rootVisual;\r\n                //this.SetBinding(DependencyObject.DataContextProperty, binding1);\r\n\r\n                // Control creation\r\n                var editorControl = this.GetControlFromProperty(element,binding);\r\n\r\n                if (editorControl == null)\r\n                return;\r\n\r\n                var df = new DataField();\r\n                df.Content = editorControl; \r\n                df.Label = lbl;\r\n\r\n                // Add to view\r\n                var newRow = new RowDefinition();\r\n                newRow.Height = new GridLength(1, GridUnitType.Auto);\r\n                grid1.RowDefinitions.Add(newRow);\r\n                if (isNaN(df.Content.Height))\r\n                {\r\n                    newRow.Height = new GridLength(df.Content.Height);\r\n                }\r\n                Grid.SetColumn(df.Label, 0);\r\n                Grid.SetRow(df.Label, row);\r\n                Grid.SetColumn(df.Content, 1);\r\n                Grid.SetRow(df.Content, row);\r\n\r\n                grid1.Children.Add(df.Label);\r\n                grid1.Children.Add(df.Content);\r\n                this.controls.push(df.Content);\r\n\r\n                row++;\r\n\r\n            });\r\n\r\n                this.partGrid.Children.Add(grid1);\r\n            }\r\n        }\r\n\r\n        private DiscoverObject(){\r\n            this.properties = [];\r\n            this.bindings = [];\r\n            this.controls = [];\r\n\r\n            if (!this.CurrentItem)\r\n                    return;\r\n\r\n            this.properties = this.GetProperties(this.CurrentItem);\r\n\r\n            \r\n\r\n        }\r\n\r\n        private GetLabelTextBlock(name: string): FrameworkElement\r\n        {\r\n            var lbl = new TextBlock();\r\n            lbl.Text = name+\" \"+this.m_labelSeparator;\r\n            lbl.TextAlignment = TextAlignment.Right;\r\n            lbl.Margin = new Thickness(5, 0, 5, 0);\r\n            lbl.HorizontalAlignment = HorizontalAlignment.Stretch;\r\n            lbl.VerticalAlignment = VerticalAlignment.Center;\r\n\r\n            return lbl;\r\n        }\r\n\r\n        private GetControlFromProperty(propertyName: string,binding: Fayde.Data.Binding): FrameworkElement{\r\n            var control: FrameworkElement = null;\r\n\r\n            var propertyValue = this.CurrentItem[propertyName];\r\n\r\n            if(typeof propertyValue == 'boolean'){\r\n                control = this.GenerateCheckBox(propertyName,binding);\r\n            }else if(typeof propertyValue == 'string'){\r\n                control = this.GenerateWaterMarkedTextBox(propertyName,binding);\r\n            }else if(typeof propertyValue == 'number'){\r\n                control = this.GenerateIntegerUpDow(propertyName,binding);\r\n            }\r\n\r\n            \r\n\r\n            return control;\r\n        }\r\n\r\n        private GenerateCheckBox(propertyName: string, binding: Fayde.Data.Binding): Control\r\n        {\r\n            var checkBox = new CheckBox();\r\n            checkBox.VerticalAlignment = VerticalAlignment.Center;\r\n            checkBox.Margin = new Thickness(2, 4, 0, 4);\r\n            //checkBox.IsEnabled = (bindables[property.Name].Direction == BindingDirection.TwoWay);\r\n            checkBox.IsEnabled = true;\r\n            //this.bindings.push(propertyName, checkBox.SetBinding(CheckBox.IsCheckedProperty, binding));\r\n            return checkBox;\r\n        }\r\n\r\n        private GenerateWaterMarkedTextBox(propertyName: string,binding: Fayde.Data.Binding): Control\r\n        {\r\n            var txtBox = new TextBox();\r\n            txtBox.Margin = new Thickness(0, 3, 18, 3);\r\n            //txtBox.IsReadOnly = !(bindables[property.Name].Direction == BindingDirection.TwoWay);\r\n            txtBox.IsReadOnly = false;\r\n            txtBox.TextAlignment = TextAlignment.Right;\r\n            // Binding\r\n            //this.bindings.Add(property.Name, txtBox.SetBinding(TextBox.TextProperty, binding));\r\n            return txtBox;\r\n        }\r\n\r\n        private GenerateIntegerUpDow(propertyName: string,binding: Fayde.Data.Binding): FrameworkElement\r\n        {\r\n            var integerUpDown = new Border();\r\n            integerUpDown.Opacity = 1.0;\r\n            integerUpDown.Margin = new Thickness(0, 3, 18, 3);\r\n            var n = new NumericUpDown();\r\n            integerUpDown.Child = n;\r\n            //n.IsEnabled = (bindables[property.Name].Direction == BindingDirection.TwoWay);\r\n            n.IsEnabled = true;\r\n            n.Maximum = Number.MAX_VALUE;\r\n            n.Minimum = Number.MIN_VALUE;\r\n\r\n            // Binding\r\n            //this.bindings.Add(property.Name, n.SetBinding(NumericUpDown.ValueProperty, binding));\r\n            return integerUpDown;\r\n        }\r\n\r\n        private GetProperties(obj: any): any[] {\r\n\r\n            var properties = [];\r\n            for (var prop in obj) {\r\n                if (typeof obj[prop] != 'function') {\r\n                    properties.push(prop)\r\n                }\r\n            }\r\n            return properties;\r\n        }\r\n\r\n    }\r\n\r\n}","module Fayde.Controls {\r\n\r\n export class DataFormInputTypes{\r\n    public FormType: FormTypes;\r\n\r\n    public PreferredWidth: number;\r\n\r\n    public PreferredHeight: number;\r\n    \r\n    }\r\n\r\n    \r\n}","module Fayde.Controls {\r\n    export class PropertyDisplayInfo{\r\n        \r\n    }\r\n}","\r\nmodule Fayde.Controls.Internal {\r\n    export class BindingSourceEvaluator<T> extends FrameworkElement {\r\n        static ValueProperty = DependencyProperty.Register(\"Value\", () => Object, BindingSourceEvaluator);\r\n        Value: T;\r\n\r\n        private _ValueBinding: Data.Binding = null;\r\n        get ValueBinding(): Data.Binding { return this._ValueBinding; }\r\n\r\n        constructor(binding:Data.Binding) {\r\n            super();\r\n            this._ValueBinding = binding;\r\n        }\r\n\r\n        GetDynamicValue(source: any): T {\r\n            var vb = this._ValueBinding;\r\n\r\n            var binding1 = new Data.Binding();\r\n            binding1.BindsDirectlyToSource = vb.BindsDirectlyToSource;\r\n            binding1.Converter = vb.Converter;\r\n            binding1.ConverterCulture = vb.ConverterCulture;\r\n            binding1.ConverterParameter = vb.ConverterParameter;\r\n            binding1.FallbackValue = vb.FallbackValue;\r\n            binding1.Mode = vb.Mode;\r\n            binding1.NotifyOnValidationError = vb.NotifyOnValidationError;\r\n            binding1.Path = vb.Path;\r\n            binding1.StringFormat = vb.StringFormat;\r\n            binding1.TargetNullValue = vb.TargetNullValue;\r\n            binding1.UpdateSourceTrigger = vb.UpdateSourceTrigger;\r\n            binding1.ValidatesOnDataErrors = vb.ValidatesOnDataErrors;\r\n            binding1.ValidatesOnExceptions = vb.ValidatesOnExceptions;\r\n            binding1.ValidatesOnNotifyDataErrors = vb.ValidatesOnNotifyDataErrors;\r\n            binding1.Source = source;\r\n            \r\n            this.SetBinding(BindingSourceEvaluator.ValueProperty, binding1);\r\n            var obj = <T>this.Value;\r\n            this.ClearValue(BindingSourceEvaluator.ValueProperty);\r\n            return obj;\r\n        }\r\n    }\r\n}","module Fayde.Controls.Internal {\r\n    export interface IDomainOwner extends UIElement {\r\n        Items: Internal.ObservableObjectCollection;\r\n        InvalidInputAction: InvalidInputAction;\r\n        FallbackItem: any;\r\n        Value: any;\r\n        CurrentIndex: number;\r\n        IsEditable: boolean;\r\n        OnValueChanged(oldValue: any, newValue: any);\r\n        OnCurrentIndexChanged(oldIndex: number, newIndex: number);\r\n        OnIsEditingChanged(isEditing: boolean);\r\n        OnIsInvalidInputChanged(isInvalidInput: boolean);\r\n        TryParseValue(text: string, ov: IOutValue): boolean;\r\n        FormatValue(): string;\r\n        ParseError: RoutedEvent<UpDownParseErrorEventArgs>;\r\n    }\r\n    export interface IDomainCoercer {\r\n        IsEditing: boolean;\r\n        IsInvalidInput: boolean;\r\n        OnValueChanged(oldValue: any, newValue: any);\r\n        OnCurrentIndexChanged(oldIndex: number, newIndex: number);\r\n        UpdateTextBoxText();\r\n        UpdateIsEditable();\r\n        ProcessUserInput();\r\n        Attach(textBox: TextBox);\r\n        Detach();\r\n        EscapeFocus();\r\n    }\r\n    export class DomainCoercer implements IDomainCoercer {\r\n        TextBox: TextBox = null;\r\n        Text = \"\";\r\n        IsCoercing = false;\r\n\r\n        private _IsEditing = false;\r\n        get IsEditing (): boolean {\r\n            return this._IsEditing;\r\n        }\r\n\r\n        set IsEditing (value: boolean) {\r\n            if (value === this._IsEditing)\r\n                return;\r\n            this._IsEditing = value;\r\n            this.OnIsEditingChanged(value);\r\n        }\r\n\r\n        private OnIsEditingChanged (isEditing: boolean) {\r\n            this.Owner.OnIsEditingChanged(isEditing);\r\n            if (!this.TextBox)\r\n                return;\r\n            if (!isEditing) {\r\n                this.TextBox.Text = this.Owner.FormatValue();\r\n                this.TextBox.IsHitTestVisible = false;\r\n            } else {\r\n                if (this.TextBox.IsFocused)\r\n                    this.TextBox.Select(0, this.TextBox.Text.length);\r\n                this.TextBox.IsHitTestVisible = true;\r\n            }\r\n        }\r\n\r\n        private _IsInvalidInput = false;\r\n        get IsInvalidInput (): boolean {\r\n            return this._IsInvalidInput;\r\n        }\r\n\r\n        set IsInvalidInput (value: boolean) {\r\n            if (value === this._IsInvalidInput)\r\n                return;\r\n            this._IsInvalidInput = value;\r\n            this.Owner.OnIsInvalidInputChanged(value);\r\n        }\r\n\r\n        constructor (public Owner: IDomainOwner, public OnCoerceValue: (val: any) => void, public OnCoerceCurrentIndex: (val: number) => void) {\r\n            this.Owner.KeyDown.on(this.OnKeyDown, this);\r\n        }\r\n\r\n        Attach (textBox: TextBox) {\r\n            this.TextBox = textBox;\r\n            if (textBox) {\r\n                textBox.GotFocus.on(this.TextBox_GotFocus, this);\r\n                textBox.LostFocus.on(this.TextBox_LostFocus, this);\r\n            }\r\n            this.UpdateTextBoxText();\r\n            this.UpdateIsEditable();\r\n        }\r\n\r\n        Detach () {\r\n            if (this.TextBox) {\r\n                this.TextBox.GotFocus.off(this.TextBox_GotFocus, this);\r\n                this.TextBox.LostFocus.off(this.TextBox_LostFocus, this);\r\n            }\r\n            this.TextBox = null;\r\n        }\r\n\r\n        private OnKeyDown (sender, e: Fayde.Input.KeyEventArgs) {\r\n            if (e != null && ((e.Key === Fayde.Input.Key.Enter || e.Key === Fayde.Input.Key.Space) && !this.IsEditing && this.Owner.IsEditable)) {\r\n                this.IsEditing = true;\r\n                e.Handled = true;\r\n            } else {\r\n                if (e == null || e.Handled)\r\n                    return;\r\n                if (e.Key === Fayde.Input.Key.Escape) {\r\n                    this.IsInvalidInput = false;\r\n                    this.IsEditing = false;\r\n                    e.Handled = true;\r\n                } else if (!this.IsEditing && this.Owner.IsEditable)\r\n                    this.IsEditing = true;\r\n            }\r\n        }\r\n\r\n        EscapeFocus () {\r\n            if (!this.IsInvalidInput)\r\n                this.IsEditing = false;\r\n            else if (this.Owner.InvalidInputAction === InvalidInputAction.TextBoxCannotLoseFocus && this.TextBox.IsFocused)\r\n                window.setTimeout(() => this.TextBox.Focus(), 1);\r\n        }\r\n\r\n        OnValueChanged (oldValue: any, newValue: any) {\r\n            if (!this.IsCoercing) {\r\n                var index = this.Owner.Items.IndexOf(newValue);\r\n                if (index > -1) {\r\n                    this.IsCoercing = true;\r\n                    this.OnCoerceCurrentIndex(index);\r\n                    this.IsCoercing = false;\r\n                }\r\n            }\r\n            this.UpdateTextBoxText();\r\n            this.Owner.OnValueChanged(oldValue, newValue);\r\n        }\r\n\r\n        OnCurrentIndexChanged (oldIndex: number, newIndex: number) {\r\n            if (!this.IsCoercing) {\r\n                if (newIndex >= 0 && newIndex < this.Owner.Items.Count) {\r\n                    this.IsCoercing = true;\r\n                    this.OnCoerceValue(this.Owner.Items.GetValueAt(newIndex));\r\n                    this.IsCoercing = false;\r\n                }\r\n            }\r\n            this.IsEditing = false;\r\n            this.Owner.OnCurrentIndexChanged(oldIndex, newIndex);\r\n        }\r\n\r\n        private TextBox_LostFocus (sender: any, e: RoutedEventArgs) {\r\n            this.ProcessUserInput();\r\n        }\r\n\r\n        private TextBox_GotFocus (sender: any, e: RoutedEventArgs) {\r\n            this.SelectAllText();\r\n        }\r\n\r\n        SelectAllText () {\r\n            if (this.TextBox)\r\n                this.TextBox.SelectAll();\r\n        }\r\n\r\n        UpdateTextBoxText () {\r\n            if (!this.TextBox)\r\n                return;\r\n            this.Text = this.Owner.FormatValue() || \"\";\r\n            this.TextBox.Text = this.Text;\r\n            this.TextBox.SelectionStart = this.Text.length;\r\n        }\r\n\r\n        UpdateIsEditable () {\r\n            if (this.TextBox)\r\n                this.TextBox.IsReadOnly = !this.Owner.IsEditable;\r\n        }\r\n\r\n        ProcessUserInput () {\r\n            if (!this.TextBox || this.Text === this.TextBox.Text)\r\n                return;\r\n            var selectionStart = this.TextBox.SelectionStart;\r\n            this.Text = this.TextBox.Text;\r\n            this.ApplyValue(this.Text);\r\n            if (selectionStart < this.TextBox.Text.length)\r\n                this.TextBox.SelectionStart = selectionStart;\r\n        }\r\n\r\n        OnParseError (e: UpDownParseErrorEventArgs) {\r\n            this.Owner.ParseError.raise(this, e);\r\n        }\r\n\r\n        private ApplyValue (text: string) {\r\n            if (!this.Owner.IsEditable)\r\n                return;\r\n            this.IsEditing = true;\r\n            try {\r\n                var val: IOutValue = {Value: null};\r\n                this.IsInvalidInput = !this.Owner.TryParseValue(text, val);\r\n                this.OnCoerceValue(val.Value);\r\n            } catch (err) {\r\n                var e = new UpDownParseErrorEventArgs(text, err);\r\n                this.OnParseError(e);\r\n                if (!e.Handled)\r\n                    this.UpdateTextBoxText();\r\n            } finally {\r\n                if (!this.IsInvalidInput)\r\n                    this.IsEditing = false;\r\n            }\r\n        }\r\n    }\r\n}","module Fayde.Controls.Internal {\r\n    export class EventGesture<T extends UIElement> {\r\n        Target: UIElement;\r\n        private _Callback: (t: T, e: any) => void;\r\n\r\n        Attach (event: nullstone.Event<nullstone.IEventArgs>, callback: (t: T, e: nullstone.IEventArgs) => void) {\r\n            this._Callback = callback;\r\n            event.on(this._OnEvent, this);\r\n            this.Detach = () => {\r\n                event.off(this._OnEvent, this);\r\n                this.Detach = () => {\r\n                };\r\n            };\r\n        }\r\n\r\n        Detach () {\r\n        }\r\n\r\n        private _OnEvent (sender: any, e: RoutedEventArgs) {\r\n            this._Callback && this._Callback(sender, e);\r\n        }\r\n    }\r\n} ","module Fayde.Controls.Internal {\r\n    export interface IFormattedRange extends IRange {\r\n        DecimalPlaces: number;\r\n        OnDecimalPlacesChanged(oldDecPlaces: number, newDecPlaces: number);\r\n    }\r\n    export interface IFormattedRangeCoercer extends IRangeCoercer {\r\n        OnDecimalPlacesChanged(oldDecPlaces: number, newDecPlaces: number);\r\n        AddToValue(inc: number);\r\n    }\r\n    export class FormattedRangeCoercer extends RangeCoercer implements IFormattedRangeCoercer {\r\n        constructor(range: IFormattedRange, onCoerceMaximum: (val: any) => void, onCoerceValue: (val: any) => void, public OnCoerceFormat: () => void) {\r\n            super(range, onCoerceMaximum, onCoerceValue);\r\n        }\r\n\r\n        OnDecimalPlacesChanged(oldDecPlaces: number, newDecPlaces: number) {\r\n            this.CoerceDepth++;\r\n            this.OnCoerceFormat();\r\n            this.CoerceDepth--;\r\n        }\r\n\r\n        AddToValue(inc: number) {\r\n            this.OnCoerceValue(this.Value + inc);\r\n            this.RequestedVal = this.Value;\r\n        }\r\n    }\r\n} ","module Fayde.Controls.Internal {\r\n    import GridUnitType = minerva.controls.grid.GridUnitType;\r\n\r\n    export enum GridResizeDirection {\r\n        Auto,\r\n        Columns,\r\n        Rows\r\n    }\r\n    export enum GridResizeBehavior {\r\n        BasedOnAlignment,\r\n        CurrentAndNext,\r\n        PreviousAndCurrent,\r\n        PreviousAndNext\r\n    }\r\n    export enum SplitBehavior {\r\n        Split,\r\n        ResizeDefinition1,\r\n        ResizeDefinition2\r\n    }\r\n\r\n    export class GridSplitterResizer {\r\n        Direction: GridResizeDirection;\r\n        Behavior: GridResizeBehavior;\r\n        SplitBehavior: SplitBehavior;\r\n        SplitterIndex: number;\r\n        SplitterLength: number;\r\n\r\n        DS1: IDefinitionSize;\r\n        DS2: IDefinitionSize;\r\n\r\n        constructor (gs: GridSplitter) {\r\n            this.UpdateResizeDirection(gs);\r\n            this.Behavior = resizeBehaviors[this.Direction !== GridResizeDirection.Columns ? <number>gs.VerticalAlignment : gs.HorizontalAlignment]\r\n            || GridResizeBehavior.PreviousAndNext;\r\n            this.SplitterLength = Math.min(gs.ActualWidth, gs.ActualHeight);\r\n        }\r\n\r\n        Setup (gs: GridSplitter, grid: Grid): boolean {\r\n            var isColumns = this.Direction === GridResizeDirection.Columns;\r\n            var span = isColumns ? Grid.GetColumnSpan(gs) : Grid.GetRowSpan(gs);\r\n            if (span > 1)\r\n                return false;\r\n            var index = isColumns ? Grid.GetColumn(gs) : Grid.GetRow(gs);\r\n            var indices = this.GetBehaviorIndices(index);\r\n            var defs = isColumns ? <XamlObjectCollection<any>>grid.ColumnDefinitions : grid.RowDefinitions;\r\n            if (indices[0] < 0 || indices[1] >= defs.Count)\r\n                return false;\r\n\r\n            this.SplitterIndex = index;\r\n            this.DS1 = createSize(defs.GetValueAt(indices[0]));\r\n            this.DS1.Index = indices[0];\r\n            this.DS2 = createSize(defs.GetValueAt(indices[1]));\r\n            this.DS2.Index = indices[1];\r\n            this.SplitBehavior = (this.DS1.IsStar && this.DS2.IsStar) ? SplitBehavior.Split : (!this.DS1.IsStar ? SplitBehavior.ResizeDefinition1 : SplitBehavior.ResizeDefinition2);\r\n\r\n            return true;\r\n        }\r\n\r\n        Move (grid: Grid, horiz: number, vert: number): boolean {\r\n            var ds1 = this.DS1;\r\n            var ds2 = this.DS2;\r\n            if (!ds1 || !ds2)\r\n                return true;\r\n            if (this.SplitBehavior === SplitBehavior.Split && !NumberEx.AreClose((ds1.ActualSize + ds2.ActualSize), (ds1.OrigActualSize + ds2.OrigActualSize)))\r\n                return false;\r\n            var deltaConstraints = this.GetConstraints();\r\n            var num1 = deltaConstraints[0];\r\n            var num2 = deltaConstraints[1];\r\n            var num = this.Direction === GridResizeDirection.Columns ? horiz : vert;\r\n            num = Math.min(Math.max(num, num1), num2);\r\n            this.SetLengths(grid, ds1.ActualSize + num, ds2.ActualSize - num);\r\n            return true;\r\n        }\r\n\r\n        UpdateResizeDirection (gs: GridSplitter): boolean {\r\n            var old = this.Direction;\r\n            if (gs.HorizontalAlignment !== HorizontalAlignment.Stretch)\r\n                this.Direction = GridResizeDirection.Columns;\r\n            else if (gs.VerticalAlignment === VerticalAlignment.Stretch && gs.ActualWidth <= gs.ActualHeight)\r\n                this.Direction = GridResizeDirection.Columns;\r\n            else\r\n                this.Direction = GridResizeDirection.Rows;\r\n            return old !== this.Direction;\r\n        }\r\n\r\n        private SetLengths (grid: Grid, definition1Pixels: number, definition2Pixels: number) {\r\n            var columnDefinitions;\r\n            if (this.SplitBehavior !== SplitBehavior.Split) {\r\n                if (this.SplitBehavior === SplitBehavior.ResizeDefinition1)\r\n                    this.DS1.Size = new GridLength(definition1Pixels, GridUnitType.Pixel);\r\n                else\r\n                    this.DS2.Size = new GridLength(definition2Pixels, GridUnitType.Pixel);\r\n                return;\r\n            }\r\n\r\n            var enumerator: nullstone.IEnumerator<DependencyObject> = this.Direction === GridResizeDirection.Columns\r\n                ? grid.ColumnDefinitions.getEnumerator() : grid.RowDefinitions.getEnumerator();\r\n            var i = 0;\r\n            while (enumerator.moveNext()) {\r\n                var ds = createSize(enumerator.current);\r\n                if (this.DS1.Index === i)\r\n                    ds.Size = new GridLength(definition1Pixels, GridUnitType.Star);\r\n                else if (this.DS2.Index === i)\r\n                    ds.Size = new GridLength(definition2Pixels, GridUnitType.Star);\r\n                else if (ds.IsStar)\r\n                    ds.Size = new GridLength(ds.ActualSize, GridUnitType.Star);\r\n                i++;\r\n            }\r\n        }\r\n\r\n        private GetConstraints (): number[] {\r\n            var actualLength = this.DS1.ActualSize;\r\n            var minSize = this.DS1.MinSize;\r\n            var maxSize = this.DS1.MaxSize;\r\n\r\n            var actualLength1 = this.DS2.ActualSize;\r\n            var minSize1 = this.DS2.MinSize;\r\n            var maxSize1 = this.DS2.MaxSize;\r\n\r\n            if (this.SplitterIndex === this.DS1.Index) {\r\n                minSize = Math.max(minSize, this.SplitterLength);\r\n            } else if (this.SplitterIndex === this.DS2.Index) {\r\n                minSize1 = Math.max(minSize1, this.SplitterLength);\r\n            }\r\n\r\n            if (this.SplitBehavior === SplitBehavior.Split) {\r\n                return [\r\n                    -Math.min(actualLength - minSize, maxSize1 - actualLength1),\r\n                    Math.min(maxSize - actualLength, actualLength1 - minSize1)\r\n                ];\r\n            }\r\n            if (this.SplitBehavior !== SplitBehavior.ResizeDefinition1) {\r\n                return [\r\n                    actualLength1 - maxSize1,\r\n                    actualLength1 - minSize1\r\n                ];\r\n            }\r\n            return [\r\n                minSize - actualLength,\r\n                maxSize - actualLength\r\n            ];\r\n        }\r\n\r\n        private GetBehaviorIndices (index: number): number[] {\r\n            switch (this.Behavior) {\r\n                case GridResizeBehavior.CurrentAndNext:\r\n                    return [index, index + 1];\r\n                case GridResizeBehavior.PreviousAndCurrent:\r\n                    return [index - 1, index];\r\n                default:\r\n                    return [index - 1, index + 1];\r\n            }\r\n        }\r\n    }\r\n\r\n    var resizeBehaviors: GridResizeBehavior[] = [];\r\n    resizeBehaviors[VerticalAlignment.Top] = GridResizeBehavior.PreviousAndCurrent;\r\n    resizeBehaviors[VerticalAlignment.Bottom] = GridResizeBehavior.CurrentAndNext;\r\n    resizeBehaviors[HorizontalAlignment.Left] = GridResizeBehavior.PreviousAndCurrent;\r\n    resizeBehaviors[HorizontalAlignment.Right] = GridResizeBehavior.CurrentAndNext;\r\n\r\n\r\n    import RowDefinition = Fayde.Controls.RowDefinition;\r\n    import ColumnDefinition = Fayde.Controls.ColumnDefinition;\r\n    export interface IDefinitionSize {\r\n        ActualSize: number;\r\n        MaxSize: number;\r\n        MinSize: number;\r\n        Size: GridLength;\r\n        IsStar: boolean;\r\n        Index: number;\r\n        OrigActualSize: number;\r\n    }\r\n    function createSize (definition: Fayde.DependencyObject): IDefinitionSize {\r\n        if (definition instanceof RowDefinition) {\r\n            var rd = <RowDefinition>definition;\r\n            var ds = {};\r\n            Object.defineProperty(ds, \"ActualSize\", {\r\n                get: function (): number {\r\n                    return rd.ActualHeight;\r\n                }\r\n            });\r\n            Object.defineProperty(ds, \"MaxSize\", {\r\n                get: function (): number {\r\n                    return rd.MaxHeight || 0;\r\n                }\r\n            });\r\n            Object.defineProperty(ds, \"MinSize\", {\r\n                get: function (): number {\r\n                    return rd.MinHeight || 0;\r\n                }\r\n            });\r\n            Object.defineProperty(ds, \"Size\", {\r\n                get: function (): GridLength {\r\n                    return rd.Height;\r\n                },\r\n                set: function (value: GridLength) {\r\n                    rd.Height = value;\r\n                }\r\n            });\r\n            Object.defineProperty(ds, \"IsStar\", {\r\n                get: function (): boolean {\r\n                    return !!rd.Height && rd.Height.Type === GridUnitType.Star;\r\n                }\r\n            });\r\n            (<any>ds).Index = 0;\r\n            (<any>ds).OrigActualSize = rd.ActualHeight;\r\n            return <IDefinitionSize>ds;\r\n        }\r\n        if (definition instanceof ColumnDefinition) {\r\n            var cd = <ColumnDefinition>definition;\r\n\r\n            var ds = {};\r\n            Object.defineProperty(ds, \"ActualSize\", {\r\n                get: function (): number {\r\n                    return cd.ActualWidth;\r\n                }\r\n            });\r\n            Object.defineProperty(ds, \"MaxSize\", {\r\n                get: function (): number {\r\n                    return cd.MaxWidth || 0;\r\n                }\r\n            });\r\n            Object.defineProperty(ds, \"MinSize\", {\r\n                get: function (): number {\r\n                    return cd.MinWidth || 0;\r\n                }\r\n            });\r\n            Object.defineProperty(ds, \"Size\", {\r\n                get: function (): GridLength {\r\n                    return cd.Width;\r\n                },\r\n                set: function (value: GridLength) {\r\n                    cd.Width = value;\r\n                }\r\n            });\r\n            Object.defineProperty(ds, \"IsStar\", {\r\n                get: function (): boolean {\r\n                    return !!cd.Width && cd.Width.Type === GridUnitType.Star;\r\n                }\r\n            });\r\n            (<any>ds).Index = 0;\r\n            (<any>ds).OrigActualSize = cd.ActualWidth;\r\n            return <IDefinitionSize>ds;\r\n        }\r\n    }\r\n} ","module Fayde.Controls.Internal {\r\n    export class ItemsControlHelper {\r\n        private _itemsHost: Panel;\r\n        private _scrollHost: ScrollViewer;\r\n\r\n        ItemsControl: ItemsControl;\r\n\r\n        get ItemsHost (): Panel {\r\n            if (!(this._itemsHost instanceof Panel) && this.ItemsControl != null && this.ItemsControl.ItemContainersManager != null) {\r\n                var container = this.ItemsControl.ItemContainersManager.ContainerFromIndex(0);\r\n                if (container != null)\r\n                    this._itemsHost = <Panel>VisualTreeHelper.GetParent(container);\r\n            }\r\n            return this._itemsHost;\r\n        }\r\n\r\n        get ScrollHost (): ScrollViewer {\r\n            if (!this._scrollHost) {\r\n                var itemsHost = this.ItemsHost;\r\n                if (itemsHost != null) {\r\n                    for (var cur = <DependencyObject>itemsHost; cur !== this.ItemsControl && cur != null; cur = VisualTreeHelper.GetParent(cur)) {\r\n                        var scrollViewer = cur;\r\n                        if (scrollViewer instanceof ScrollViewer) {\r\n                            this._scrollHost = <ScrollViewer>scrollViewer;\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            return this._scrollHost;\r\n        }\r\n\r\n        constructor (control: ItemsControl) {\r\n            this.ItemsControl = control;\r\n        }\r\n\r\n        OnApplyTemplate () {\r\n            this._itemsHost = null;\r\n            this._scrollHost = null;\r\n        }\r\n\r\n        static PrepareContainerForItemOverride (element: DependencyObject, parentItemContainerStyle: Style) {\r\n            if (!parentItemContainerStyle)\r\n                return;\r\n            var control = element instanceof Control ? <Control>element : null;\r\n            if (!control || control.Style != null)\r\n                return;\r\n            control.SetValue(FrameworkElement.StyleProperty, parentItemContainerStyle);\r\n        }\r\n\r\n        UpdateItemContainerStyle (itemContainerStyle: Style) {\r\n            if (!itemContainerStyle)\r\n                return;\r\n            var itemsHost = this.ItemsHost;\r\n            if (!itemsHost || !itemsHost.Children)\r\n                return;\r\n            var enumerator = itemsHost.Children.getEnumerator();\r\n            while (enumerator.moveNext()) {\r\n                var cur = <FrameworkElement>enumerator.current;\r\n                if (!cur.Style)\r\n                    cur.Style = itemContainerStyle;\r\n            }\r\n        }\r\n\r\n        ScrollIntoView (element: FrameworkElement) {\r\n            var scrollHost = this.ScrollHost;\r\n            if (!scrollHost)\r\n                return;\r\n            var generalTransform: Media.GeneralTransform;\r\n            try {\r\n                generalTransform = element.TransformToVisual(scrollHost);\r\n            } catch (err) {\r\n                return;\r\n            }\r\n            var tl = generalTransform.Transform(new Point());\r\n            var sz = generalTransform.Transform(new Point(element.ActualWidth, element.ActualHeight));\r\n            var r = new minerva.Rect(tl.x, tl.y, sz.x, sz.y);\r\n\r\n            var verticalOffset = scrollHost.VerticalOffset;\r\n            var num1 = 0.0;\r\n            var viewportHeight = scrollHost.ViewportHeight;\r\n            var bottom = r.y + r.height;\r\n            if (viewportHeight < bottom) {\r\n                num1 = bottom - viewportHeight;\r\n                verticalOffset += num1;\r\n            }\r\n            var top = r.y;\r\n            if (top - num1 < 0.0)\r\n                verticalOffset -= num1 - top;\r\n            scrollHost.ScrollToVerticalOffset(verticalOffset);\r\n            var horizontalOffset = scrollHost.HorizontalOffset;\r\n            var num2 = 0.0;\r\n            var viewportWidth = scrollHost.ViewportWidth;\r\n            var right = r.x + r.width;\r\n            if (viewportWidth < right) {\r\n                num2 = right - viewportWidth;\r\n                horizontalOffset += num2;\r\n            }\r\n            var left = r.x;\r\n            if (left - num2 < 0.0)\r\n                horizontalOffset -= num2 - left;\r\n            scrollHost.ScrollToHorizontalOffset(horizontalOffset);\r\n        }\r\n    }\r\n} ","module Fayde.Controls.Internal {\r\n    export class MultiClickHelper {\r\n        ClickCount = 0;\r\n        LastClickTime: number;\r\n        LastClickPosition: Point;\r\n        OnMouseLeftButtonDown(control: Control, e: Input.MouseButtonEventArgs) {\r\n            if (!control.IsEnabled) {\r\n                this.ClickCount = 1;\r\n                return;\r\n            }\r\n\r\n            var now = new Date().getTime();\r\n            var deltaMs = now - this.LastClickTime;\r\n            var pos = e.GetPosition(control);\r\n            var dist = getDistance(this.LastClickPosition, pos);\r\n\r\n            if (deltaMs < 500.0 && dist < 9.0)\r\n                this.ClickCount++;\r\n            else\r\n                this.ClickCount = 1;\r\n\r\n            this.LastClickTime = now;\r\n            this.LastClickPosition = pos;\r\n        }\r\n    }\r\n\r\n    function getDistance(oldPosition: Point, newPosition: Point): number {\r\n        var xdiff = newPosition.x;\r\n        var ydiff = newPosition.y;\r\n        if (oldPosition) {\r\n            xdiff -= oldPosition.x;\r\n            ydiff -= oldPosition.y;\r\n        }\r\n        return xdiff * xdiff + ydiff * ydiff;\r\n    }\r\n}","module Fayde.Controls.Internal {\r\n    export class ObservableObjectCollection extends Collections.ObservableCollection<any> {\r\n        IsReadOnly: boolean = false;\r\n\r\n        constructor (collection?: nullstone.IEnumerable<any>) {\r\n            super();\r\n            if (!collection)\r\n                return;\r\n            for (var en = collection.getEnumerator(); en.moveNext();) {\r\n                this.Add(en.current);\r\n            }\r\n        }\r\n\r\n        Add (value: any) {\r\n            if (this.IsReadOnly)\r\n                throw new InvalidOperationException(\"ObservableObjectCollection is read only.\");\r\n            super.Add(value);\r\n        }\r\n\r\n        AddRange (values: any[]) {\r\n            if (this.IsReadOnly)\r\n                throw new InvalidOperationException(\"ObservableObjectCollection is read only.\");\r\n            super.AddRange(values);\r\n        }\r\n\r\n        Insert (item: any, index: number) {\r\n            if (this.IsReadOnly)\r\n                throw new InvalidOperationException(\"ObservableObjectCollection is read only.\");\r\n            super.Insert(item, index);\r\n        }\r\n\r\n        RemoveAt (index: number) {\r\n            if (this.IsReadOnly)\r\n                throw new InvalidOperationException(\"ObservableObjectCollection is read only.\");\r\n            super.RemoveAt(index);\r\n        }\r\n\r\n        SetValueAt (index: number, item: any) {\r\n            if (this.IsReadOnly)\r\n                throw new InvalidOperationException(\"ObservableObjectCollection is read only.\");\r\n            super.SetValueAt(index, item);\r\n        }\r\n\r\n        Clear () {\r\n            if (this.IsReadOnly)\r\n                throw new InvalidOperationException(\"ObservableObjectCollection is read only.\");\r\n            super.Clear();\r\n        }\r\n    }\r\n}","module Fayde.Controls.Internal {\r\n    var LineChange = 16.0;\r\n    export class ScrollEx {\r\n        static HandleKey(sv: ScrollViewer, key: Input.Key, flowDirection: FlowDirection): boolean {\r\n            if (!sv)\r\n                return false;\r\n            var isRTL = flowDirection === FlowDirection.RightToLeft;\r\n            switch (key) {\r\n                case Input.Key.PageUp:\r\n                    if (!NumberEx.IsGreaterThanClose(sv.ExtentHeight, sv.ViewportHeight))\r\n                        ScrollEx.PageLeft(sv);\r\n                    else\r\n                        ScrollEx.PageUp(sv);\r\n                    return true;\r\n                case Input.Key.PageDown:\r\n                    if (!NumberEx.IsGreaterThanClose(sv.ExtentHeight, sv.ViewportHeight))\r\n                        ScrollEx.PageRight(sv);\r\n                    else\r\n                        ScrollEx.PageDown(sv);\r\n                    return true;\r\n                case Input.Key.End:\r\n                    ScrollEx.ScrollToBottom(sv);\r\n                    return true;\r\n                case Input.Key.Home:\r\n                    ScrollEx.ScrollToTop(sv);\r\n                    return true;\r\n                case Input.Key.Left:\r\n                    isRTL ? ScrollEx.LineRight(sv) : ScrollEx.LineLeft(sv);\r\n                    return true;\r\n                case Input.Key.Up:\r\n                    ScrollEx.LineUp(sv);\r\n                    return true;\r\n                case Input.Key.Right:\r\n                    isRTL ? ScrollEx.LineLeft(sv) : ScrollEx.LineRight(sv);\r\n                    return true;\r\n                case Input.Key.Down:\r\n                    ScrollEx.LineDown(sv);\r\n                    return true;\r\n            }\r\n            return false;\r\n        }\r\n\r\n        static LineUp(viewer: ScrollViewer) {\r\n            scrollByVerticalOffset(viewer, -16.0);\r\n        }\r\n        static LineDown(viewer: ScrollViewer) {\r\n            scrollByVerticalOffset(viewer, 16.0);\r\n        }\r\n        static LineLeft(viewer: ScrollViewer) {\r\n            scrollByHorizontalOffset(viewer, -16.0);\r\n        }\r\n        static LineRight(viewer: ScrollViewer) {\r\n            scrollByHorizontalOffset(viewer, 16.0);\r\n        }\r\n\r\n        static PageUp(viewer: ScrollViewer) {\r\n            scrollByVerticalOffset(viewer, -viewer.ViewportHeight);\r\n        }\r\n        static PageDown(viewer: ScrollViewer) {\r\n            scrollByVerticalOffset(viewer, viewer.ViewportHeight);\r\n        }\r\n        static PageLeft(viewer: ScrollViewer) {\r\n            scrollByHorizontalOffset(viewer, -viewer.ViewportWidth);\r\n        }\r\n        static PageRight(viewer: ScrollViewer) {\r\n            scrollByHorizontalOffset(viewer, viewer.ViewportWidth);\r\n        }\r\n\r\n        static ScrollToTop(viewer: ScrollViewer) {\r\n            viewer.ScrollToVerticalOffset(0.0);\r\n        }\r\n        static ScrollToBottom(viewer: ScrollViewer) {\r\n            viewer.ScrollToVerticalOffset(viewer.ExtentHeight);\r\n        }\r\n\r\n        static GetTopAndBottom(element: FrameworkElement, parent: FrameworkElement, top: IOutValue, bottom: IOutValue) {\r\n            var xform = element.TransformToVisual(parent);\r\n            top.Value = xform.Transform(new Point(0.0, 0.0)).y;\r\n            bottom.Value = xform.Transform(new Point(0.0, element.ActualHeight)).y;\r\n        }\r\n    }\r\n\r\n    function scrollByVerticalOffset(viewer: ScrollViewer, offset: number) {\r\n        offset += viewer.VerticalOffset;\r\n        offset = Math.max(Math.min(offset, viewer.ExtentHeight), 0.0);\r\n        viewer.ScrollToVerticalOffset(offset);\r\n    }\r\n    function scrollByHorizontalOffset(viewer: ScrollViewer, offset: number) {\r\n        offset += viewer.HorizontalOffset;\r\n        offset = Math.max(Math.min(offset, viewer.ExtentWidth), 0.0);\r\n        viewer.ScrollToHorizontalOffset(offset);\r\n    }\r\n}","module Fayde.Controls.Internal {\r\n    export class SelectionHandler {\r\n        private _ActiveBox: TextBox = null;\r\n        get ActiveBox(): TextBox { return this._ActiveBox; }\r\n\r\n        private _IsMouseDown = false;\r\n\r\n        private _TextBoxes: TextBox[] = [];\r\n        constructor(textBoxes: TextBox[]) {\r\n            this._TextBoxes = textBoxes = textBoxes.filter(tb => !!tb);\r\n            textBoxes.forEach(tb => {\r\n                tb.MouseLeftButtonDown.on(this._MouseDown, this);\r\n                tb.MouseLeftButtonUp.on(this._MouseUp, this);\r\n                tb.GotFocus.on(this._GotFocus, this);\r\n                tb.LostFocus.on(this._LostFocus, this);\r\n            });\r\n        }\r\n        Dispose() {\r\n            this._TextBoxes.forEach(tb => {\r\n                tb.MouseLeftButtonDown.off(this._MouseDown, this);\r\n                tb.MouseLeftButtonUp.off(this._MouseUp, this);\r\n                tb.GotFocus.off(this._GotFocus, this);\r\n                tb.LostFocus.off(this._LostFocus, this);\r\n            });\r\n        }\r\n\r\n        private _GotFocus(sender: any, e: RoutedEventArgs) {\r\n            if (this._IsMouseDown)\r\n                return;\r\n            (<TextBox>sender).SelectAll();\r\n        }\r\n        private _MouseDown(sender: any, e: Input.MouseButtonEventArgs) {\r\n            this._IsMouseDown = true;\r\n        }\r\n        private _MouseUp(sender: any, e: RoutedEventArgs) {\r\n            this._IsMouseDown = false;\r\n            if (this._ActiveBox === sender)\r\n                return;\r\n            this._ActiveBox = sender;\r\n            if (this._ActiveBox.SelectionLength <= 0)\r\n                (<TextBox>sender).SelectAll();\r\n        }\r\n        private _LostFocus(sender: any, e: RoutedEventArgs) {\r\n            (<TextBox>sender).Select(0, 0);\r\n            if (this._ActiveBox === sender)\r\n                this._ActiveBox = null;\r\n        }\r\n    }\r\n} ","module Fayde.Controls.Internal {\r\n    export interface ISpinOwner extends UIElement {\r\n        OnSpin();\r\n        OnIncrement();\r\n        OnDecrement();\r\n    }\r\n    export interface ISpinFlow {\r\n        UpdateValid(increase: boolean, decrease: boolean);\r\n        Dispose();\r\n    }\r\n    export class SpinFlow implements ISpinFlow {\r\n        constructor(public Owner: ISpinOwner, public Spinner: Spinner) {\r\n            if (this.Owner) {\r\n                this.Owner.KeyDown.on(this.OnKeyDown, this);\r\n                this.Owner.MouseWheel.on(this.OnMouseWheel, this);\r\n            }\r\n            if (this.Spinner)\r\n                this.Spinner.Spin.on(this.Spinner_Spin, this);\r\n        }\r\n\r\n        UpdateValid(increase: boolean, decrease: boolean) {\r\n            var validSpinDirections = ValidSpinDirections.None;\r\n            if (increase)\r\n                validSpinDirections |= ValidSpinDirections.Increase;\r\n            if (decrease)\r\n                validSpinDirections |= ValidSpinDirections.Decrease;\r\n            if (this.Spinner)\r\n                this.Spinner.ValidSpinDirection = validSpinDirections;\r\n        }\r\n        Dispose() {\r\n            if (this.Owner) {\r\n                this.Owner.KeyDown.off(this.OnKeyDown, this);\r\n                this.Owner.MouseWheel.off(this.OnMouseWheel, this);\r\n            }\r\n            if (this.Spinner)\r\n                this.Spinner.Spin.on(this.Spinner_Spin, this);\r\n        }\r\n        \r\n        private OnKeyDown(sender, e: Fayde.Input.KeyEventArgs) {\r\n            if (e.Handled)\r\n                return;\r\n            switch (e.Key) {\r\n                case Fayde.Input.Key.Enter:\r\n                    this.Owner.OnSpin();\r\n                    e.Handled = true;\r\n                    break;\r\n                case Fayde.Input.Key.Up:\r\n                    this.DoIncrement();\r\n                    e.Handled = true;\r\n                    break;\r\n                case Fayde.Input.Key.Down:\r\n                    this.DoDecrement();\r\n                    e.Handled = true;\r\n                    break;\r\n            }\r\n        }\r\n        private OnMouseWheel(sender, e: Fayde.Input.MouseWheelEventArgs) {\r\n            if (e.Handled)\r\n                return;\r\n            if (e.Delta < 0)\r\n                this.DoDecrement();\r\n            else if (0 < e.Delta)\r\n                this.DoIncrement();\r\n            e.Handled = true;\r\n        }\r\n\r\n        private Spinner_Spin(sender: any, e: SpinEventArgs) {\r\n            this.Owner.OnSpin();\r\n            if (!this.Spinner)\r\n                return;\r\n            if (e.Direction === SpinDirection.Increase)\r\n                this.DoIncrement();\r\n            else\r\n                this.DoDecrement();\r\n        }\r\n        \r\n        private DoIncrement() {\r\n            if (this.Spinner && (this.Spinner.ValidSpinDirection & ValidSpinDirections.Increase) === ValidSpinDirections.Increase)\r\n                this.Owner.OnIncrement();\r\n        }\r\n        private DoDecrement() {\r\n            if (this.Spinner && (this.Spinner.ValidSpinDirection & ValidSpinDirections.Decrease) === ValidSpinDirections.Decrease)\r\n                this.Owner.OnDecrement();\r\n        }\r\n    }\r\n}","module Fayde.Controls.Internal {\r\n    export interface IFormattedControl<T> {\r\n        Value: T;\r\n        IsEditable: boolean;\r\n        ParseValue(text: string): T;\r\n        FormatValue(val: T): string;\r\n        Parsing: RoutedEvent<UpDownParsingEventArgs<T>>;\r\n        ParseError: RoutedEvent<UpDownParseErrorEventArgs>;\r\n    }\r\n    export interface ITextBoxFormatter {\r\n        ProcessUserInput();\r\n        Dispose();\r\n        UpdateTextBoxText();\r\n        UpdateIsEditable();\r\n    }\r\n    export class TextBoxFormatter<T> implements ITextBoxFormatter {\r\n        get Value(): T { return this.Control.Value; }\r\n        Text = \"\";\r\n\r\n        constructor(public Control: IFormattedControl<T>, public TextBox: TextBox, public OnCoerceValue: (val: any) => void) {\r\n            if (this.TextBox) {\r\n                this.TextBox.GotFocus.on(this.TextBox_GotFocus, this);\r\n                this.TextBox.LostFocus.on(this.TextBox_LostFocus, this);\r\n            }\r\n            this.UpdateTextBoxText();\r\n            this.UpdateIsEditable();\r\n        }\r\n        \r\n        ProcessUserInput() {\r\n            if (!this.TextBox || this.Text === this.TextBox.Text)\r\n                return;\r\n            var selectionStart = this.TextBox.SelectionStart;\r\n            this.Text = this.TextBox.Text;\r\n            this.ApplyValue(this.Text);\r\n            if (selectionStart < this.TextBox.Text.length)\r\n                this.TextBox.SelectionStart = selectionStart;\r\n        }\r\n        Dispose() {\r\n            if (this.TextBox) {\r\n                this.TextBox.GotFocus.off(this.TextBox_GotFocus, this);\r\n                this.TextBox.LostFocus.off(this.TextBox_LostFocus, this);\r\n            }\r\n        }\r\n        \r\n        private TextBox_LostFocus(sender: any, e: RoutedEventArgs) {\r\n            this.ProcessUserInput();\r\n        }\r\n        private TextBox_GotFocus(sender: any, e: RoutedEventArgs) {\r\n            this.SelectAllText();\r\n        }\r\n\r\n        ApplyValue(text: string) {\r\n            var e1 = new UpDownParsingEventArgs<T>(text);\r\n            var obj1: T;\r\n            var error: Error = null;\r\n            try {\r\n                obj1 = this.Control.ParseValue(text);\r\n                e1.Value = obj1;\r\n            } catch (err) {\r\n                error = err;\r\n            }\r\n            try {\r\n                this.OnParsing(e1);\r\n            } catch (err) {\r\n            }\r\n            if (error == null) {\r\n                var obj2 = e1.Handled ? e1.Value : obj1;\r\n                var value = this.Value;\r\n                if (this.Value === obj2)\r\n                    this.UpdateTextBoxText();\r\n                this.OnCoerceValue(obj2);\r\n            } else if (e1.Handled) {\r\n                if (this.Value === e1.Value)\r\n                    this.UpdateTextBoxText();\r\n                this.OnCoerceValue(e1.Value);\r\n            } else {\r\n                var e2 = new UpDownParseErrorEventArgs(text, error);\r\n                this.OnParseError(e2);\r\n                if (!e2.Handled)\r\n                    this.UpdateTextBoxText();\r\n            }\r\n        }\r\n        OnParseError(e: UpDownParseErrorEventArgs) {\r\n            this.Control.ParseError.raise(this, e);\r\n        }\r\n        OnParsing(e: UpDownParsingEventArgs<T>) {\r\n            this.Control.Parsing.raise(this, e);\r\n        }\r\n        SelectAllText() {\r\n            if (this.TextBox)\r\n                this.TextBox.SelectAll();\r\n        }\r\n        UpdateTextBoxText() {\r\n            if (!this.TextBox)\r\n                return;\r\n            this.Text = this.Control.FormatValue(this.Value) || \"\";\r\n            this.TextBox.Text = this.Text;\r\n            this.TextBox.SelectionStart = this.Text.length;\r\n        }\r\n        UpdateIsEditable() {\r\n            if (this.TextBox)\r\n                this.TextBox.IsReadOnly = !this.Control.IsEditable;\r\n        }\r\n    }\r\n} ","module Fayde.Controls {\r\n    import Control = Fayde.Controls.Control;     \r\n\r\n    // Defines a datepicker in the format of windows phone pickers (Touch friendly)\r\n    export class Star extends Control {\r\n        static StarFillBrushProperty = DependencyProperty.Register(\"StarFillBrush\",() => Fayde.Media.Brush, Star,(new Fayde.Media.SolidColorBrush(Color.FromRgba(0xFF, 0xFF, 0x80, 0xFF))));\r\n        StarFillBrush: Fayde.Media.Brush;\r\n\r\n        static HalfFillBrushProperty = DependencyProperty.Register(\"HalfFillBrush\",() => Fayde.Media.Brush, Star, undefined);\r\n        HalfFillBrush: Fayde.Media.Brush;\r\n\r\n        static StrokeThicknessProperty = DependencyProperty.Register(\"StrokeThickness\",() => Number, Star, 2.0);\r\n        StrokeThickness: number;\r\n\r\n        static StrokeLineJoinProperty = DependencyProperty.Register(\"StrokeLineJoin\",() => Fayde.Shapes.PenLineJoin, Star, Fayde.Shapes.PenLineJoin.Round);\r\n        StrokeLineJoin: Fayde.Shapes.PenLineJoin;\r\n\r\n        private scaleTransform: Fayde.Media.ScaleTransform = new Fayde.Media.ScaleTransform();\r\n\r\n        /// Instantiates a new datepicker instance\r\n        constructor() {\r\n            super();\r\n            this.DefaultStyleKey = Star;\r\n            this.SizeChanged.on(this.Star_SizeChanged, this);\r\n\r\n        }\r\n\r\n        Star_SizeChanged(sender: Object, e: Fayde.SizeChangedEventArgs): void {\r\n            var scaleX = e.NewSize.width / 34;\r\n            var scaleY = e.NewSize.height / 34;\r\n            this.scaleTransform.ScaleX = this.scaleTransform.ScaleY = Math.min(scaleX, scaleY);\r\n        }\r\n        OnApplyTemplate() {\r\n            super.OnApplyTemplate();\r\n            this.scaleTransform = <Fayde.Media.ScaleTransform>this.GetTemplateChild(\"scaleTransform\", Fayde.Media.ScaleTransform);\r\n        }\r\n    }\r\n    Fayde.Controls.TemplateParts(Star, { Name: \"scaleTransform\", Type: Fayde.Media.ScaleTransform });\r\n}","module Fayde.Controls {\r\n    import Control = Fayde.Controls.Control;\r\n    import Grid = Fayde.Controls.Grid;\r\n    import GridUnitType = minerva.controls.grid.GridUnitType;\r\n    import Brush = Fayde.Media.Brush;\r\n\r\n    export class StarRating extends Control {\r\n        static NumberOfStarsProperty = DependencyProperty.Register(\"NumberOfStars\", () => Number, StarRating, 5, (d: StarRating, args) => d.OnNumberOfStarsChanged(args));\r\n        static RatingProperty = DependencyProperty.Register(\"Rating\", () => Number, StarRating, 0, (d: StarRating, args) => d.OnRatingChanged(args));\r\n        static HoverRatingProperty = DependencyProperty.Register(\"HoverRating\", () => Number, StarRating, 0, (d: StarRating, args) => d.RefreshStarRating());\r\n        static StarFillBrushProperty = DependencyProperty.Register(\"StarFillBrush\", () => Brush, StarRating, undefined, (d: StarRating, args) => d.RefreshStarRating());\r\n        static UnselectedStarFillBrushProperty = DependencyProperty.Register(\"UnselectedStarFillBrush\", () => Brush, StarRating, undefined, (d: StarRating, args) => d.RefreshStarRating());\r\n        static StarOutlineBrushProperty = DependencyProperty.Register(\"StarOutlineBrush\", () => Brush, StarRating, undefined, (d: StarRating, args) => d.RefreshStarRating());\r\n        static HoverFillBrushProperty = DependencyProperty.Register(\"HoverFillBrush\", () => Brush, StarRating, undefined, (d: StarRating, args) => d.RefreshStarRating());\r\n        static UnselectedHoverFillBrushProperty = DependencyProperty.Register(\"UnselectedHoverFillBrush\", () => Brush, StarRating, undefined, (d: StarRating, args) => d.RefreshStarRating());\r\n        static HoverOutlineBrushProperty = DependencyProperty.Register(\"HoverOutlineBrush\", () => Brush, StarRating, undefined, (d: StarRating, args) => d.RefreshStarRating());\r\n        static StrokeThicknessProperty = DependencyProperty.Register(\"StrokeThickness\", () => Number, StarRating, 2.0);\r\n        static StrokeLineJoinProperty = DependencyProperty.Register(\"StrokeLineJoin\", () => Fayde.Shapes.PenLineJoin, StarRating, Fayde.Shapes.PenLineJoin.Round);\r\n        NumberOfStars: number;\r\n        Rating: number;\r\n        HoverRating: number;\r\n        StarFillBrush: Brush;\r\n        UnselectedStarFillBrush: Brush;\r\n        StarOutlineBrush: Brush;\r\n        HoverFillBrush: Brush;\r\n        UnselectedHoverFillBrush: Brush;\r\n        HoverOutlineBrush: Brush;\r\n        StrokeThickness: number;\r\n        StrokeLineJoin: Fayde.Shapes.PenLineJoin;\r\n\r\n        OnNumberOfStarsChanged(e: DependencyPropertyChangedEventArgs) {\r\n            this.CreateStars();\r\n            this.RefreshStarRating();\r\n        }\r\n\r\n        OnRatingChanged(e: DependencyPropertyChangedEventArgs) {\r\n            this.DrawUnhovered();\r\n        }\r\n\r\n        private stars: Star[] = [];\r\n        private isHovering: boolean = false;\r\n        private LayoutRootStarList: Grid;\r\n\r\n        constructor() {\r\n            super();\r\n            this.DefaultStyleKey = StarRating;\r\n        }\r\n\r\n        OnApplyTemplate() {\r\n            super.OnApplyTemplate();\r\n            this.LayoutRootStarList = <Grid>this.GetTemplateChild(\"LayoutRootStarList\", Grid);\r\n            this.CreateStars();\r\n        }\r\n\r\n        OnMouseEnter(e: Fayde.Input.MouseEventArgs) {\r\n            super.OnMouseEnter(e);\r\n            var mousePos = e.GetPosition(this.LayoutRootStarList);\r\n            this.HandleMouseOver(mousePos);\r\n        }\r\n\r\n        OnMouseMove(e: Fayde.Input.MouseEventArgs) {\r\n            super.OnMouseMove(e);\r\n            var mousePos = e.GetPosition(this.LayoutRootStarList);\r\n            this.HandleMouseOver(mousePos);\r\n        }\r\n\r\n        OnMouseLeave(e: Fayde.Input.MouseEventArgs) {\r\n            super.OnMouseLeave(e);\r\n            this.IsHovering = false;\r\n        }\r\n\r\n        OnMouseLeftButtonDown(e: Fayde.Input.MouseEventArgs) {\r\n            super.OnMouseLeftButtonDown(e);\r\n            if (this.IsEnabled) {\r\n                this.SetCurrentValue(StarRating.RatingProperty, this.GetRatingFromPosition(e.GetPosition(this.LayoutRootStarList)));\r\n            }\r\n        }\r\n\r\n        private HandleMouseOver(mousePos: Point): void {\r\n            if (this.IsEnabled) { // no hover ratings if not enabled\r\n                this.IsHovering = this.IsInBounds(mousePos);\r\n                if (this.IsHovering) {\r\n                    this.SetCurrentValue(StarRating.HoverRatingProperty, this.GetRatingFromPosition(mousePos));\r\n                }\r\n            }\r\n        }\r\n\r\n        private IsInBounds(p: Point): boolean {\r\n            if (this.LayoutRootStarList.ColumnDefinitions.Count > 0) {\r\n                var maxX = this.LayoutRootStarList.ColumnDefinitions.GetValueAt(0).ActualWidth * this.NumberOfStars;\r\n                var maxY = this.LayoutRootStarList.ColumnDefinitions.GetValueAt(0).ActualWidth; // actual height of a star doesn't give us the right thing\r\n                return (p.y >= 0) &&\r\n                    (p.y < maxY) &&\r\n                    (p.x >= 0) &&\r\n                    (p.x < maxX);\r\n            }\r\n            return false;\r\n        }\r\n\r\n        private GetRatingFromPosition(mousePos: Point): number {\r\n            var maxRating = this.NumberOfStars * 2;\r\n\r\n            var starRatingWidth = this.LayoutRootStarList.ColumnDefinitions.GetValueAt(0).ActualWidth * this.NumberOfStars;\r\n            var percent = mousePos.x / starRatingWidth;\r\n            var value = 0.75 + (percent * maxRating);\r\n            var rating = parseInt(value.toString());\r\n            if (rating < 0) rating = 0;\r\n            if (rating > maxRating) rating = maxRating;\r\n            return rating;\r\n        }\r\n\r\n        private get IsHovering(): boolean {\r\n            return this.isHovering;\r\n        }\r\n\r\n        private set IsHovering(value: boolean) {\r\n            if (this.isHovering != value) {\r\n                this.isHovering = value;\r\n                if (!this.isHovering) {\r\n                    this.DrawUnhovered();\r\n                }\r\n            }\r\n        }\r\n\r\n        CreateStars(): void {\r\n            if (this.LayoutRootStarList != undefined) {\r\n                this.stars = new Array<Star>();\r\n                this.LayoutRootStarList.ColumnDefinitions.Clear();\r\n                this.LayoutRootStarList.Children.Clear();\r\n\r\n                for (var column = 0; column < this.NumberOfStars; column++) {\r\n                    var cd = new Fayde.Controls.ColumnDefinition();\r\n                    cd.Width = new Fayde.Controls.GridLength(34, GridUnitType.Star); // GridLength.Auto;                \r\n                    this.LayoutRootStarList.ColumnDefinitions.Add(cd);\r\n\r\n                    var star = new Star();\r\n                    star.StarFillBrush = this.StarFillBrush;\r\n                    star.Foreground = this.StarOutlineBrush;\r\n                    star.SetValue(Fayde.Controls.Grid.ColumnProperty, column);\r\n\r\n                    var strokeThicknessBinding = new Fayde.Data.Binding();\r\n                    strokeThicknessBinding.ElementName = \"LayoutRootStarList\";\r\n                    strokeThicknessBinding.Path = new Fayde.Data.PropertyPath(\"Parent.StrokeThickness\");\r\n                    star.SetBinding(Star.StrokeThicknessProperty, strokeThicknessBinding);\r\n                    star.StrokeThickness = this.StrokeThickness;\r\n\r\n                    var lineJoinBinding = new Fayde.Data.Binding();\r\n                    lineJoinBinding.ElementName = \"LayoutRootStarList\";\r\n                    lineJoinBinding.Path = new Fayde.Data.PropertyPath(\"Parent.StrokeLineJoin\");\r\n                    star.SetBinding(Star.StrokeLineJoinProperty, lineJoinBinding);\r\n                    star.StrokeLineJoin = this.StrokeLineJoin;\r\n\r\n                    this.LayoutRootStarList.Children.Add(star);\r\n                    this.stars.push(star);\r\n                }\r\n                this.RefreshStarRating();\r\n            }\r\n        }\r\n\r\n        RefreshStarRating(): void {\r\n            if (this.isHovering) {\r\n                this.DrawStarRating(this.HoverRating, this.HoverFillBrush, this.HoverOutlineBrush, this.UnselectedHoverFillBrush);\r\n            } else {\r\n                this.DrawUnhovered();\r\n            }\r\n        }\r\n\r\n        private DrawUnhovered(): void {\r\n            this.DrawStarRating(this.Rating, this.StarFillBrush, this.StarOutlineBrush, this.UnselectedStarFillBrush);\r\n        }\r\n\r\n        private DrawStarRating(value: number, fillBrush: Brush, outlineBrush: Brush, unselectedBrush: Brush): void {\r\n            for (var star = 0; star < this.NumberOfStars; star++) {\r\n                if (this.stars[star] != undefined) {\r\n                    if (value >= (star + 1) * 2) {\r\n                        this.stars[star].StarFillBrush = fillBrush;\r\n                        this.stars[star].HalfFillBrush = null;\r\n                    } else if (value >= 1 + star * 2) {\r\n                        this.stars[star].StarFillBrush = unselectedBrush;\r\n                        this.stars[star].HalfFillBrush = fillBrush;\r\n                    } else {\r\n                        this.stars[star].StarFillBrush = unselectedBrush;\r\n                        this.stars[star].HalfFillBrush = null;\r\n                    }\r\n                    this.stars[star].Foreground = outlineBrush;\r\n                    this.stars[star].StrokeThickness = this.StrokeThickness;\r\n                    this.stars[star].StrokeLineJoin = this.StrokeLineJoin;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    Fayde.Controls.TemplateParts(StarRating,\r\n        {Name: \"LayoutRootStarList\", Type: Fayde.Controls.Grid}\r\n    );\r\n}","module Fayde.Controls.tabpanel {\r\n    import Size = minerva.Size;\r\n    import Visibility = minerva.Visibility;\r\n    import PanelUpdaterTree = minerva.controls.panel.PanelUpdaterTree;\r\n\r\n    export module helpers {\r\n        export function getDesiredSizeWithoutMargin (upd: minerva.core.Updater): Size {\r\n            var timargin = getTabItemMargin(upd);\r\n\r\n            var size = new Size();\r\n            Size.copyTo(upd.assets.desiredSize, size);\r\n            var margin = upd.assets.margin;\r\n            size.height = Math.max(0.0, size.height - margin.top - margin.bottom);\r\n            size.width = Math.max(0.0, size.width - margin.left - margin.right + timargin);\r\n            return size;\r\n        }\r\n\r\n        function getTabItemMargin (upd: minerva.core.Updater): number {\r\n            var node = upd.getAttachedValue(\"$node\");\r\n            var ti: TabItem = node ? node.XObject : null;\r\n            if (!(ti instanceof TabItem) || ti.IsSelected)\r\n                return 0;\r\n\r\n            var panel = <Panel>ti.GetTemplate(ti.IsSelected, ti.TabStripPlacement);\r\n            if (!(panel instanceof Panel) || panel.Children.Count <= 0)\r\n                return 0;\r\n\r\n            var fe = <FrameworkElement>panel.Children.GetValueAt(0);\r\n            if (!(fe instanceof FrameworkElement) || !fe.Margin)\r\n                return 0;\r\n\r\n            return Math.abs(fe.Margin.left + fe.Margin.right);\r\n        }\r\n\r\n        export function getHeadersSize (tree: PanelUpdaterTree): number[] {\r\n            var arr = [];\r\n            for (var walker = tree.walk(); walker.step();) {\r\n                var child = walker.current;\r\n                var width = child.assets.visibility === Visibility.Collapsed ? 0.0 : getDesiredSizeWithoutMargin(child).width\r\n                arr.push(width);\r\n            }\r\n            return arr;\r\n        }\r\n\r\n        export function setTabItemZ (upd: minerva.core.Updater) {\r\n            var node = upd.getAttachedValue(\"$node\");\r\n            var ti: TabItem = node ? node.XObject : null;\r\n            if (!(ti instanceof TabItem))\r\n                return;\r\n            var zi = ti.IsSelected ? 1 : 0;\r\n            ti.SetCurrentValue(Canvas.ZIndexProperty, zi);\r\n        }\r\n\r\n        function getTabItemIsSelected (upd: minerva.core.Updater): boolean {\r\n            var node = upd.getAttachedValue(\"$node\");\r\n            var ti: TabItem = node ? node.XObject : null;\r\n            if (!(ti instanceof TabItem))\r\n                return;\r\n            return ti.IsSelected === true;\r\n        }\r\n\r\n        export function getActiveRow (tree: PanelUpdaterTree, solution: number[], isDockTop: boolean): number {\r\n            var index = 0;\r\n            var num = 0;\r\n            if (solution.length > 0) {\r\n                for (var walker = tree.walk(); walker.step();) {\r\n                    var child = walker.current;\r\n                    if (getTabItemIsSelected(child))\r\n                        return index;\r\n                    if (index < solution.length && solution[index] === num)\r\n                        ++index;\r\n                    ++num;\r\n                }\r\n            }\r\n            if (isDockTop)\r\n                index = this._NumberOfRows - 1;\r\n            return index;\r\n        }\r\n\r\n        export function calculateHeaderDistribution (tree: PanelUpdaterTree, rowWidthLimit: number, headerWidth: number[]): number[] {\r\n            var num1 = 0.0;\r\n            var length1 = headerWidth.length;\r\n            var length2 = this._NumberOfRows - 1;\r\n            var num2 = 0.0;\r\n            var num3 = 0;\r\n            var numArray1 = new Array(length2);\r\n            var numArray2 = new Array(length2);\r\n\r\n            var numArray3 = new Array(this._NumberOfRows);\r\n            var numArray4 = numArray3.slice(0);\r\n            var numArray5 = numArray3.slice(0);\r\n            var numArray6 = numArray3.slice(0);\r\n\r\n            var index1 = 0;\r\n            for (var index2 = 0; index2 < length1; ++index2) {\r\n                if (num2 + headerWidth[index2] > rowWidthLimit && num3 > 0) {\r\n                    numArray4[index1] = num2;\r\n                    numArray3[index1] = num3;\r\n                    var num4 = Math.max(0.0, (rowWidthLimit - num2) / num3);\r\n                    numArray5[index1] = num4;\r\n                    numArray1[index1] = index2 - 1;\r\n                    if (num1 < num4)\r\n                        num1 = num4;\r\n                    ++index1;\r\n                    num2 = headerWidth[index2];\r\n                    num3 = 1;\r\n                }\r\n                else {\r\n                    num2 += headerWidth[index2];\r\n                    if (headerWidth[index2] != 0.0)\r\n                        ++num3;\r\n                }\r\n            }\r\n            if (index1 === 0)\r\n                return [];\r\n            numArray4[index1] = num2;\r\n            numArray3[index1] = num3;\r\n            var num5 = (rowWidthLimit - num2) / num3;\r\n            numArray5[index1] = num5;\r\n            if (num1 < num5)\r\n                num1 = num5;\r\n\r\n            numArray2 = numArray1.slice(0);\r\n            numArray6 = numArray5.slice(0);\r\n            while (true) {\r\n                var num4 = 0;\r\n                do {\r\n                    var num6 = 0;\r\n                    var num7 = 0.0;\r\n                    for (var index2 = 0; index2 < this._NumberOfRows; ++index2) {\r\n                        if (num7 < numArray5[index2]) {\r\n                            num7 = numArray5[index2];\r\n                            num6 = index2;\r\n                        }\r\n                    }\r\n                    if (num6 != 0) {\r\n                        var index2 = num6;\r\n                        var index3 = index2 - 1;\r\n                        var index4 = numArray1[index3];\r\n                        var num8 = headerWidth[index4];\r\n                        numArray4[index2] += num8;\r\n                        if (numArray4[index2] <= rowWidthLimit) {\r\n                            --numArray1[index3];\r\n                            ++numArray3[index2];\r\n                            numArray4[index3] -= num8;\r\n                            --numArray3[index3];\r\n                            numArray5[index3] = (rowWidthLimit - numArray4[index3]) / numArray3[index3];\r\n                            numArray5[index2] = (rowWidthLimit - numArray4[index2]) / numArray3[index2];\r\n                            num4 = 0.0;\r\n                            for (var index5 = 0; index5 < this._NumberOfRows; ++index5) {\r\n                                if (num4 < numArray5[index5])\r\n                                    num4 = numArray5[index5];\r\n                            }\r\n                        }\r\n                        else\r\n                            break;\r\n                    }\r\n                    else\r\n                        break;\r\n                }\r\n                while (num4 >= num1);\r\n                num1 = num4;\r\n                numArray2 = numArray1.slice(0);\r\n                numArray6 = numArray5.slice(0);\r\n            }\r\n\r\n            var index6 = 0;\r\n            var index7 = 0;\r\n            for (var walker = tree.walk(); walker.step();) {\r\n                var child = walker.current;\r\n                if (child.assets.visibility === Visibility.Visible)\r\n                    headerWidth[index7] += numArray6[index6];\r\n                if (index6 < length2 && numArray2[index6] == index7)\r\n                    ++index6;\r\n                ++index7;\r\n            }\r\n            return numArray2;\r\n        }\r\n    }\r\n}","module Fayde.Controls {\r\n    export class TabPanel extends Panel {\r\n        CreateLayoutUpdater () {\r\n            return new tabpanel.TabPanelUpdater();\r\n        }\r\n\r\n        //TODO: Alter TabNavigation, DirectionalNavigation\r\n\r\n        private get TabAlignment (): Dock {\r\n            var tabControlParent: TabControl = VisualTreeHelper.GetParentOfType<TabControl>(this, TabControl);\r\n            if (tabControlParent != null)\r\n                return tabControlParent.TabStripPlacement;\r\n            return Dock.Top;\r\n        }\r\n\r\n        static setTabAlignment (tp: TabPanel, alignment: Dock) {\r\n            if (!tp)\r\n                return;\r\n            var upd = <tabpanel.TabPanelUpdater>tp.XamlNode.LayoutUpdater;\r\n            upd.assets.tabAlignment = alignment;\r\n        }\r\n    }\r\n}","module Fayde.Controls.tabpanel {\r\n    export interface ITabPanelUpdaterAssets extends minerva.controls.panel.IPanelUpdaterAssets, measure.IInput, arrange.IInput {\r\n    }\r\n    export class TabPanelUpdater extends minerva.controls.panel.PanelUpdater {\r\n        assets: ITabPanelUpdaterAssets;\r\n\r\n        init () {\r\n            this.setMeasurePipe(minerva.singleton(measure.TabPanelMeasurePipeDef))\r\n                .setArrangePipe(minerva.singleton(arrange.TabPanelArrangePipeDef));\r\n\r\n            var assets = this.assets;\r\n            assets.tabAlignment = Dock.Top;\r\n            assets.numRows = 1;\r\n            assets.numHeaders = 0;\r\n            assets.rowHeight = 0.0;\r\n\r\n            super.init();\r\n        }\r\n    }\r\n}","module Fayde.Controls {\r\n    export function compareSummaryItems (item1: ValidationSummaryItem, item2: ValidationSummaryItem): number {\r\n        var refs = compareRefs(item1, item2);\r\n        if (refs != null)\r\n            return refs;\r\n        var comp = compareNum(item1.ItemType, item2.ItemType);\r\n        if (comp !== 0)\r\n            return comp;\r\n\r\n        var control1: Control = item1.Sources.Count > 0 ? item1.Sources.GetValueAt(0).Control : null;\r\n        var control2: Control = item2.Sources.Count > 0 ? item2.Sources.GetValueAt(0).Control : null;\r\n        if (control1 !== control2) {\r\n            refs = compareRefs(control1, control2);\r\n            if (refs != null)\r\n                return refs;\r\n            comp = compareNum(control1.TabIndex, control2.TabIndex);\r\n            if (comp !== 0)\r\n                return comp;\r\n            return compareVisualOrder(control1, control2);\r\n        }\r\n    }\r\n\r\n    function compareRefs (item1: any, item2: any): number {\r\n        if (item1 == null)\r\n            return item2 == null ? null : -1;\r\n        if (item2 == null)\r\n            return 1;\r\n        return null;\r\n    }\r\n\r\n    function compareNum (x: number, y: number): number {\r\n        return x === y ? 0 : (x < y ? -1 : 1);\r\n    }\r\n\r\n    function compareVisualOrder (control1: Control, control2: Control): number {\r\n        if (!control1 || !control2 || control1 === control2)\r\n            return 0;\r\n        var trail: DependencyObject[] = [];\r\n        var cur = <DependencyObject>control1;\r\n        trail.push(cur);\r\n        while ((cur = VisualTreeHelper.GetParent(cur)) != null) {\r\n            trail.push(cur);\r\n        }\r\n\r\n        cur = control2;\r\n        var last = cur;\r\n        while ((cur = VisualTreeHelper.GetParent(cur)) != null) {\r\n            var index = trail.indexOf(cur);\r\n            if (index === 0)\r\n                return -1;\r\n            if (index < 0)\r\n                continue;\r\n            var prev = trail[index - 1];\r\n            if (!last || !prev)\r\n                return 0;\r\n            for (var i = 0, count = VisualTreeHelper.GetChildrenCount(cur); i < count; i++) {\r\n                var child = VisualTreeHelper.GetChild(cur, i);\r\n                if (child === prev)\r\n                    return 1;\r\n                if (child === last)\r\n                    return -1;\r\n            }\r\n            last = cur;\r\n        }\r\n        return 0;\r\n    }\r\n}","module Fayde.Controls {\r\n    export class FocusingInvalidControlEventArgs implements nullstone.IEventArgs {\r\n        Handled: boolean = false;\r\n        Item: ValidationSummaryItem;\r\n        Target: ValidationSummaryItemSource;\r\n\r\n        constructor (item: ValidationSummaryItem, target: ValidationSummaryItemSource) {\r\n            Object.defineProperties(this, {\r\n                \"Item\": {\r\n                    value: item,\r\n                    writable: false\r\n                },\r\n                \"Target\": {\r\n                    value: target,\r\n                    writable: false\r\n                }\r\n            });\r\n        }\r\n    }\r\n}","module Fayde.Controls {\r\n    import ObservableCollection = Fayde.Collections.ObservableCollection;\r\n    import ReadOnlyObservableCollection = Fayde.Collections.ReadOnlyObservableCollection;\r\n\r\n    export class ValidationSummary extends Control {\r\n        static ShowErrorsInSummaryProperty = DependencyProperty.RegisterAttached(\"ShowErrorsInSummary\", () => Boolean, ValidationSummary, true, ValidationSummary.OnShowErrorsInSummaryChanged);\r\n        static ErrorStyleProperty = DependencyProperty.Register(\"ErrorStyle\", () => Style, ValidationSummary);\r\n        static FilterProperty = DependencyProperty.Register(\"Filter\", () => new Enum(ValidationSummaryFilters), ValidationSummary, ValidationSummaryFilters.All, (d: ValidationSummary, args) => d.OnFilterChanged(args.OldValue, args.NewValue));\r\n        static FocusControlsOnClickProperty = DependencyProperty.Register(\"FocusControlsOnClick\", () => Boolean, ValidationSummary, true);\r\n        static HasErrorsProperty = DependencyProperty.RegisterReadOnly(\"HasErrors\", () => Boolean, ValidationSummary, false);\r\n        static HasDisplayedErrorsProperty = DependencyProperty.RegisterReadOnly(\"HasDisplayedErrors\", () => Boolean, ValidationSummary, false);\r\n        static HeaderProperty = DependencyProperty.Register(\"Header\", () => Object, ValidationSummary, undefined, (d: ValidationSummary, args) => d.OnHeaderChanged(args.OldValue, args.NewValue));\r\n        static HeaderTemplateProperty = DependencyProperty.Register(\"HeaderTemplate\", () => DataTemplate, ValidationSummary);\r\n        static SummaryListBoxStyleProperty = DependencyProperty.Register(\"SummaryListBoxStyle\", () => Style, ValidationSummary);\r\n        static TargetProperty = DependencyProperty.Register(\"Target\", () => UIElement, ValidationSummary, undefined, (d: ValidationSummary, args) => d.OnTargetChanged(args.OldValue, args.NewValue));\r\n\r\n        static GetShowErrorsInSummary (dobj: DependencyObject): boolean {\r\n            return dobj.GetValue(ValidationSummary.ShowErrorsInSummaryProperty) === true;\r\n        }\r\n\r\n        static SetShowErrorsInSummary (dobj: DependencyObject, value: boolean) {\r\n            dobj.SetValue(ValidationSummary.ShowErrorsInSummaryProperty, value === true);\r\n        }\r\n\r\n        ShowErrorsInSummary: boolean;\r\n        ErrorStyle: Style;\r\n        Filter: ValidationSummaryFilters;\r\n        FocusControlsOnClick: boolean;\r\n        HasErrors: boolean;\r\n        HasDisplayedErrors: boolean;\r\n        Header: any;\r\n        HeaderTemplate: DataTemplate;\r\n        SummaryListBoxStyle: Style;\r\n        Target: UIElement;\r\n\r\n        private static OnShowErrorsInSummaryChanged (dobj: DependencyObject, args: IDependencyPropertyChangedEventArgs) {\r\n            var root = VisualTreeHelper.GetRoot(dobj);\r\n            if (root)\r\n                ValidationSummary.UpdateDisplayedErrorsOnAllValidationSummaries(root);\r\n        }\r\n\r\n        OnFilterChanged (oldValue: ValidationSummaryFilters, newValue: ValidationSummaryFilters) {\r\n            this.UpdateDisplayedErrors();\r\n        }\r\n\r\n        OnHeaderChanged (oldValue: any, newValue: any) {\r\n            this.UpdateHeaderText();\r\n        }\r\n\r\n        OnTargetChanged (oldValue: UIElement, newValue: UIElement) {\r\n            if (this._RegisteredParent != null) {\r\n                this._RegisteredParent.BindingValidationError.off(this.Target_BindingValidationError, this);\r\n                this._RegisteredParent = null;\r\n            }\r\n            if (oldValue instanceof FrameworkElement)\r\n                (<FrameworkElement>oldValue).BindingValidationError.off(this.Target_BindingValidationError, this);\r\n            if (newValue instanceof FrameworkElement)\r\n                (<FrameworkElement>newValue).BindingValidationError.on(this.Target_BindingValidationError, this);\r\n            this._Errors.ClearErrors(ValidationSummaryItemType.PropertyError);\r\n            this.UpdateDisplayedErrors();\r\n        }\r\n\r\n        private _ErrorsListBox: ListBox = null;\r\n        private _HeaderContentControl: ContentControl = null;\r\n        private _RegisteredParent: FrameworkElement;\r\n        private _ValidationSummaryItemDictionary = {};\r\n        private _CurSummItemsSource: ValidationSummaryItemSource;\r\n\r\n        private _Errors = new ValidationItemCollection();\r\n        get Errors (): ObservableCollection<ValidationSummaryItem> {\r\n            return this._Errors;\r\n        }\r\n\r\n        private _DisplayedErrors = new ValidationItemCollection();\r\n        get DisplayedErrors (): ReadOnlyObservableCollection<ValidationSummaryItem> {\r\n            return new ReadOnlyObservableCollection<ValidationSummaryItem>(this._DisplayedErrors);\r\n        }\r\n\r\n        FocusingInvalidControl = new nullstone.Event<FocusingInvalidControlEventArgs>();\r\n        SelectionChanged = new nullstone.Event<Primitives.SelectionChangedEventArgs>();\r\n\r\n        constructor () {\r\n            super();\r\n            this.DefaultStyleKey = ValidationSummary;\r\n\r\n            this._Errors.CollectionChanged.on(this.Errors_CollectionChanged, this);\r\n\r\n            this.Loaded.on(this.ValidationSummary_Loaded, this);\r\n            this.Unloaded.on(this.ValidationSummary_Unloaded, this);\r\n            this.IsEnabledChanged.on(this.ValidationSummary_IsEnabledChanged, this);\r\n        }\r\n\r\n        OnApplyTemplate () {\r\n            super.OnApplyTemplate();\r\n            if (this._ErrorsListBox != null) {\r\n                this._ErrorsListBox.MouseLeftButtonUp.off(this.ErrorsListBox_MouseLeftButtonUp, this);\r\n                this._ErrorsListBox.KeyDown.off(this.ErrorsListBox_KeyDown, this);\r\n                this._ErrorsListBox.SelectionChanged.off(this.ErrorsListBox_SelectionChanged, this);\r\n            }\r\n            this._ErrorsListBox = <ListBox>this.GetTemplateChild(\"SummaryListBox\", ListBox);\r\n            if (this._ErrorsListBox != null) {\r\n                this._ErrorsListBox.MouseLeftButtonUp.on(this.ErrorsListBox_MouseLeftButtonUp, this);\r\n                this._ErrorsListBox.KeyDown.on(this.ErrorsListBox_KeyDown, this);\r\n                this._ErrorsListBox.ItemsSource = this.DisplayedErrors;\r\n                this._ErrorsListBox.SelectionChanged.on(this.ErrorsListBox_SelectionChanged, this);\r\n            }\r\n            this._HeaderContentControl = <ContentControl>this.GetTemplateChild(\"HeaderContentControl\", ContentControl);\r\n            this.UpdateDisplayedErrors();\r\n            this.UpdateCommon(false);\r\n            this.UpdateValidation(false);\r\n        }\r\n\r\n        private Errors_CollectionChanged (sender: any, e: Fayde.Collections.CollectionChangedEventArgs) {\r\n            if (e.OldItems != null) {\r\n                for (var i = 0, items = e.OldItems; i < items.length; i++) {\r\n                    var item = items[i];\r\n                    if (item)\r\n                        item.PropertyChanged.off(this.ValidationSummaryItem_PropertyChanged, this);\r\n                }\r\n            }\r\n            if (e.NewItems != null) {\r\n                for (var i = 0, items = e.NewItems; i < items.length; i++) {\r\n                    var item = items[i];\r\n                    if (item)\r\n                        item.PropertyChanged.on(this.ValidationSummaryItem_PropertyChanged, this);\r\n                }\r\n            }\r\n            this.SetCurrentValue(ValidationSummary.HasErrorsProperty, this._Errors.Count > 0);\r\n            this.UpdateDisplayedErrors();\r\n        }\r\n\r\n        private ErrorsListBox_KeyDown (sender: any, e: Input.KeyEventArgs) {\r\n            if (e.Key !== Input.Key.Enter)\r\n                return;\r\n            this.ExecuteClick(sender);\r\n        }\r\n\r\n        private ErrorsListBox_MouseLeftButtonUp (sender, e: Input.MouseButtonEventArgs) {\r\n            this.ExecuteClick(sender);\r\n        }\r\n\r\n        private ErrorsListBox_SelectionChanged (sender: any, e: Primitives.SelectionChangedEventArgs) {\r\n            this.SelectionChanged.raise(this, e);\r\n        }\r\n\r\n        private ValidationSummary_Loaded (sender: any, e: RoutedEventArgs) {\r\n            if (!this.Target && !this._RegisteredParent) {\r\n                var rp = VisualTreeHelper.GetParent(this);\r\n                this._RegisteredParent = rp instanceof FrameworkElement ? <FrameworkElement>rp : null;\r\n                if (this._RegisteredParent != null)\r\n                    this._RegisteredParent.BindingValidationError.on(this.Target_BindingValidationError, this);\r\n            }\r\n            this.Loaded.off(this.ValidationSummary_Loaded, this);\r\n            //this._initialized = true;\r\n        }\r\n\r\n        private ValidationSummary_Unloaded (sender: any, e: RoutedEventArgs) {\r\n            if (this._RegisteredParent != null)\r\n                this._RegisteredParent.BindingValidationError.off(this.Target_BindingValidationError, this);\r\n            this.Unloaded.off(this.ValidationSummary_Unloaded, this);\r\n            //this._initialized = false;\r\n        }\r\n\r\n        private ValidationSummary_IsEnabledChanged (sender: any, e: DependencyPropertyChangedEventArgs) {\r\n            this.UpdateCommon(true);\r\n        }\r\n\r\n        private ValidationSummaryItem_PropertyChanged (sender: any, e: PropertyChangedEventArgs) {\r\n            if (!(e.PropertyName === \"ItemType\"))\r\n                return;\r\n            this.UpdateDisplayedErrors();\r\n        }\r\n\r\n        private UpdateValidation (useTransitions: boolean) {\r\n            var gotoFunc = (state: string) => Media.VSM.VisualStateManager.GoToState(this, state, useTransitions);\r\n            if (this._DisplayedErrors.Count > 0) {\r\n                this.SetCurrentValue(ValidationSummary.HasDisplayedErrorsProperty, true);\r\n                gotoFunc(\"HasErrors\");\r\n            } else {\r\n                this.SetCurrentValue(ValidationSummary.HasDisplayedErrorsProperty, false);\r\n                gotoFunc(\"Empty\");\r\n            }\r\n        }\r\n\r\n        private UpdateCommon (useTransitions: boolean) {\r\n            var gotoFunc = (state: string) => Media.VSM.VisualStateManager.GoToState(this, state, useTransitions);\r\n            if (this.IsEnabled)\r\n                gotoFunc(\"Normal\");\r\n            else\r\n                gotoFunc(\"Disabled\");\r\n        }\r\n\r\n        private UpdateHeaderText () {\r\n            var hcc = this._HeaderContentControl;\r\n            if (!hcc)\r\n                return;\r\n            hcc.Content = (this.Header != null) ? this.Header : this.GetHeaderString();\r\n        }\r\n\r\n        private UpdateDisplayedErrors () {\r\n            var showoe = (this.Filter & ValidationSummaryFilters.ObjectErrors) !== ValidationSummaryFilters.None;\r\n            var showpe = (this.Filter & ValidationSummaryFilters.PropertyErrors) !== ValidationSummaryFilters.None;\r\n\r\n            var arr: ValidationSummaryItem[] = [];\r\n            for (var en = this.Errors.getEnumerator(); en.moveNext();) {\r\n                var item = en.current;\r\n                if (!item)\r\n                    continue;\r\n                if (showoe && item.ItemType === ValidationSummaryItemType.ObjectError)\r\n                    arr.push(item);\r\n                else if (showpe && item.ItemType === ValidationSummaryItemType.PropertyError)\r\n                    arr.push(item);\r\n            }\r\n            arr.sort(compareSummaryItems);\r\n            this._DisplayedErrors.Clear();\r\n            this._DisplayedErrors.AddRange(arr);\r\n            this.UpdateValidation(true);\r\n            this.UpdateHeaderText();\r\n        }\r\n\r\n        private Target_BindingValidationError (sender: any, e: Validation.ValidationErrorEventArgs) {\r\n            var element = <FrameworkElement>e.OriginalSource;\r\n            if (!e || !e.Error || (e.Error.ErrorContent == null || !(element instanceof FrameworkElement)))\r\n                return;\r\n            var message = e.Error.ErrorContent.toString();\r\n            var key = (element.Name || ((<any>element)._ID).toString()) + message;\r\n            var dict = this._ValidationSummaryItemDictionary;\r\n            if (e.Action === Validation.ValidationErrorEventAction.Added) {\r\n                if (ValidationSummary.GetShowErrorsInSummary(element) === false)\r\n                    return;\r\n                var caption = e.Error.PropertyName;\r\n                var item = new ValidationSummaryItem(message, caption, ValidationSummaryItemType.PropertyError, new ValidationSummaryItemSource(caption, <Control>element), null);\r\n                this._Errors.Add(item);\r\n                dict[key] = item;\r\n            } else if (e.Action === Validation.ValidationErrorEventAction.Removed) {\r\n                if (dict[key]) {\r\n                    this._Errors.Remove(dict[key]);\r\n                    dict[key] = undefined;\r\n                }\r\n            }\r\n        }\r\n\r\n        private GetHeaderString (): string {\r\n            var count = this._DisplayedErrors.Count;\r\n            if (count === 1)\r\n                return \"1 Error\";\r\n            return count.toString() + \" Errors\";\r\n        }\r\n\r\n        private ExecuteClick (sender: any) {\r\n            var lb = <ListBox>sender;\r\n            if (!(lb instanceof ListBox))\r\n                return;\r\n            var item = <ValidationSummaryItem>lb.SelectedItem;\r\n            if (!(item instanceof ValidationSummaryItem) || !this.FocusControlsOnClick)\r\n                return;\r\n            if (item.Sources.Count === 0)\r\n                this._CurSummItemsSource = null;\r\n            else if (ValidationSummary.FindMatchingErrorSource(item.Sources, this._CurSummItemsSource) < 0)\r\n                this._CurSummItemsSource = item.Sources.GetValueAt(0);\r\n            var e = new FocusingInvalidControlEventArgs(item, this._CurSummItemsSource);\r\n            this.FocusingInvalidControl.raise(this, e);\r\n            if (!e.Handled && e.Target != null && e.Target.Control != null)\r\n                e.Target.Control.Focus();\r\n            if (item.Sources.Count <= 0)\r\n                return;\r\n            var matchingErrorSource = ValidationSummary.FindMatchingErrorSource(item.Sources, e.Target);\r\n            var index = matchingErrorSource < 0 ? 0 : (matchingErrorSource + 1) % item.Sources.Count;\r\n            this._CurSummItemsSource = item.Sources.GetValueAt(index);\r\n        }\r\n\r\n        private static FindMatchingErrorSource (sources: nullstone.ICollection<ValidationSummaryItemSource>, sourceToFind: ValidationSummaryItemSource): number {\r\n            if (!sources)\r\n                return -1;\r\n            for (var i = 0; i < sources.Count; i++) {\r\n                if (sources.GetValueAt(i).Equals(sourceToFind))\r\n                    return i;\r\n            }\r\n            return -1;\r\n        }\r\n\r\n        private static UpdateDisplayedErrorsOnAllValidationSummaries (parent: DependencyObject) {\r\n            if (!parent)\r\n                return;\r\n            if (parent instanceof  ValidationSummary) {\r\n                (<ValidationSummary>parent).UpdateDisplayedErrors();\r\n            } else {\r\n                for (var i = 0, count = VisualTreeHelper.GetChildrenCount(parent); i < count; i++) {\r\n                    ValidationSummary.UpdateDisplayedErrorsOnAllValidationSummaries(VisualTreeHelper.GetChild(parent, i));\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    TemplateVisualStates(ValidationSummary,\r\n        {GroupName: \"CommonStates\", Name: \"Normal\"},\r\n        {GroupName: \"CommonStates\", Name: \"Disabled\"},\r\n        {GroupName: \"ValidationStates\", Name: \"HasErrors\"},\r\n        {GroupName: \"ValidationStates\", Name: \"Empty\"});\r\n    TemplateParts(ValidationSummary,\r\n        {Name: \"SummaryListBox\", Type: ListBox});\r\n\r\n    class ValidationItemCollection extends ObservableCollection<ValidationSummaryItem> {\r\n        ClearErrors (errorType: ValidationSummaryItemType) {\r\n            var toremove: ValidationSummaryItem[] = [];\r\n            for (var en = this.getEnumerator(); en.moveNext();) {\r\n                if (en.current != null && en.current.ItemType === errorType)\r\n                    toremove.push(en.current);\r\n            }\r\n            for (var i = 0; i < toremove.length; i++) {\r\n                this.Remove(toremove[i]);\r\n            }\r\n        }\r\n\r\n        ClearItems () {\r\n            while (this.Count > 0) {\r\n                this.RemoveAt(0);\r\n            }\r\n        }\r\n    }\r\n}","module Fayde.Controls {\r\n    import ObservableCollection = Collections.ObservableCollection;\r\n\r\n    export class ValidationSummaryItem extends MVVM.ObservableObject {\r\n        Message: string;\r\n        MessageHeader: string;\r\n        ItemType: ValidationSummaryItemType;\r\n        Context: any;\r\n\r\n        private _Sources: ObservableCollection<ValidationSummaryItemSource>;\r\n        get Sources (): ObservableCollection<ValidationSummaryItemSource> {\r\n            return this._Sources;\r\n        }\r\n\r\n        constructor (message?: string, messageHeader?: string, itemType?: ValidationSummaryItemType, source?: ValidationSummaryItemSource, context?: any) {\r\n            super();\r\n            this.Message = message || null;\r\n            this.MessageHeader = messageHeader || null;\r\n            this.ItemType = itemType || ValidationSummaryItemType.ObjectError;\r\n            this._Sources = new ObservableCollection<ValidationSummaryItemSource>();\r\n            if (source != null)\r\n                this._Sources.Add(source);\r\n            this.Context = context;\r\n        }\r\n    }\r\n    Fayde.MVVM.NotifyProperties(ValidationSummaryItem, [\"Message\", \"MessageHeader\", \"ItemType\", \"Context\"]);\r\n}","module Fayde.Controls {\r\n    export class ValidationSummaryItemSource {\r\n        PropertyName: string;\r\n        Control: Control;\r\n\r\n        constructor (propertyName: string, control?: Control) {\r\n            Object.defineProperties(this, {\r\n                \"PropertyName\": {\r\n                    value: propertyName,\r\n                    writable: false\r\n                },\r\n                \"Control\": {\r\n                    value: control || null,\r\n                    writable: false\r\n                }\r\n            });\r\n        }\r\n\r\n        Equals (other: any): boolean {\r\n            if (!(other instanceof ValidationSummaryItemSource))\r\n                return false;\r\n            var vsis = <ValidationSummaryItemSource>other;\r\n            return vsis.PropertyName === this.PropertyName && vsis.Control === this.Control;\r\n        }\r\n    }\r\n}","module Fayde.Controls.viewbox.helpers {\r\n    export function computeScaleFactor (availableSize: minerva.ISize, contentSize: minerva.ISize, stretch: Media.Stretch, stretchDirection: StretchDirection) {\r\n        var scaleX = 1.0;\r\n        var scaleY = 1.0;\r\n\r\n        var isConstrainedWidth = isFinite(availableSize.width);\r\n        var isConstrainedHeight = isFinite(availableSize.height);\r\n\r\n        if ((stretch === Media.Stretch.Uniform || stretch === Media.Stretch.UniformToFill || stretch === Media.Stretch.Fill)\r\n            && (isConstrainedWidth || isConstrainedHeight)) {\r\n            scaleX = isZero(contentSize.width) ? 0.0 : availableSize.width / contentSize.width;\r\n            scaleY = isZero(contentSize.height) ? 0.0 : availableSize.height / contentSize.height;\r\n\r\n            if (!isConstrainedWidth)        scaleX = scaleY;\r\n            else if (!isConstrainedHeight)  scaleY = scaleX;\r\n            else {\r\n                switch (stretch) {\r\n                    case Media.Stretch.Uniform:\r\n                        var minscale = scaleX < scaleY ? scaleX : scaleY;\r\n                        scaleX = scaleY = minscale;\r\n                        break;\r\n                    case Media.Stretch.UniformToFill:\r\n                        var maxscale = scaleX > scaleY ? scaleX : scaleY;\r\n                        scaleX = scaleY = maxscale;\r\n                        break;\r\n                    case Media.Stretch.Fill:\r\n                        break;\r\n                }\r\n            }\r\n\r\n            //Apply stretch direction by bounding scales.\r\n            //In the uniform case, scaleX=scaleY, so this sort of clamping will maintain aspect ratio\r\n            //In the uniform fill case, we have the same result too.\r\n            //In the fill case, note that we change aspect ratio, but that is okay\r\n            switch (stretchDirection) {\r\n                case StretchDirection.UpOnly:\r\n                    if (scaleX < 1.0) scaleX = 1.0;\r\n                    if (scaleY < 1.0) scaleY = 1.0;\r\n                    break;\r\n\r\n                case StretchDirection.DownOnly:\r\n                    if (scaleX > 1.0) scaleX = 1.0;\r\n                    if (scaleY > 1.0) scaleY = 1.0;\r\n                    break;\r\n\r\n                case StretchDirection.Both:\r\n                    break;\r\n\r\n                default:\r\n                    break;\r\n            }\r\n        }\r\n\r\n        return new Size(scaleX, scaleY);\r\n    }\r\n\r\n    var epsilon: number = 1.192093E-07;\r\n    function isZero (val: number): boolean {\r\n        return Math.abs(val) < epsilon;\r\n    }\r\n}","module Fayde.Controls {\r\n    export class Viewbox extends FrameworkElement {\r\n        CreateLayoutUpdater () {\r\n            return new viewbox.ViewboxUpdater();\r\n        }\r\n\r\n        static ChildProperty = DependencyProperty.Register(\"Child\", () => UIElement, Viewbox);\r\n        static StretchProperty = DependencyProperty.Register(\"Stretch\", () => new Enum(Media.Stretch), Viewbox, undefined, (d: Viewbox, args) => d.InvalidateMeasure());\r\n        static StretchDirectionProperty = DependencyProperty.Register(\"StretchDirection\", () => new Enum(StretchDirection), Viewbox, undefined, (d: Viewbox, args) => d.InvalidateMeasure());\r\n        Child: UIElement;\r\n        Stretch: Media.Stretch;\r\n        StretchDirection: StretchDirection;\r\n    }\r\n    Markup.Content(Viewbox, Viewbox.ChildProperty);\r\n\r\n    module reactions {\r\n        UIReaction<Media.Stretch>(Viewbox.StretchProperty, (updater, ov, nv) => updater.invalidateMeasure(), false);\r\n        UIReaction<StretchDirection>(Viewbox.StretchDirectionProperty, (updater, ov, nv) => updater.invalidateMeasure(), false);\r\n        UIReaction<UIElement>(Viewbox.ChildProperty, (upd, ov, nv, viewbox?: Viewbox) => {\r\n            var node = viewbox.XamlNode;\r\n            var error = new BError();\r\n            if (ov instanceof Fayde.UIElement)\r\n                node.DetachVisualChild(ov, error);\r\n            if (nv instanceof Fayde.UIElement)\r\n                node.AttachVisualChild(nv, error);\r\n            if (error.Message)\r\n                error.ThrowException();\r\n            upd.updateBounds();\r\n            upd.invalidateMeasure();\r\n        }, false, false);\r\n    }\r\n}","module Fayde.Controls.viewbox {\r\n    export interface IViewboxUpdaterAssets extends minerva.core.IUpdaterAssets, processdown.IInput {\r\n        stretch: Media.Stretch;\r\n        stretchDirection: StretchDirection;\r\n    }\r\n\r\n    export class ViewboxUpdater extends minerva.anon.AnonymousUpdater {\r\n        tree: minerva.core.UpdaterTree;\r\n        assets: IViewboxUpdaterAssets;\r\n\r\n        init () {\r\n            this.setProcessDownPipe(minerva.singleton(processdown.ViewboxProcessDownPipeDef));\r\n\r\n            var assets = this.assets;\r\n            assets.stretch = Media.Stretch.Uniform;\r\n            assets.stretchDirection = StretchDirection.Both;\r\n            assets.viewXform = mat3.identity();\r\n\r\n            super.init();\r\n        }\r\n\r\n        measureOverride (availableSize: Size): Size {\r\n            var child = this.tree.subtree;\r\n            if (!child)\r\n                return new Size();\r\n\r\n            child.measure(new Size(Number.POSITIVE_INFINITY, Number.POSITIVE_INFINITY));\r\n\r\n            var childSize = child.assets.desiredSize;\r\n            var scalefac = helpers.computeScaleFactor(availableSize, childSize, this.assets.stretch, this.assets.stretchDirection);\r\n            return new Size(scalefac.width * childSize.width, scalefac.height * childSize.height);\r\n        }\r\n\r\n        arrangeOverride (finalSize: Size): Size {\r\n            var child = this.tree.subtree;\r\n            if (!child)\r\n                return new Size();\r\n\r\n            var assets = this.assets;\r\n            var childSize = child.assets.desiredSize;\r\n            var scale = helpers.computeScaleFactor(finalSize, childSize, assets.stretch, assets.stretchDirection);\r\n\r\n            child.arrange(new Rect(0, 0, childSize.width, childSize.height));\r\n\r\n            this.setViewXform(scale.width, scale.height);\r\n\r\n            return new Size(scale.width * childSize.width, scale.height * childSize.height);\r\n        }\r\n\r\n        private setViewXform (sx: number, sy: number) {\r\n            var assets = this.assets;\r\n            var xform = mat3.createScale(sx, sy);\r\n            if (!mat3.equal(assets.viewXform, xform)) {\r\n                mat3.copyTo(xform, assets.viewXform);\r\n                assets.dirtyFlags |= minerva.DirtyFlags.Transform;\r\n            }\r\n        }\r\n    }\r\n}","module Fayde.Controls.wrappanel {\r\n    export module helpers {\r\n        export function coerceChildSize (child: minerva.core.Updater, itemWidth: number, itemHeight: number) {\r\n            var node = child.getAttachedValue(\"$node\");\r\n            var xobj = node ? node.XObject : null;\r\n            if (!xobj)\r\n                return;\r\n            if (isNaN(child.assets.width) && !isNaN(itemWidth))\r\n                xobj.Width = itemWidth;\r\n            if (isNaN(child.assets.height) && !isNaN(itemHeight))\r\n                xobj.Height = itemHeight;\r\n        }\r\n    }\r\n}","module Fayde.Controls {\r\n    export class WrapPanel extends Fayde.Controls.Panel {\r\n        CreateLayoutUpdater () {\r\n            return new wrappanel.WrapPanelUpdater();\r\n        }\r\n\r\n        static OrientationProperty = DependencyProperty.Register(\"Orientation\", () => new Enum(Orientation), WrapPanel, Orientation.Horizontal);\r\n        static ItemWidthProperty = DependencyProperty.Register(\"ItemWidth\", () => Number, WrapPanel, NaN);\r\n        static ItemHeightProperty = DependencyProperty.Register(\"ItemHeight\", () => Number, WrapPanel, NaN);\r\n        Orientation: Fayde.Orientation;\r\n        ItemWidth: number;\r\n        ItemHeight: number;\r\n    }\r\n\r\n    module reactions {\r\n        UIReaction<Orientation>(WrapPanel.OrientationProperty, (upd, ov, nv) => upd.invalidateMeasure(), false);\r\n        UIReaction<number>(WrapPanel.ItemWidthProperty, (upd, ov, nv) => upd.invalidateMeasure(), false);\r\n        UIReaction<number>(WrapPanel.ItemHeightProperty, (upd, ov, nv) => upd.invalidateMeasure(), false);\r\n    }\r\n}\r\n","module Fayde.Controls.wrappanel {\r\n    export interface IWrapPanelUpdaterAssets extends minerva.controls.panel.IPanelUpdaterAssets, measure.IInput, arrange.IInput {\r\n    }\r\n\r\n    export class WrapPanelUpdater extends minerva.controls.panel.PanelUpdater {\r\n        assets: IWrapPanelUpdaterAssets;\r\n\r\n        init () {\r\n            this.setMeasurePipe(minerva.singleton(measure.WrapPanelMeasurePipeDef))\r\n                .setArrangePipe(minerva.singleton(arrange.WrapPanelArrangePipeDef));\r\n\r\n            var assets = this.assets;\r\n            assets.orientation = Orientation.Horizontal;\r\n            assets.itemWidth = NaN;\r\n            assets.itemHeight = NaN;\r\n\r\n            super.init();\r\n        }\r\n    }\r\n}","module Fayde.Controls.tabpanel.arrange {\r\n    import panel = minerva.controls.panel;\r\n    export interface IInput extends panel.arrange.IInput {\r\n        tabAlignment: Dock;\r\n        numRows: number;\r\n        numHeaders: number;\r\n        rowHeight: number;\r\n    }\r\n    export interface IState extends panel.arrange.IState {\r\n    }\r\n    export interface IOutput extends panel.arrange.IOutput {\r\n    }\r\n    export class TabPanelArrangePipeDef extends minerva.controls.panel.arrange.PanelArrangePipeDef {\r\n        constructor () {\r\n            super();\r\n            this.addTapinAfter('doOverride', 'doVertical', tapins.doVertical)\r\n                .addTapinAfter('doVertical', 'doHorizontal', tapins.doHorizontal)\r\n                .removeTapin('doOverride');\r\n        }\r\n    }\r\n}","module Fayde.Controls.tabpanel.measure {\r\n    import panel = minerva.controls.panel;\r\n    export interface IInput extends panel.measure.IInput {\r\n        tabAlignment: Dock;\r\n        numRows: number;\r\n        numHeaders: number;\r\n        rowHeight: number;\r\n    }\r\n    export interface IState extends panel.measure.IState {\r\n    }\r\n    export interface IOutput extends panel.measure.IOutput {\r\n        numRows: number;\r\n        numHeaders: number;\r\n        rowHeight: number;\r\n    }\r\n    export class TabPanelMeasurePipeDef extends panel.measure.PanelMeasurePipeDef {\r\n        constructor () {\r\n            super();\r\n            this.addTapinAfter('doOverride', 'doVertical', tapins.doVertical)\r\n                .addTapinAfter('doVertical', 'doHorizontal', tapins.doHorizontal)\r\n                .removeTapin('doOverride');\r\n        }\r\n\r\n        createOutput () {\r\n            var output = <IOutput>super.createOutput();\r\n            output.numRows = 1;\r\n            output.numHeaders = 0;\r\n            output.rowHeight = 0.0;\r\n            return output;\r\n        }\r\n\r\n        prepare (input: IInput, state: IState, output: IOutput) {\r\n            output.numRows = input.numRows;\r\n            output.numHeaders = input.numHeaders;\r\n            output.rowHeight = input.rowHeight;\r\n            super.prepare(input, state, output);\r\n        }\r\n\r\n        flush (input: IInput, state: IState, output: IOutput) {\r\n            super.flush(input, state, output);\r\n            input.numRows = output.numRows;\r\n            input.numHeaders = output.numHeaders;\r\n            input.rowHeight = output.rowHeight;\r\n        }\r\n    }\r\n}","module Fayde.Controls.viewbox.processdown {\r\n    export interface IInput extends minerva.core.processdown.IInput {\r\n        viewXform: number[];\r\n    }\r\n    export interface IState extends minerva.core.processdown.IState {\r\n    }\r\n    export interface IOutput extends minerva.core.processdown.IOutput {\r\n    }\r\n    export class ViewboxProcessDownPipeDef extends minerva.core.processdown.ProcessDownPipeDef {\r\n        constructor () {\r\n            super();\r\n            this.addTapinAfter('calcRenderXform', 'applyViewXform', tapins.applyViewXform);\r\n        }\r\n    }\r\n\r\n    module tapins {\r\n        export function applyViewXform (input: IInput, state: IState, output: IOutput, vpinput: IInput, tree: minerva.core.UpdaterTree): boolean {\r\n            if ((input.dirtyFlags & minerva.DirtyFlags.Transform) === 0)\r\n                return true;\r\n            mat3.preapply(output.renderXform, input.viewXform);\r\n            return true;\r\n        }\r\n    }\r\n}","module Fayde.Controls.wrappanel.arrange {\r\n    import panel = minerva.controls.panel;\r\n    export interface IInput extends panel.arrange.IInput {\r\n        orientation: Orientation;\r\n        itemWidth: number;\r\n        itemHeight: number;\r\n    }\r\n    export interface IState extends panel.arrange.IState {\r\n    }\r\n    export interface IOutput extends panel.arrange.IOutput {\r\n    }\r\n    export class WrapPanelArrangePipeDef extends panel.arrange.PanelArrangePipeDef {\r\n        constructor () {\r\n            super();\r\n            this.addTapinAfter('doOverride', 'doHorizontal', tapins.doHorizontal)\r\n                .addTapinAfter('doOverride', 'doVertical', tapins.doVertical)\r\n                .removeTapin('doOverride');\r\n        }\r\n    }\r\n}","module Fayde.Controls.wrappanel.measure {\r\n    import panel = minerva.controls.panel;\r\n    export interface IInput extends panel.measure.IInput {\r\n        orientation: Orientation;\r\n        itemWidth: number;\r\n        itemHeight: number;\r\n    }\r\n    export interface IState extends panel.measure.IState {\r\n    }\r\n    export interface IOutput extends panel.measure.IOutput {\r\n    }\r\n    export class WrapPanelMeasurePipeDef extends panel.measure.PanelMeasurePipeDef {\r\n        constructor () {\r\n            super();\r\n            this.addTapinAfter('doOverride', 'doHorizontal', tapins.doHorizontal)\r\n                .addTapinAfter('doOverride', 'doVertical', tapins.doVertical)\r\n                .removeTapin('doOverride');\r\n        }\r\n    }\r\n}","module Fayde.Controls.tabpanel.arrange.tapins {\r\n    import Size = minerva.Size;\r\n    import Rect = minerva.Rect;\r\n    import Point = minerva.Point;\r\n\r\n    export function doHorizontal (input: IInput, state: IState, output: IOutput, tree: minerva.controls.panel.PanelUpdaterTree, finalRect: minerva.Rect): boolean {\r\n        if (input.tabAlignment !== Dock.Top && input.tabAlignment !== Dock.Bottom)\r\n            return true;\r\n\r\n        var fs = state.finalSize;\r\n\r\n        var isMultiRow = input.numRows > 1;\r\n        var activeRow = 0;\r\n        var solution: number[] = [];\r\n        var childOffset = new Point();\r\n        var headersSize = helpers.getHeadersSize(tree);\r\n        if (isMultiRow) {\r\n            solution = helpers.calculateHeaderDistribution(tree, fs.width, headersSize);\r\n            activeRow = helpers.getActiveRow(tree, solution, input.tabAlignment === Dock.Top);\r\n            if (input.tabAlignment === Dock.Top)\r\n                childOffset.y = (input.numRows - 1.0 - activeRow) * input.rowHeight;\r\n            if (input.tabAlignment === Dock.Bottom && activeRow !== 0)\r\n                childOffset.y = (input.numRows - activeRow) * input.rowHeight;\r\n        }\r\n\r\n        var cr = state.childRect;\r\n        cr.x = cr.y = cr.width = cr.height = 0;\r\n        cr.height = input.rowHeight;\r\n\r\n        var childIndex = 0;\r\n        var separatorIndex = 0;\r\n        for (var walker = tree.walk(); walker.step();) {\r\n            var child = walker.current;\r\n            if (child.assets.visibility === minerva.Visibility.Collapsed)\r\n                continue;\r\n\r\n            cr.width = headersSize[childIndex];\r\n            cr.height = input.rowHeight;\r\n            var isLastHeaderInRow = isMultiRow && (separatorIndex < solution.length && solution[separatorIndex] === childIndex || childIndex === (input.numHeaders - 1));\r\n            if (isLastHeaderInRow)\r\n                cr.width = fs.width - childOffset.x;\r\n            child.arrange(cr);\r\n\r\n            cr.x += cr.width;\r\n            if (isLastHeaderInRow) {\r\n                if ((separatorIndex === activeRow && input.tabAlignment === Dock.Top) ||\r\n                    (separatorIndex === activeRow - 1 && input.tabAlignment === Dock.Bottom))\r\n                    childOffset.y = 0;\r\n                else\r\n                    childOffset.y += input.rowHeight;\r\n\r\n                childOffset.x = 0;\r\n                separatorIndex++;\r\n            }\r\n            childIndex++;\r\n        }\r\n\r\n        return true;\r\n    }\r\n}","module Fayde.Controls.tabpanel.arrange.tapins {\r\n    export function doVertical (input: IInput, state: IState, output: IOutput, tree: minerva.core.IUpdaterTree, finalRect: minerva.Rect): boolean {\r\n        if (input.tabAlignment !== Dock.Left && input.tabAlignment !== Dock.Right)\r\n            return true;\r\n\r\n        var cr = state.childRect;\r\n        cr.x = cr.y = 0;\r\n        cr.width = state.finalSize.width;\r\n        for (var walker = tree.walk(); walker.step();) {\r\n            var child = walker.current;\r\n            if (child.assets.visibility === minerva.Visibility.Collapsed)\r\n                continue;\r\n            helpers.setTabItemZ(child);\r\n            var sizeWithoutMargin = helpers.getDesiredSizeWithoutMargin(child);\r\n            cr.height = sizeWithoutMargin.height;\r\n            child.arrange(cr);\r\n            cr.y += sizeWithoutMargin.height;\r\n        }\r\n\r\n        return true;\r\n    }\r\n}","module Fayde.Controls.tabpanel.measure.tapins {\r\n    export function doHorizontal (input: IInput, state: IState, output: IOutput, tree: minerva.core.IUpdaterTree, availableSize: minerva.Size): boolean {\r\n        if (input.tabAlignment !== Dock.Top && input.tabAlignment !== Dock.Bottom)\r\n            return true;\r\n\r\n        var ds = output.desiredSize;\r\n        ds.width = ds.height = 0;\r\n        output.numRows = 1;\r\n        output.numHeaders = 0;\r\n        output.rowHeight = 0.0;\r\n\r\n        var count = 0;\r\n        var totalWidth = 0.0;\r\n        var num3 = 0.0;\r\n        for (var walker = tree.walk(); walker.step();) {\r\n            var child = walker.current;\r\n            if (child.assets.visibility === minerva.Visibility.Collapsed)\r\n                break;\r\n            output.numHeaders++;\r\n            child.measure(state.availableSize);\r\n\r\n            var sizeWithoutMargin = helpers.getDesiredSizeWithoutMargin(child);\r\n            if (output.rowHeight < sizeWithoutMargin.height)\r\n                output.rowHeight = sizeWithoutMargin.height;\r\n            if (totalWidth + sizeWithoutMargin.width > availableSize.width && count > 0) {\r\n                if (num3 < totalWidth)\r\n                    num3 = totalWidth;\r\n                totalWidth = sizeWithoutMargin.width;\r\n                count = 1;\r\n                output.numRows++;\r\n            }\r\n            else {\r\n                totalWidth += sizeWithoutMargin.width;\r\n                count++;\r\n            }\r\n        }\r\n\r\n        if (num3 < totalWidth)\r\n            num3 = totalWidth;\r\n        ds.height = output.rowHeight * output.numRows;\r\n        ds.width = !isFinite(ds.width) || isNaN(ds.width) || num3 < availableSize.width ? num3 : availableSize.width;\r\n\r\n        return true;\r\n    }\r\n}","module Fayde.Controls.tabpanel.measure.tapins {\r\n    export function doVertical (input: IInput, state: IState, output: IOutput, tree: minerva.core.IUpdaterTree, availableSize: minerva.Size): boolean {\r\n        if (input.tabAlignment !== Dock.Left && input.tabAlignment !== Dock.Right)\r\n            return true;\r\n\r\n        var ds = output.desiredSize;\r\n        ds.width = ds.height = 0;\r\n        output.numRows = 1;\r\n        output.numHeaders = 0;\r\n        output.rowHeight = 0.0;\r\n\r\n        for (var walker = tree.walk(); walker.step();) {\r\n            var child = walker.current;\r\n            if (child.assets.visibility === minerva.Visibility.Collapsed)\r\n                break;\r\n            output.numHeaders++;\r\n            child.measure(state.availableSize);\r\n\r\n            var sizeWithoutMargin = helpers.getDesiredSizeWithoutMargin(child);\r\n            if (ds.width < sizeWithoutMargin.width)\r\n                ds.width = sizeWithoutMargin.width;\r\n            ds.height += sizeWithoutMargin.height;\r\n        }\r\n\r\n        return true;\r\n    }\r\n}","module Fayde.Controls.wrappanel.arrange.tapins {\r\n    import Size = minerva.Size;\r\n    import Rect = minerva.Rect;\r\n\r\n    export function doHorizontal (input: IInput, state: IState, output: IOutput, tree: minerva.core.IUpdaterTree, finalRect: Rect): boolean {\r\n        if (input.orientation !== Orientation.Horizontal)\r\n            return true;\r\n\r\n        var fs = state.finalSize;\r\n        var as = state.arrangedSize;\r\n        Size.copyTo(fs, as);\r\n\r\n        var cr = state.childRect;\r\n        cr.x = cr.y = cr.width = cr.height = 0;\r\n\r\n        var rowHeight = 0;\r\n        for (var walker = tree.walk(); walker.step();) {\r\n            var child = walker.current;\r\n            var childDesired = child.assets.desiredSize;\r\n            if (fs.width < (cr.x + childDesired.width)) {  // needs to start another row\r\n                cr.x = 0;  // reset offsetX to 0\r\n                cr.y += rowHeight; //offsetY + lastrow height\r\n                rowHeight = 0;  //reset row spacing\r\n            }\r\n            rowHeight = Math.max(rowHeight, childDesired.height);\r\n            Size.copyTo(childDesired, cr);\r\n            child.arrange(cr);\r\n            cr.x += childDesired.width;\r\n        }\r\n        as.width = Math.max(as.width, fs.width);\r\n\r\n        return true;\r\n    }\r\n}","module Fayde.Controls.wrappanel.arrange.tapins {\r\n    import Size = minerva.Size;\r\n    import Rect = minerva.Rect;\r\n\r\n    export function doVertical (input: IInput, state: IState, output: IOutput, tree: minerva.core.IUpdaterTree, finalRect: Rect): boolean {\r\n        if (input.orientation !== Orientation.Vertical)\r\n            return true;\r\n\r\n        var fs = state.finalSize;\r\n        var as = state.arrangedSize;\r\n        Size.copyTo(fs, as);\r\n\r\n        var cr = state.childRect;\r\n        cr.x = cr.y = cr.width = cr.height = 0;\r\n\r\n        var colWidth = 0;\r\n        for (var walker = tree.walk(); walker.step();) {\r\n            var child = walker.current;\r\n            var childDesired = child.assets.desiredSize;\r\n            if (fs.height < (cr.y + childDesired.height)) {  // needs to start another col\r\n                cr.x += colWidth;   //and colWidth\r\n                cr.y = 0;           //reset OffsetY to top\r\n                colWidth = 0;          //reset colWidth\r\n            }\r\n            colWidth = Math.max(colWidth, childDesired.width);\r\n            Size.copyTo(childDesired, cr);\r\n            child.arrange(cr);\r\n            cr.y += childDesired.height;\r\n        }\r\n        as.height = Math.max(as.height, fs.height);\r\n\r\n        return true;\r\n    }\r\n}","module Fayde.Controls.wrappanel.measure.tapins {\r\n    import Size = minerva.Size;\r\n\r\n    export function doHorizontal (input: IInput, state: IState, output: IOutput, tree: minerva.core.IUpdaterTree, availableSize: Size): boolean {\r\n        if (input.orientation !== Orientation.Horizontal)\r\n            return true;\r\n\r\n        var as = state.availableSize;\r\n        if (!isNaN(input.height))\r\n            as.height = input.height;\r\n        as.height = Math.min(as.height, input.maxHeight);\r\n        as.height = Math.max(as.height, input.minHeight);\r\n\r\n        var ds = output.desiredSize;\r\n        ds.width = ds.height = 0;\r\n\r\n        var rowHeight = 0;\r\n        var offsetX = 0;\r\n        var offsetY = 0;\r\n        for (var walker = tree.walk(); walker.step();) {\r\n            var child = walker.current;\r\n            //TODO: We should coerce width/height before measure\r\n            helpers.coerceChildSize(child, input.itemWidth, input.itemHeight);\r\n            child.measure(as);\r\n\r\n            var childDesired = child.assets.desiredSize;\r\n            if (as.width < (offsetX + childDesired.width)) {  // needs to start another row\r\n                offsetX = 0;  // reset offsetX to 0\r\n                offsetY += rowHeight;\r\n                rowHeight = 0;  //reset row height\r\n            }\r\n            rowHeight = Math.max(rowHeight, childDesired.height);\r\n\r\n            ds.height = Math.max(ds.height, offsetY + childDesired.height);\r\n            ds.width = Math.max(ds.width, offsetX + childDesired.width);\r\n            offsetX += childDesired.width;\r\n        }\r\n\r\n        return true;\r\n    }\r\n}","module Fayde.Controls.wrappanel.measure.tapins {\r\n    import Size = minerva.Size;\r\n\r\n    export function doVertical (input: IInput, state: IState, output: IOutput, tree: minerva.core.IUpdaterTree, availableSize: Size): boolean {\r\n        if (input.orientation !== Orientation.Vertical)\r\n            return true;\r\n\r\n        var as = state.availableSize;\r\n        if (!isNaN(input.width))\r\n            as.width = input.width;\r\n        as.width = Math.min(as.width, input.maxWidth);\r\n        as.width = Math.max(as.width, input.minWidth);\r\n\r\n        var ds = output.desiredSize;\r\n        ds.width = ds.height = 0;\r\n\r\n        var colWidth = 0;\r\n        var offsetX = 0;\r\n        var offsetY = 0;\r\n        for (var walker = tree.walk(); walker.step();) {\r\n            var child = walker.current;\r\n            //TODO: We should coerce width/height before measure\r\n            helpers.coerceChildSize(child, input.itemWidth, input.itemHeight);\r\n            child.measure(as);\r\n\r\n            var childDesired = child.assets.desiredSize;\r\n            if (as.height < (offsetY + childDesired.height)) {  // needs to start another col\r\n                offsetX += colWidth;\r\n                offsetY = 0; //reset offsetY to 0\r\n                colWidth = 0; //reset col spacing\r\n            }\r\n            colWidth = Math.max(colWidth, childDesired.width);\r\n\r\n            ds.height = Math.max(ds.height, offsetY + childDesired.height);\r\n            ds.width = Math.max(ds.width, offsetX + childDesired.width);\r\n            offsetY += childDesired.height;\r\n        }\r\n\r\n        return true;\r\n    }\r\n}"],"sourceRoot":"/source/"}